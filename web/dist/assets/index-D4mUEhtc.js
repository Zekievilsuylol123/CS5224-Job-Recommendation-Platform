var X0=e=>{throw TypeError(e)};var Ec=(e,t,n)=>t.has(e)||X0("Cannot "+n);var I=(e,t,n)=>(Ec(e,t,"read from private field"),n?n.call(e):t.get(e)),re=(e,t,n)=>t.has(e)?X0("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),J=(e,t,n,r)=>(Ec(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),ye=(e,t,n)=>(Ec(e,t,"access private method"),n);var Ko=(e,t,n,r)=>({set _(s){J(e,t,s,n)},get _(){return I(e,t,r)}});function P1(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var Yl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ju(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function dv(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var s=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return e[r]}})}),n}var L1={exports:{}},Du={},j1={exports:{}},ge={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ao=Symbol.for("react.element"),hv=Symbol.for("react.portal"),fv=Symbol.for("react.fragment"),pv=Symbol.for("react.strict_mode"),mv=Symbol.for("react.profiler"),gv=Symbol.for("react.provider"),yv=Symbol.for("react.context"),xv=Symbol.for("react.forward_ref"),bv=Symbol.for("react.suspense"),Ev=Symbol.for("react.memo"),vv=Symbol.for("react.lazy"),J0=Symbol.iterator;function _v(e){return e===null||typeof e!="object"?null:(e=J0&&e[J0]||e["@@iterator"],typeof e=="function"?e:null)}var D1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},M1=Object.assign,B1={};function qi(e,t,n){this.props=e,this.context=t,this.refs=B1,this.updater=n||D1}qi.prototype.isReactComponent={};qi.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};qi.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function F1(){}F1.prototype=qi.prototype;function mf(e,t,n){this.props=e,this.context=t,this.refs=B1,this.updater=n||D1}var gf=mf.prototype=new F1;gf.constructor=mf;M1(gf,qi.prototype);gf.isPureReactComponent=!0;var Z0=Array.isArray,U1=Object.prototype.hasOwnProperty,yf={current:null},H1={key:!0,ref:!0,__self:!0,__source:!0};function $1(e,t,n){var r,s={},i=null,a=null;if(t!=null)for(r in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(i=""+t.key),t)U1.call(t,r)&&!H1.hasOwnProperty(r)&&(s[r]=t[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];s.children=u}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:Ao,type:e,key:i,ref:a,props:s,_owner:yf.current}}function Tv(e,t){return{$$typeof:Ao,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function xf(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ao}function wv(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var ep=/\/+/g;function vc(e,t){return typeof e=="object"&&e!==null&&e.key!=null?wv(""+e.key):t.toString(36)}function Il(e,t,n,r,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case Ao:case hv:a=!0}}if(a)return a=e,s=s(a),e=r===""?"."+vc(a,0):r,Z0(s)?(n="",e!=null&&(n=e.replace(ep,"$&/")+"/"),Il(s,t,n,"",function(c){return c})):s!=null&&(xf(s)&&(s=Tv(s,n+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(ep,"$&/")+"/")+e)),t.push(s)),1;if(a=0,r=r===""?".":r+":",Z0(e))for(var l=0;l<e.length;l++){i=e[l];var u=r+vc(i,l);a+=Il(i,t,n,u,s)}else if(u=_v(e),typeof u=="function")for(e=u.call(e),l=0;!(i=e.next()).done;)i=i.value,u=r+vc(i,l++),a+=Il(i,t,n,u,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function Qo(e,t,n){if(e==null)return e;var r=[],s=0;return Il(e,r,"","",function(i){return t.call(n,i,s++)}),r}function Sv(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ot={current:null},Ol={transition:null},Nv={ReactCurrentDispatcher:Ot,ReactCurrentBatchConfig:Ol,ReactCurrentOwner:yf};function z1(){throw Error("act(...) is not supported in production builds of React.")}ge.Children={map:Qo,forEach:function(e,t,n){Qo(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Qo(e,function(){t++}),t},toArray:function(e){return Qo(e,function(t){return t})||[]},only:function(e){if(!xf(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ge.Component=qi;ge.Fragment=fv;ge.Profiler=mv;ge.PureComponent=mf;ge.StrictMode=pv;ge.Suspense=bv;ge.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Nv;ge.act=z1;ge.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=M1({},e.props),s=e.key,i=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,a=yf.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(u in t)U1.call(t,u)&&!H1.hasOwnProperty(u)&&(r[u]=t[u]===void 0&&l!==void 0?l[u]:t[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){l=Array(u);for(var c=0;c<u;c++)l[c]=arguments[c+2];r.children=l}return{$$typeof:Ao,type:e.type,key:s,ref:i,props:r,_owner:a}};ge.createContext=function(e){return e={$$typeof:yv,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:gv,_context:e},e.Consumer=e};ge.createElement=$1;ge.createFactory=function(e){var t=$1.bind(null,e);return t.type=e,t};ge.createRef=function(){return{current:null}};ge.forwardRef=function(e){return{$$typeof:xv,render:e}};ge.isValidElement=xf;ge.lazy=function(e){return{$$typeof:vv,_payload:{_status:-1,_result:e},_init:Sv}};ge.memo=function(e,t){return{$$typeof:Ev,type:e,compare:t===void 0?null:t}};ge.startTransition=function(e){var t=Ol.transition;Ol.transition={};try{e()}finally{Ol.transition=t}};ge.unstable_act=z1;ge.useCallback=function(e,t){return Ot.current.useCallback(e,t)};ge.useContext=function(e){return Ot.current.useContext(e)};ge.useDebugValue=function(){};ge.useDeferredValue=function(e){return Ot.current.useDeferredValue(e)};ge.useEffect=function(e,t){return Ot.current.useEffect(e,t)};ge.useId=function(){return Ot.current.useId()};ge.useImperativeHandle=function(e,t,n){return Ot.current.useImperativeHandle(e,t,n)};ge.useInsertionEffect=function(e,t){return Ot.current.useInsertionEffect(e,t)};ge.useLayoutEffect=function(e,t){return Ot.current.useLayoutEffect(e,t)};ge.useMemo=function(e,t){return Ot.current.useMemo(e,t)};ge.useReducer=function(e,t,n){return Ot.current.useReducer(e,t,n)};ge.useRef=function(e){return Ot.current.useRef(e)};ge.useState=function(e){return Ot.current.useState(e)};ge.useSyncExternalStore=function(e,t,n){return Ot.current.useSyncExternalStore(e,t,n)};ge.useTransition=function(){return Ot.current.useTransition()};ge.version="18.3.1";j1.exports=ge;var A=j1.exports;const bf=ju(A),kv=P1({__proto__:null,default:bf},[A]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cv=A,Av=Symbol.for("react.element"),Iv=Symbol.for("react.fragment"),Ov=Object.prototype.hasOwnProperty,Rv=Cv.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Pv={key:!0,ref:!0,__self:!0,__source:!0};function W1(e,t,n){var r,s={},i=null,a=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(a=t.ref);for(r in t)Ov.call(t,r)&&!Pv.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:Av,type:e,key:i,ref:a,props:s,_owner:Rv.current}}Du.Fragment=Iv;Du.jsx=W1;Du.jsxs=W1;L1.exports=Du;var o=L1.exports,Td={},V1={exports:{}},tn={},q1={exports:{}},Y1={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(Y,ee){var w=Y.length;Y.push(ee);e:for(;0<w;){var j=w-1>>>1,G=Y[j];if(0<s(G,ee))Y[j]=ee,Y[w]=G,w=j;else break e}}function n(Y){return Y.length===0?null:Y[0]}function r(Y){if(Y.length===0)return null;var ee=Y[0],w=Y.pop();if(w!==ee){Y[0]=w;e:for(var j=0,G=Y.length,k=G>>>1;j<k;){var ce=2*(j+1)-1,it=Y[ce],pe=ce+1,at=Y[pe];if(0>s(it,w))pe<G&&0>s(at,it)?(Y[j]=at,Y[pe]=w,j=pe):(Y[j]=it,Y[ce]=w,j=ce);else if(pe<G&&0>s(at,w))Y[j]=at,Y[pe]=w,j=pe;else break e}}return ee}function s(Y,ee){var w=Y.sortIndex-ee.sortIndex;return w!==0?w:Y.id-ee.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var a=Date,l=a.now();e.unstable_now=function(){return a.now()-l}}var u=[],c=[],h=1,f=null,m=3,p=!1,b=!1,E=!1,v=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(Y){for(var ee=n(c);ee!==null;){if(ee.callback===null)r(c);else if(ee.startTime<=Y)r(c),ee.sortIndex=ee.expirationTime,t(u,ee);else break;ee=n(c)}}function S(Y){if(E=!1,x(Y),!b)if(n(u)!==null)b=!0,_e(P);else{var ee=n(c);ee!==null&&we(S,ee.startTime-Y)}}function P(Y,ee){b=!1,E&&(E=!1,g(R),R=-1),p=!0;var w=m;try{for(x(ee),f=n(u);f!==null&&(!(f.expirationTime>ee)||Y&&!$());){var j=f.callback;if(typeof j=="function"){f.callback=null,m=f.priorityLevel;var G=j(f.expirationTime<=ee);ee=e.unstable_now(),typeof G=="function"?f.callback=G:f===n(u)&&r(u),x(ee)}else r(u);f=n(u)}if(f!==null)var k=!0;else{var ce=n(c);ce!==null&&we(S,ce.startTime-ee),k=!1}return k}finally{f=null,m=w,p=!1}}var C=!1,M=null,R=-1,U=5,B=-1;function $(){return!(e.unstable_now()-B<U)}function Q(){if(M!==null){var Y=e.unstable_now();B=Y;var ee=!0;try{ee=M(!0,Y)}finally{ee?ie():(C=!1,M=null)}}else C=!1}var ie;if(typeof y=="function")ie=function(){y(Q)};else if(typeof MessageChannel<"u"){var be=new MessageChannel,se=be.port2;be.port1.onmessage=Q,ie=function(){se.postMessage(null)}}else ie=function(){v(Q,0)};function _e(Y){M=Y,C||(C=!0,ie())}function we(Y,ee){R=v(function(){Y(e.unstable_now())},ee)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(Y){Y.callback=null},e.unstable_continueExecution=function(){b||p||(b=!0,_e(P))},e.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<Y?Math.floor(1e3/Y):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return n(u)},e.unstable_next=function(Y){switch(m){case 1:case 2:case 3:var ee=3;break;default:ee=m}var w=m;m=ee;try{return Y()}finally{m=w}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(Y,ee){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var w=m;m=Y;try{return ee()}finally{m=w}},e.unstable_scheduleCallback=function(Y,ee,w){var j=e.unstable_now();switch(typeof w=="object"&&w!==null?(w=w.delay,w=typeof w=="number"&&0<w?j+w:j):w=j,Y){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=w+G,Y={id:h++,callback:ee,priorityLevel:Y,startTime:w,expirationTime:G,sortIndex:-1},w>j?(Y.sortIndex=w,t(c,Y),n(u)===null&&Y===n(c)&&(E?(g(R),R=-1):E=!0,we(S,w-j))):(Y.sortIndex=G,t(u,Y),b||p||(b=!0,_e(P))),Y},e.unstable_shouldYield=$,e.unstable_wrapCallback=function(Y){var ee=m;return function(){var w=m;m=ee;try{return Y.apply(this,arguments)}finally{m=w}}}})(Y1);q1.exports=Y1;var Lv=q1.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jv=A,en=Lv;function W(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var G1=new Set,Qa={};function js(e,t){Li(e,t),Li(e+"Capture",t)}function Li(e,t){for(Qa[e]=t,e=0;e<t.length;e++)G1.add(t[e])}var sr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),wd=Object.prototype.hasOwnProperty,Dv=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,tp={},np={};function Mv(e){return wd.call(np,e)?!0:wd.call(tp,e)?!1:Dv.test(e)?np[e]=!0:(tp[e]=!0,!1)}function Bv(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Fv(e,t,n,r){if(t===null||typeof t>"u"||Bv(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Rt(e,t,n,r,s,i,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=a}var xt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){xt[e]=new Rt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];xt[t]=new Rt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){xt[e]=new Rt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){xt[e]=new Rt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){xt[e]=new Rt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){xt[e]=new Rt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){xt[e]=new Rt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){xt[e]=new Rt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){xt[e]=new Rt(e,5,!1,e.toLowerCase(),null,!1,!1)});var Ef=/[\-:]([a-z])/g;function vf(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Ef,vf);xt[t]=new Rt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Ef,vf);xt[t]=new Rt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Ef,vf);xt[t]=new Rt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){xt[e]=new Rt(e,1,!1,e.toLowerCase(),null,!1,!1)});xt.xlinkHref=new Rt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){xt[e]=new Rt(e,1,!1,e.toLowerCase(),null,!0,!0)});function _f(e,t,n,r){var s=xt.hasOwnProperty(t)?xt[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Fv(t,n,s,r)&&(n=null),r||s===null?Mv(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var ur=jv.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Xo=Symbol.for("react.element"),Zs=Symbol.for("react.portal"),ei=Symbol.for("react.fragment"),Tf=Symbol.for("react.strict_mode"),Sd=Symbol.for("react.profiler"),K1=Symbol.for("react.provider"),Q1=Symbol.for("react.context"),wf=Symbol.for("react.forward_ref"),Nd=Symbol.for("react.suspense"),kd=Symbol.for("react.suspense_list"),Sf=Symbol.for("react.memo"),Er=Symbol.for("react.lazy"),X1=Symbol.for("react.offscreen"),rp=Symbol.iterator;function la(e){return e===null||typeof e!="object"?null:(e=rp&&e[rp]||e["@@iterator"],typeof e=="function"?e:null)}var ze=Object.assign,_c;function _a(e){if(_c===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);_c=t&&t[1]||""}return`
`+_c+e}var Tc=!1;function wc(e,t){if(!e||Tc)return"";Tc=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),a=s.length-1,l=i.length-1;1<=a&&0<=l&&s[a]!==i[l];)l--;for(;1<=a&&0<=l;a--,l--)if(s[a]!==i[l]){if(a!==1||l!==1)do if(a--,l--,0>l||s[a]!==i[l]){var u=`
`+s[a].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}while(1<=a&&0<=l);break}}}finally{Tc=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?_a(e):""}function Uv(e){switch(e.tag){case 5:return _a(e.type);case 16:return _a("Lazy");case 13:return _a("Suspense");case 19:return _a("SuspenseList");case 0:case 2:case 15:return e=wc(e.type,!1),e;case 11:return e=wc(e.type.render,!1),e;case 1:return e=wc(e.type,!0),e;default:return""}}function Cd(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ei:return"Fragment";case Zs:return"Portal";case Sd:return"Profiler";case Tf:return"StrictMode";case Nd:return"Suspense";case kd:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Q1:return(e.displayName||"Context")+".Consumer";case K1:return(e._context.displayName||"Context")+".Provider";case wf:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Sf:return t=e.displayName||null,t!==null?t:Cd(e.type)||"Memo";case Er:t=e._payload,e=e._init;try{return Cd(e(t))}catch{}}return null}function Hv(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Cd(t);case 8:return t===Tf?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Gr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function J1(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function $v(e){var t=J1(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(a){r=""+a,i.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Jo(e){e._valueTracker||(e._valueTracker=$v(e))}function Z1(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=J1(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Gl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ad(e,t){var n=t.checked;return ze({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function sp(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Gr(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function ey(e,t){t=t.checked,t!=null&&_f(e,"checked",t,!1)}function Id(e,t){ey(e,t);var n=Gr(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Od(e,t.type,n):t.hasOwnProperty("defaultValue")&&Od(e,t.type,Gr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function ip(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Od(e,t,n){(t!=="number"||Gl(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Ta=Array.isArray;function hi(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Gr(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Rd(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(W(91));return ze({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ap(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(W(92));if(Ta(n)){if(1<n.length)throw Error(W(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Gr(n)}}function ty(e,t){var n=Gr(t.value),r=Gr(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function op(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function ny(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Pd(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?ny(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Zo,ry=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Zo=Zo||document.createElement("div"),Zo.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Zo.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Xa(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Ia={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},zv=["Webkit","ms","Moz","O"];Object.keys(Ia).forEach(function(e){zv.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ia[t]=Ia[e]})});function sy(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Ia.hasOwnProperty(e)&&Ia[e]?(""+t).trim():t+"px"}function iy(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=sy(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var Wv=ze({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ld(e,t){if(t){if(Wv[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(W(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(W(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(W(61))}if(t.style!=null&&typeof t.style!="object")throw Error(W(62))}}function jd(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Dd=null;function Nf(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Md=null,fi=null,pi=null;function lp(e){if(e=Ro(e)){if(typeof Md!="function")throw Error(W(280));var t=e.stateNode;t&&(t=Hu(t),Md(e.stateNode,e.type,t))}}function ay(e){fi?pi?pi.push(e):pi=[e]:fi=e}function oy(){if(fi){var e=fi,t=pi;if(pi=fi=null,lp(e),t)for(e=0;e<t.length;e++)lp(t[e])}}function ly(e,t){return e(t)}function uy(){}var Sc=!1;function cy(e,t,n){if(Sc)return e(t,n);Sc=!0;try{return ly(e,t,n)}finally{Sc=!1,(fi!==null||pi!==null)&&(uy(),oy())}}function Ja(e,t){var n=e.stateNode;if(n===null)return null;var r=Hu(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(W(231,t,typeof n));return n}var Bd=!1;if(sr)try{var ua={};Object.defineProperty(ua,"passive",{get:function(){Bd=!0}}),window.addEventListener("test",ua,ua),window.removeEventListener("test",ua,ua)}catch{Bd=!1}function Vv(e,t,n,r,s,i,a,l,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(h){this.onError(h)}}var Oa=!1,Kl=null,Ql=!1,Fd=null,qv={onError:function(e){Oa=!0,Kl=e}};function Yv(e,t,n,r,s,i,a,l,u){Oa=!1,Kl=null,Vv.apply(qv,arguments)}function Gv(e,t,n,r,s,i,a,l,u){if(Yv.apply(this,arguments),Oa){if(Oa){var c=Kl;Oa=!1,Kl=null}else throw Error(W(198));Ql||(Ql=!0,Fd=c)}}function Ds(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function dy(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function up(e){if(Ds(e)!==e)throw Error(W(188))}function Kv(e){var t=e.alternate;if(!t){if(t=Ds(e),t===null)throw Error(W(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return up(s),e;if(i===r)return up(s),t;i=i.sibling}throw Error(W(188))}if(n.return!==r.return)n=s,r=i;else{for(var a=!1,l=s.child;l;){if(l===n){a=!0,n=s,r=i;break}if(l===r){a=!0,r=s,n=i;break}l=l.sibling}if(!a){for(l=i.child;l;){if(l===n){a=!0,n=i,r=s;break}if(l===r){a=!0,r=i,n=s;break}l=l.sibling}if(!a)throw Error(W(189))}}if(n.alternate!==r)throw Error(W(190))}if(n.tag!==3)throw Error(W(188));return n.stateNode.current===n?e:t}function hy(e){return e=Kv(e),e!==null?fy(e):null}function fy(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=fy(e);if(t!==null)return t;e=e.sibling}return null}var py=en.unstable_scheduleCallback,cp=en.unstable_cancelCallback,Qv=en.unstable_shouldYield,Xv=en.unstable_requestPaint,Ye=en.unstable_now,Jv=en.unstable_getCurrentPriorityLevel,kf=en.unstable_ImmediatePriority,my=en.unstable_UserBlockingPriority,Xl=en.unstable_NormalPriority,Zv=en.unstable_LowPriority,gy=en.unstable_IdlePriority,Mu=null,Hn=null;function e_(e){if(Hn&&typeof Hn.onCommitFiberRoot=="function")try{Hn.onCommitFiberRoot(Mu,e,void 0,(e.current.flags&128)===128)}catch{}}var Nn=Math.clz32?Math.clz32:r_,t_=Math.log,n_=Math.LN2;function r_(e){return e>>>=0,e===0?32:31-(t_(e)/n_|0)|0}var el=64,tl=4194304;function wa(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Jl(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,i=e.pingedLanes,a=n&268435455;if(a!==0){var l=a&~s;l!==0?r=wa(l):(i&=a,i!==0&&(r=wa(i)))}else a=n&~s,a!==0?r=wa(a):i!==0&&(r=wa(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Nn(t),s=1<<n,r|=e[n],t&=~s;return r}function s_(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function i_(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var a=31-Nn(i),l=1<<a,u=s[a];u===-1?(!(l&n)||l&r)&&(s[a]=s_(l,t)):u<=t&&(e.expiredLanes|=l),i&=~l}}function Ud(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function yy(){var e=el;return el<<=1,!(el&4194240)&&(el=64),e}function Nc(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Io(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Nn(t),e[t]=n}function a_(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-Nn(n),i=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~i}}function Cf(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Nn(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var Ne=0;function xy(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var by,Af,Ey,vy,_y,Hd=!1,nl=[],Br=null,Fr=null,Ur=null,Za=new Map,eo=new Map,_r=[],o_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function dp(e,t){switch(e){case"focusin":case"focusout":Br=null;break;case"dragenter":case"dragleave":Fr=null;break;case"mouseover":case"mouseout":Ur=null;break;case"pointerover":case"pointerout":Za.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":eo.delete(t.pointerId)}}function ca(e,t,n,r,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},t!==null&&(t=Ro(t),t!==null&&Af(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function l_(e,t,n,r,s){switch(t){case"focusin":return Br=ca(Br,e,t,n,r,s),!0;case"dragenter":return Fr=ca(Fr,e,t,n,r,s),!0;case"mouseover":return Ur=ca(Ur,e,t,n,r,s),!0;case"pointerover":var i=s.pointerId;return Za.set(i,ca(Za.get(i)||null,e,t,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,eo.set(i,ca(eo.get(i)||null,e,t,n,r,s)),!0}return!1}function Ty(e){var t=ds(e.target);if(t!==null){var n=Ds(t);if(n!==null){if(t=n.tag,t===13){if(t=dy(n),t!==null){e.blockedOn=t,_y(e.priority,function(){Ey(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Rl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=$d(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Dd=r,n.target.dispatchEvent(r),Dd=null}else return t=Ro(n),t!==null&&Af(t),e.blockedOn=n,!1;t.shift()}return!0}function hp(e,t,n){Rl(e)&&n.delete(t)}function u_(){Hd=!1,Br!==null&&Rl(Br)&&(Br=null),Fr!==null&&Rl(Fr)&&(Fr=null),Ur!==null&&Rl(Ur)&&(Ur=null),Za.forEach(hp),eo.forEach(hp)}function da(e,t){e.blockedOn===t&&(e.blockedOn=null,Hd||(Hd=!0,en.unstable_scheduleCallback(en.unstable_NormalPriority,u_)))}function to(e){function t(s){return da(s,e)}if(0<nl.length){da(nl[0],e);for(var n=1;n<nl.length;n++){var r=nl[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Br!==null&&da(Br,e),Fr!==null&&da(Fr,e),Ur!==null&&da(Ur,e),Za.forEach(t),eo.forEach(t),n=0;n<_r.length;n++)r=_r[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<_r.length&&(n=_r[0],n.blockedOn===null);)Ty(n),n.blockedOn===null&&_r.shift()}var mi=ur.ReactCurrentBatchConfig,Zl=!0;function c_(e,t,n,r){var s=Ne,i=mi.transition;mi.transition=null;try{Ne=1,If(e,t,n,r)}finally{Ne=s,mi.transition=i}}function d_(e,t,n,r){var s=Ne,i=mi.transition;mi.transition=null;try{Ne=4,If(e,t,n,r)}finally{Ne=s,mi.transition=i}}function If(e,t,n,r){if(Zl){var s=$d(e,t,n,r);if(s===null)Dc(e,t,r,eu,n),dp(e,r);else if(l_(s,e,t,n,r))r.stopPropagation();else if(dp(e,r),t&4&&-1<o_.indexOf(e)){for(;s!==null;){var i=Ro(s);if(i!==null&&by(i),i=$d(e,t,n,r),i===null&&Dc(e,t,r,eu,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Dc(e,t,r,null,n)}}var eu=null;function $d(e,t,n,r){if(eu=null,e=Nf(r),e=ds(e),e!==null)if(t=Ds(e),t===null)e=null;else if(n=t.tag,n===13){if(e=dy(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return eu=e,null}function wy(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Jv()){case kf:return 1;case my:return 4;case Xl:case Zv:return 16;case gy:return 536870912;default:return 16}default:return 16}}var Lr=null,Of=null,Pl=null;function Sy(){if(Pl)return Pl;var e,t=Of,n=t.length,r,s="value"in Lr?Lr.value:Lr.textContent,i=s.length;for(e=0;e<n&&t[e]===s[e];e++);var a=n-e;for(r=1;r<=a&&t[n-r]===s[i-r];r++);return Pl=s.slice(e,1<r?1-r:void 0)}function Ll(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function rl(){return!0}function fp(){return!1}function nn(e){function t(n,r,s,i,a){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?rl:fp,this.isPropagationStopped=fp,this}return ze(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=rl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=rl)},persist:function(){},isPersistent:rl}),t}var Yi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Rf=nn(Yi),Oo=ze({},Yi,{view:0,detail:0}),h_=nn(Oo),kc,Cc,ha,Bu=ze({},Oo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Pf,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ha&&(ha&&e.type==="mousemove"?(kc=e.screenX-ha.screenX,Cc=e.screenY-ha.screenY):Cc=kc=0,ha=e),kc)},movementY:function(e){return"movementY"in e?e.movementY:Cc}}),pp=nn(Bu),f_=ze({},Bu,{dataTransfer:0}),p_=nn(f_),m_=ze({},Oo,{relatedTarget:0}),Ac=nn(m_),g_=ze({},Yi,{animationName:0,elapsedTime:0,pseudoElement:0}),y_=nn(g_),x_=ze({},Yi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),b_=nn(x_),E_=ze({},Yi,{data:0}),mp=nn(E_),v_={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},__={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},T_={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function w_(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=T_[e])?!!t[e]:!1}function Pf(){return w_}var S_=ze({},Oo,{key:function(e){if(e.key){var t=v_[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ll(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?__[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Pf,charCode:function(e){return e.type==="keypress"?Ll(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ll(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),N_=nn(S_),k_=ze({},Bu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),gp=nn(k_),C_=ze({},Oo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Pf}),A_=nn(C_),I_=ze({},Yi,{propertyName:0,elapsedTime:0,pseudoElement:0}),O_=nn(I_),R_=ze({},Bu,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),P_=nn(R_),L_=[9,13,27,32],Lf=sr&&"CompositionEvent"in window,Ra=null;sr&&"documentMode"in document&&(Ra=document.documentMode);var j_=sr&&"TextEvent"in window&&!Ra,Ny=sr&&(!Lf||Ra&&8<Ra&&11>=Ra),yp=" ",xp=!1;function ky(e,t){switch(e){case"keyup":return L_.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Cy(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ti=!1;function D_(e,t){switch(e){case"compositionend":return Cy(t);case"keypress":return t.which!==32?null:(xp=!0,yp);case"textInput":return e=t.data,e===yp&&xp?null:e;default:return null}}function M_(e,t){if(ti)return e==="compositionend"||!Lf&&ky(e,t)?(e=Sy(),Pl=Of=Lr=null,ti=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ny&&t.locale!=="ko"?null:t.data;default:return null}}var B_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function bp(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!B_[e.type]:t==="textarea"}function Ay(e,t,n,r){ay(r),t=tu(t,"onChange"),0<t.length&&(n=new Rf("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Pa=null,no=null;function F_(e){Uy(e,0)}function Fu(e){var t=si(e);if(Z1(t))return e}function U_(e,t){if(e==="change")return t}var Iy=!1;if(sr){var Ic;if(sr){var Oc="oninput"in document;if(!Oc){var Ep=document.createElement("div");Ep.setAttribute("oninput","return;"),Oc=typeof Ep.oninput=="function"}Ic=Oc}else Ic=!1;Iy=Ic&&(!document.documentMode||9<document.documentMode)}function vp(){Pa&&(Pa.detachEvent("onpropertychange",Oy),no=Pa=null)}function Oy(e){if(e.propertyName==="value"&&Fu(no)){var t=[];Ay(t,no,e,Nf(e)),cy(F_,t)}}function H_(e,t,n){e==="focusin"?(vp(),Pa=t,no=n,Pa.attachEvent("onpropertychange",Oy)):e==="focusout"&&vp()}function $_(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Fu(no)}function z_(e,t){if(e==="click")return Fu(t)}function W_(e,t){if(e==="input"||e==="change")return Fu(t)}function V_(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Cn=typeof Object.is=="function"?Object.is:V_;function ro(e,t){if(Cn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!wd.call(t,s)||!Cn(e[s],t[s]))return!1}return!0}function _p(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Tp(e,t){var n=_p(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=_p(n)}}function Ry(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Ry(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Py(){for(var e=window,t=Gl();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Gl(e.document)}return t}function jf(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function q_(e){var t=Py(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Ry(n.ownerDocument.documentElement,n)){if(r!==null&&jf(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!e.extend&&i>r&&(s=r,r=i,i=s),s=Tp(n,i);var a=Tp(n,r);s&&a&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Y_=sr&&"documentMode"in document&&11>=document.documentMode,ni=null,zd=null,La=null,Wd=!1;function wp(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Wd||ni==null||ni!==Gl(r)||(r=ni,"selectionStart"in r&&jf(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),La&&ro(La,r)||(La=r,r=tu(zd,"onSelect"),0<r.length&&(t=new Rf("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=ni)))}function sl(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var ri={animationend:sl("Animation","AnimationEnd"),animationiteration:sl("Animation","AnimationIteration"),animationstart:sl("Animation","AnimationStart"),transitionend:sl("Transition","TransitionEnd")},Rc={},Ly={};sr&&(Ly=document.createElement("div").style,"AnimationEvent"in window||(delete ri.animationend.animation,delete ri.animationiteration.animation,delete ri.animationstart.animation),"TransitionEvent"in window||delete ri.transitionend.transition);function Uu(e){if(Rc[e])return Rc[e];if(!ri[e])return e;var t=ri[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Ly)return Rc[e]=t[n];return e}var jy=Uu("animationend"),Dy=Uu("animationiteration"),My=Uu("animationstart"),By=Uu("transitionend"),Fy=new Map,Sp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Qr(e,t){Fy.set(e,t),js(t,[e])}for(var Pc=0;Pc<Sp.length;Pc++){var Lc=Sp[Pc],G_=Lc.toLowerCase(),K_=Lc[0].toUpperCase()+Lc.slice(1);Qr(G_,"on"+K_)}Qr(jy,"onAnimationEnd");Qr(Dy,"onAnimationIteration");Qr(My,"onAnimationStart");Qr("dblclick","onDoubleClick");Qr("focusin","onFocus");Qr("focusout","onBlur");Qr(By,"onTransitionEnd");Li("onMouseEnter",["mouseout","mouseover"]);Li("onMouseLeave",["mouseout","mouseover"]);Li("onPointerEnter",["pointerout","pointerover"]);Li("onPointerLeave",["pointerout","pointerover"]);js("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));js("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));js("onBeforeInput",["compositionend","keypress","textInput","paste"]);js("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));js("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));js("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Sa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Q_=new Set("cancel close invalid load scroll toggle".split(" ").concat(Sa));function Np(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Gv(r,t,void 0,e),e.currentTarget=null}function Uy(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var a=r.length-1;0<=a;a--){var l=r[a],u=l.instance,c=l.currentTarget;if(l=l.listener,u!==i&&s.isPropagationStopped())break e;Np(s,l,c),i=u}else for(a=0;a<r.length;a++){if(l=r[a],u=l.instance,c=l.currentTarget,l=l.listener,u!==i&&s.isPropagationStopped())break e;Np(s,l,c),i=u}}}if(Ql)throw e=Fd,Ql=!1,Fd=null,e}function Pe(e,t){var n=t[Kd];n===void 0&&(n=t[Kd]=new Set);var r=e+"__bubble";n.has(r)||(Hy(t,e,2,!1),n.add(r))}function jc(e,t,n){var r=0;t&&(r|=4),Hy(n,e,r,t)}var il="_reactListening"+Math.random().toString(36).slice(2);function so(e){if(!e[il]){e[il]=!0,G1.forEach(function(n){n!=="selectionchange"&&(Q_.has(n)||jc(n,!1,e),jc(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[il]||(t[il]=!0,jc("selectionchange",!1,t))}}function Hy(e,t,n,r){switch(wy(t)){case 1:var s=c_;break;case 4:s=d_;break;default:s=If}n=s.bind(null,t,n,e),s=void 0,!Bd||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function Dc(e,t,n,r,s){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(a===4)for(a=r.return;a!==null;){var u=a.tag;if((u===3||u===4)&&(u=a.stateNode.containerInfo,u===s||u.nodeType===8&&u.parentNode===s))return;a=a.return}for(;l!==null;){if(a=ds(l),a===null)return;if(u=a.tag,u===5||u===6){r=i=a;continue e}l=l.parentNode}}r=r.return}cy(function(){var c=i,h=Nf(n),f=[];e:{var m=Fy.get(e);if(m!==void 0){var p=Rf,b=e;switch(e){case"keypress":if(Ll(n)===0)break e;case"keydown":case"keyup":p=N_;break;case"focusin":b="focus",p=Ac;break;case"focusout":b="blur",p=Ac;break;case"beforeblur":case"afterblur":p=Ac;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=pp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=p_;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=A_;break;case jy:case Dy:case My:p=y_;break;case By:p=O_;break;case"scroll":p=h_;break;case"wheel":p=P_;break;case"copy":case"cut":case"paste":p=b_;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=gp}var E=(t&4)!==0,v=!E&&e==="scroll",g=E?m!==null?m+"Capture":null:m;E=[];for(var y=c,x;y!==null;){x=y;var S=x.stateNode;if(x.tag===5&&S!==null&&(x=S,g!==null&&(S=Ja(y,g),S!=null&&E.push(io(y,S,x)))),v)break;y=y.return}0<E.length&&(m=new p(m,b,null,n,h),f.push({event:m,listeners:E}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",m&&n!==Dd&&(b=n.relatedTarget||n.fromElement)&&(ds(b)||b[ir]))break e;if((p||m)&&(m=h.window===h?h:(m=h.ownerDocument)?m.defaultView||m.parentWindow:window,p?(b=n.relatedTarget||n.toElement,p=c,b=b?ds(b):null,b!==null&&(v=Ds(b),b!==v||b.tag!==5&&b.tag!==6)&&(b=null)):(p=null,b=c),p!==b)){if(E=pp,S="onMouseLeave",g="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(E=gp,S="onPointerLeave",g="onPointerEnter",y="pointer"),v=p==null?m:si(p),x=b==null?m:si(b),m=new E(S,y+"leave",p,n,h),m.target=v,m.relatedTarget=x,S=null,ds(h)===c&&(E=new E(g,y+"enter",b,n,h),E.target=x,E.relatedTarget=v,S=E),v=S,p&&b)t:{for(E=p,g=b,y=0,x=E;x;x=Ws(x))y++;for(x=0,S=g;S;S=Ws(S))x++;for(;0<y-x;)E=Ws(E),y--;for(;0<x-y;)g=Ws(g),x--;for(;y--;){if(E===g||g!==null&&E===g.alternate)break t;E=Ws(E),g=Ws(g)}E=null}else E=null;p!==null&&kp(f,m,p,E,!1),b!==null&&v!==null&&kp(f,v,b,E,!0)}}e:{if(m=c?si(c):window,p=m.nodeName&&m.nodeName.toLowerCase(),p==="select"||p==="input"&&m.type==="file")var P=U_;else if(bp(m))if(Iy)P=W_;else{P=$_;var C=H_}else(p=m.nodeName)&&p.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(P=z_);if(P&&(P=P(e,c))){Ay(f,P,n,h);break e}C&&C(e,m,c),e==="focusout"&&(C=m._wrapperState)&&C.controlled&&m.type==="number"&&Od(m,"number",m.value)}switch(C=c?si(c):window,e){case"focusin":(bp(C)||C.contentEditable==="true")&&(ni=C,zd=c,La=null);break;case"focusout":La=zd=ni=null;break;case"mousedown":Wd=!0;break;case"contextmenu":case"mouseup":case"dragend":Wd=!1,wp(f,n,h);break;case"selectionchange":if(Y_)break;case"keydown":case"keyup":wp(f,n,h)}var M;if(Lf)e:{switch(e){case"compositionstart":var R="onCompositionStart";break e;case"compositionend":R="onCompositionEnd";break e;case"compositionupdate":R="onCompositionUpdate";break e}R=void 0}else ti?ky(e,n)&&(R="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(R="onCompositionStart");R&&(Ny&&n.locale!=="ko"&&(ti||R!=="onCompositionStart"?R==="onCompositionEnd"&&ti&&(M=Sy()):(Lr=h,Of="value"in Lr?Lr.value:Lr.textContent,ti=!0)),C=tu(c,R),0<C.length&&(R=new mp(R,e,null,n,h),f.push({event:R,listeners:C}),M?R.data=M:(M=Cy(n),M!==null&&(R.data=M)))),(M=j_?D_(e,n):M_(e,n))&&(c=tu(c,"onBeforeInput"),0<c.length&&(h=new mp("onBeforeInput","beforeinput",null,n,h),f.push({event:h,listeners:c}),h.data=M))}Uy(f,t)})}function io(e,t,n){return{instance:e,listener:t,currentTarget:n}}function tu(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Ja(e,n),i!=null&&r.unshift(io(e,i,s)),i=Ja(e,t),i!=null&&r.push(io(e,i,s))),e=e.return}return r}function Ws(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function kp(e,t,n,r,s){for(var i=t._reactName,a=[];n!==null&&n!==r;){var l=n,u=l.alternate,c=l.stateNode;if(u!==null&&u===r)break;l.tag===5&&c!==null&&(l=c,s?(u=Ja(n,i),u!=null&&a.unshift(io(n,u,l))):s||(u=Ja(n,i),u!=null&&a.push(io(n,u,l)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var X_=/\r\n?/g,J_=/\u0000|\uFFFD/g;function Cp(e){return(typeof e=="string"?e:""+e).replace(X_,`
`).replace(J_,"")}function al(e,t,n){if(t=Cp(t),Cp(e)!==t&&n)throw Error(W(425))}function nu(){}var Vd=null,qd=null;function Yd(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Gd=typeof setTimeout=="function"?setTimeout:void 0,Z_=typeof clearTimeout=="function"?clearTimeout:void 0,Ap=typeof Promise=="function"?Promise:void 0,eT=typeof queueMicrotask=="function"?queueMicrotask:typeof Ap<"u"?function(e){return Ap.resolve(null).then(e).catch(tT)}:Gd;function tT(e){setTimeout(function(){throw e})}function Mc(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),to(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);to(t)}function Hr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Ip(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Gi=Math.random().toString(36).slice(2),Bn="__reactFiber$"+Gi,ao="__reactProps$"+Gi,ir="__reactContainer$"+Gi,Kd="__reactEvents$"+Gi,nT="__reactListeners$"+Gi,rT="__reactHandles$"+Gi;function ds(e){var t=e[Bn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ir]||n[Bn]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Ip(e);e!==null;){if(n=e[Bn])return n;e=Ip(e)}return t}e=n,n=e.parentNode}return null}function Ro(e){return e=e[Bn]||e[ir],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function si(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(W(33))}function Hu(e){return e[ao]||null}var Qd=[],ii=-1;function Xr(e){return{current:e}}function Le(e){0>ii||(e.current=Qd[ii],Qd[ii]=null,ii--)}function Oe(e,t){ii++,Qd[ii]=e.current,e.current=t}var Kr={},Tt=Xr(Kr),Ut=Xr(!1),As=Kr;function ji(e,t){var n=e.type.contextTypes;if(!n)return Kr;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Ht(e){return e=e.childContextTypes,e!=null}function ru(){Le(Ut),Le(Tt)}function Op(e,t,n){if(Tt.current!==Kr)throw Error(W(168));Oe(Tt,t),Oe(Ut,n)}function $y(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(W(108,Hv(e)||"Unknown",s));return ze({},n,r)}function su(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Kr,As=Tt.current,Oe(Tt,e),Oe(Ut,Ut.current),!0}function Rp(e,t,n){var r=e.stateNode;if(!r)throw Error(W(169));n?(e=$y(e,t,As),r.__reactInternalMemoizedMergedChildContext=e,Le(Ut),Le(Tt),Oe(Tt,e)):Le(Ut),Oe(Ut,n)}var Qn=null,$u=!1,Bc=!1;function zy(e){Qn===null?Qn=[e]:Qn.push(e)}function sT(e){$u=!0,zy(e)}function Jr(){if(!Bc&&Qn!==null){Bc=!0;var e=0,t=Ne;try{var n=Qn;for(Ne=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Qn=null,$u=!1}catch(s){throw Qn!==null&&(Qn=Qn.slice(e+1)),py(kf,Jr),s}finally{Ne=t,Bc=!1}}return null}var ai=[],oi=0,iu=null,au=0,on=[],ln=0,Is=null,er=1,tr="";function is(e,t){ai[oi++]=au,ai[oi++]=iu,iu=e,au=t}function Wy(e,t,n){on[ln++]=er,on[ln++]=tr,on[ln++]=Is,Is=e;var r=er;e=tr;var s=32-Nn(r)-1;r&=~(1<<s),n+=1;var i=32-Nn(t)+s;if(30<i){var a=s-s%5;i=(r&(1<<a)-1).toString(32),r>>=a,s-=a,er=1<<32-Nn(t)+s|n<<s|r,tr=i+e}else er=1<<i|n<<s|r,tr=e}function Df(e){e.return!==null&&(is(e,1),Wy(e,1,0))}function Mf(e){for(;e===iu;)iu=ai[--oi],ai[oi]=null,au=ai[--oi],ai[oi]=null;for(;e===Is;)Is=on[--ln],on[ln]=null,tr=on[--ln],on[ln]=null,er=on[--ln],on[ln]=null}var Zt=null,Xt=null,De=!1,Sn=null;function Vy(e,t){var n=dn(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Pp(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Zt=e,Xt=Hr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Zt=e,Xt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Is!==null?{id:er,overflow:tr}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=dn(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Zt=e,Xt=null,!0):!1;default:return!1}}function Xd(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Jd(e){if(De){var t=Xt;if(t){var n=t;if(!Pp(e,t)){if(Xd(e))throw Error(W(418));t=Hr(n.nextSibling);var r=Zt;t&&Pp(e,t)?Vy(r,n):(e.flags=e.flags&-4097|2,De=!1,Zt=e)}}else{if(Xd(e))throw Error(W(418));e.flags=e.flags&-4097|2,De=!1,Zt=e}}}function Lp(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Zt=e}function ol(e){if(e!==Zt)return!1;if(!De)return Lp(e),De=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Yd(e.type,e.memoizedProps)),t&&(t=Xt)){if(Xd(e))throw qy(),Error(W(418));for(;t;)Vy(e,t),t=Hr(t.nextSibling)}if(Lp(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(W(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Xt=Hr(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Xt=null}}else Xt=Zt?Hr(e.stateNode.nextSibling):null;return!0}function qy(){for(var e=Xt;e;)e=Hr(e.nextSibling)}function Di(){Xt=Zt=null,De=!1}function Bf(e){Sn===null?Sn=[e]:Sn.push(e)}var iT=ur.ReactCurrentBatchConfig;function fa(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(W(309));var r=n.stateNode}if(!r)throw Error(W(147,e));var s=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(a){var l=s.refs;a===null?delete l[i]:l[i]=a},t._stringRef=i,t)}if(typeof e!="string")throw Error(W(284));if(!n._owner)throw Error(W(290,e))}return e}function ll(e,t){throw e=Object.prototype.toString.call(t),Error(W(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function jp(e){var t=e._init;return t(e._payload)}function Yy(e){function t(g,y){if(e){var x=g.deletions;x===null?(g.deletions=[y],g.flags|=16):x.push(y)}}function n(g,y){if(!e)return null;for(;y!==null;)t(g,y),y=y.sibling;return null}function r(g,y){for(g=new Map;y!==null;)y.key!==null?g.set(y.key,y):g.set(y.index,y),y=y.sibling;return g}function s(g,y){return g=Vr(g,y),g.index=0,g.sibling=null,g}function i(g,y,x){return g.index=x,e?(x=g.alternate,x!==null?(x=x.index,x<y?(g.flags|=2,y):x):(g.flags|=2,y)):(g.flags|=1048576,y)}function a(g){return e&&g.alternate===null&&(g.flags|=2),g}function l(g,y,x,S){return y===null||y.tag!==6?(y=Vc(x,g.mode,S),y.return=g,y):(y=s(y,x),y.return=g,y)}function u(g,y,x,S){var P=x.type;return P===ei?h(g,y,x.props.children,S,x.key):y!==null&&(y.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===Er&&jp(P)===y.type)?(S=s(y,x.props),S.ref=fa(g,y,x),S.return=g,S):(S=Hl(x.type,x.key,x.props,null,g.mode,S),S.ref=fa(g,y,x),S.return=g,S)}function c(g,y,x,S){return y===null||y.tag!==4||y.stateNode.containerInfo!==x.containerInfo||y.stateNode.implementation!==x.implementation?(y=qc(x,g.mode,S),y.return=g,y):(y=s(y,x.children||[]),y.return=g,y)}function h(g,y,x,S,P){return y===null||y.tag!==7?(y=ks(x,g.mode,S,P),y.return=g,y):(y=s(y,x),y.return=g,y)}function f(g,y,x){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Vc(""+y,g.mode,x),y.return=g,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Xo:return x=Hl(y.type,y.key,y.props,null,g.mode,x),x.ref=fa(g,null,y),x.return=g,x;case Zs:return y=qc(y,g.mode,x),y.return=g,y;case Er:var S=y._init;return f(g,S(y._payload),x)}if(Ta(y)||la(y))return y=ks(y,g.mode,x,null),y.return=g,y;ll(g,y)}return null}function m(g,y,x,S){var P=y!==null?y.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return P!==null?null:l(g,y,""+x,S);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Xo:return x.key===P?u(g,y,x,S):null;case Zs:return x.key===P?c(g,y,x,S):null;case Er:return P=x._init,m(g,y,P(x._payload),S)}if(Ta(x)||la(x))return P!==null?null:h(g,y,x,S,null);ll(g,x)}return null}function p(g,y,x,S,P){if(typeof S=="string"&&S!==""||typeof S=="number")return g=g.get(x)||null,l(y,g,""+S,P);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Xo:return g=g.get(S.key===null?x:S.key)||null,u(y,g,S,P);case Zs:return g=g.get(S.key===null?x:S.key)||null,c(y,g,S,P);case Er:var C=S._init;return p(g,y,x,C(S._payload),P)}if(Ta(S)||la(S))return g=g.get(x)||null,h(y,g,S,P,null);ll(y,S)}return null}function b(g,y,x,S){for(var P=null,C=null,M=y,R=y=0,U=null;M!==null&&R<x.length;R++){M.index>R?(U=M,M=null):U=M.sibling;var B=m(g,M,x[R],S);if(B===null){M===null&&(M=U);break}e&&M&&B.alternate===null&&t(g,M),y=i(B,y,R),C===null?P=B:C.sibling=B,C=B,M=U}if(R===x.length)return n(g,M),De&&is(g,R),P;if(M===null){for(;R<x.length;R++)M=f(g,x[R],S),M!==null&&(y=i(M,y,R),C===null?P=M:C.sibling=M,C=M);return De&&is(g,R),P}for(M=r(g,M);R<x.length;R++)U=p(M,g,R,x[R],S),U!==null&&(e&&U.alternate!==null&&M.delete(U.key===null?R:U.key),y=i(U,y,R),C===null?P=U:C.sibling=U,C=U);return e&&M.forEach(function($){return t(g,$)}),De&&is(g,R),P}function E(g,y,x,S){var P=la(x);if(typeof P!="function")throw Error(W(150));if(x=P.call(x),x==null)throw Error(W(151));for(var C=P=null,M=y,R=y=0,U=null,B=x.next();M!==null&&!B.done;R++,B=x.next()){M.index>R?(U=M,M=null):U=M.sibling;var $=m(g,M,B.value,S);if($===null){M===null&&(M=U);break}e&&M&&$.alternate===null&&t(g,M),y=i($,y,R),C===null?P=$:C.sibling=$,C=$,M=U}if(B.done)return n(g,M),De&&is(g,R),P;if(M===null){for(;!B.done;R++,B=x.next())B=f(g,B.value,S),B!==null&&(y=i(B,y,R),C===null?P=B:C.sibling=B,C=B);return De&&is(g,R),P}for(M=r(g,M);!B.done;R++,B=x.next())B=p(M,g,R,B.value,S),B!==null&&(e&&B.alternate!==null&&M.delete(B.key===null?R:B.key),y=i(B,y,R),C===null?P=B:C.sibling=B,C=B);return e&&M.forEach(function(Q){return t(g,Q)}),De&&is(g,R),P}function v(g,y,x,S){if(typeof x=="object"&&x!==null&&x.type===ei&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case Xo:e:{for(var P=x.key,C=y;C!==null;){if(C.key===P){if(P=x.type,P===ei){if(C.tag===7){n(g,C.sibling),y=s(C,x.props.children),y.return=g,g=y;break e}}else if(C.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===Er&&jp(P)===C.type){n(g,C.sibling),y=s(C,x.props),y.ref=fa(g,C,x),y.return=g,g=y;break e}n(g,C);break}else t(g,C);C=C.sibling}x.type===ei?(y=ks(x.props.children,g.mode,S,x.key),y.return=g,g=y):(S=Hl(x.type,x.key,x.props,null,g.mode,S),S.ref=fa(g,y,x),S.return=g,g=S)}return a(g);case Zs:e:{for(C=x.key;y!==null;){if(y.key===C)if(y.tag===4&&y.stateNode.containerInfo===x.containerInfo&&y.stateNode.implementation===x.implementation){n(g,y.sibling),y=s(y,x.children||[]),y.return=g,g=y;break e}else{n(g,y);break}else t(g,y);y=y.sibling}y=qc(x,g.mode,S),y.return=g,g=y}return a(g);case Er:return C=x._init,v(g,y,C(x._payload),S)}if(Ta(x))return b(g,y,x,S);if(la(x))return E(g,y,x,S);ll(g,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,y!==null&&y.tag===6?(n(g,y.sibling),y=s(y,x),y.return=g,g=y):(n(g,y),y=Vc(x,g.mode,S),y.return=g,g=y),a(g)):n(g,y)}return v}var Mi=Yy(!0),Gy=Yy(!1),ou=Xr(null),lu=null,li=null,Ff=null;function Uf(){Ff=li=lu=null}function Hf(e){var t=ou.current;Le(ou),e._currentValue=t}function Zd(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function gi(e,t){lu=e,Ff=li=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ft=!0),e.firstContext=null)}function fn(e){var t=e._currentValue;if(Ff!==e)if(e={context:e,memoizedValue:t,next:null},li===null){if(lu===null)throw Error(W(308));li=e,lu.dependencies={lanes:0,firstContext:e}}else li=li.next=e;return t}var hs=null;function $f(e){hs===null?hs=[e]:hs.push(e)}function Ky(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,$f(t)):(n.next=s.next,s.next=n),t.interleaved=n,ar(e,r)}function ar(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var vr=!1;function zf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Qy(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function rr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function $r(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,ve&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,ar(e,n)}return s=r.interleaved,s===null?(t.next=t,$f(r)):(t.next=s.next,s.next=t),r.interleaved=t,ar(e,n)}function jl(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Cf(e,n)}}function Dp(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=a:i=i.next=a,n=n.next}while(n!==null);i===null?s=i=t:i=i.next=t}else s=i=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function uu(e,t,n,r){var s=e.updateQueue;vr=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var u=l,c=u.next;u.next=null,a===null?i=c:a.next=c,a=u;var h=e.alternate;h!==null&&(h=h.updateQueue,l=h.lastBaseUpdate,l!==a&&(l===null?h.firstBaseUpdate=c:l.next=c,h.lastBaseUpdate=u))}if(i!==null){var f=s.baseState;a=0,h=c=u=null,l=i;do{var m=l.lane,p=l.eventTime;if((r&m)===m){h!==null&&(h=h.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var b=e,E=l;switch(m=t,p=n,E.tag){case 1:if(b=E.payload,typeof b=="function"){f=b.call(p,f,m);break e}f=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=E.payload,m=typeof b=="function"?b.call(p,f,m):b,m==null)break e;f=ze({},f,m);break e;case 2:vr=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,m=s.effects,m===null?s.effects=[l]:m.push(l))}else p={eventTime:p,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},h===null?(c=h=p,u=f):h=h.next=p,a|=m;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;m=l,l=m.next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}while(!0);if(h===null&&(u=f),s.baseState=u,s.firstBaseUpdate=c,s.lastBaseUpdate=h,t=s.shared.interleaved,t!==null){s=t;do a|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);Rs|=a,e.lanes=a,e.memoizedState=f}}function Mp(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(W(191,s));s.call(r)}}}var Po={},$n=Xr(Po),oo=Xr(Po),lo=Xr(Po);function fs(e){if(e===Po)throw Error(W(174));return e}function Wf(e,t){switch(Oe(lo,t),Oe(oo,e),Oe($n,Po),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Pd(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Pd(t,e)}Le($n),Oe($n,t)}function Bi(){Le($n),Le(oo),Le(lo)}function Xy(e){fs(lo.current);var t=fs($n.current),n=Pd(t,e.type);t!==n&&(Oe(oo,e),Oe($n,n))}function Vf(e){oo.current===e&&(Le($n),Le(oo))}var Ue=Xr(0);function cu(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Fc=[];function qf(){for(var e=0;e<Fc.length;e++)Fc[e]._workInProgressVersionPrimary=null;Fc.length=0}var Dl=ur.ReactCurrentDispatcher,Uc=ur.ReactCurrentBatchConfig,Os=0,He=null,tt=null,dt=null,du=!1,ja=!1,uo=0,aT=0;function bt(){throw Error(W(321))}function Yf(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Cn(e[n],t[n]))return!1;return!0}function Gf(e,t,n,r,s,i){if(Os=i,He=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Dl.current=e===null||e.memoizedState===null?cT:dT,e=n(r,s),ja){i=0;do{if(ja=!1,uo=0,25<=i)throw Error(W(301));i+=1,dt=tt=null,t.updateQueue=null,Dl.current=hT,e=n(r,s)}while(ja)}if(Dl.current=hu,t=tt!==null&&tt.next!==null,Os=0,dt=tt=He=null,du=!1,t)throw Error(W(300));return e}function Kf(){var e=uo!==0;return uo=0,e}function Rn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return dt===null?He.memoizedState=dt=e:dt=dt.next=e,dt}function pn(){if(tt===null){var e=He.alternate;e=e!==null?e.memoizedState:null}else e=tt.next;var t=dt===null?He.memoizedState:dt.next;if(t!==null)dt=t,tt=e;else{if(e===null)throw Error(W(310));tt=e,e={memoizedState:tt.memoizedState,baseState:tt.baseState,baseQueue:tt.baseQueue,queue:tt.queue,next:null},dt===null?He.memoizedState=dt=e:dt=dt.next=e}return dt}function co(e,t){return typeof t=="function"?t(e):t}function Hc(e){var t=pn(),n=t.queue;if(n===null)throw Error(W(311));n.lastRenderedReducer=e;var r=tt,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var a=s.next;s.next=i.next,i.next=a}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var l=a=null,u=null,c=i;do{var h=c.lane;if((Os&h)===h)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var f={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(l=u=f,a=r):u=u.next=f,He.lanes|=h,Rs|=h}c=c.next}while(c!==null&&c!==i);u===null?a=r:u.next=l,Cn(r,t.memoizedState)||(Ft=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=u,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do i=s.lane,He.lanes|=i,Rs|=i,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function $c(e){var t=pn(),n=t.queue;if(n===null)throw Error(W(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,i=t.memoizedState;if(s!==null){n.pending=null;var a=s=s.next;do i=e(i,a.action),a=a.next;while(a!==s);Cn(i,t.memoizedState)||(Ft=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function Jy(){}function Zy(e,t){var n=He,r=pn(),s=t(),i=!Cn(r.memoizedState,s);if(i&&(r.memoizedState=s,Ft=!0),r=r.queue,Qf(nx.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||dt!==null&&dt.memoizedState.tag&1){if(n.flags|=2048,ho(9,tx.bind(null,n,r,s,t),void 0,null),ft===null)throw Error(W(349));Os&30||ex(n,t,s)}return s}function ex(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=He.updateQueue,t===null?(t={lastEffect:null,stores:null},He.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function tx(e,t,n,r){t.value=n,t.getSnapshot=r,rx(t)&&sx(e)}function nx(e,t,n){return n(function(){rx(t)&&sx(e)})}function rx(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Cn(e,n)}catch{return!0}}function sx(e){var t=ar(e,1);t!==null&&kn(t,e,1,-1)}function Bp(e){var t=Rn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:co,lastRenderedState:e},t.queue=e,e=e.dispatch=uT.bind(null,He,e),[t.memoizedState,e]}function ho(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=He.updateQueue,t===null?(t={lastEffect:null,stores:null},He.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function ix(){return pn().memoizedState}function Ml(e,t,n,r){var s=Rn();He.flags|=e,s.memoizedState=ho(1|t,n,void 0,r===void 0?null:r)}function zu(e,t,n,r){var s=pn();r=r===void 0?null:r;var i=void 0;if(tt!==null){var a=tt.memoizedState;if(i=a.destroy,r!==null&&Yf(r,a.deps)){s.memoizedState=ho(t,n,i,r);return}}He.flags|=e,s.memoizedState=ho(1|t,n,i,r)}function Fp(e,t){return Ml(8390656,8,e,t)}function Qf(e,t){return zu(2048,8,e,t)}function ax(e,t){return zu(4,2,e,t)}function ox(e,t){return zu(4,4,e,t)}function lx(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function ux(e,t,n){return n=n!=null?n.concat([e]):null,zu(4,4,lx.bind(null,t,e),n)}function Xf(){}function cx(e,t){var n=pn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Yf(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function dx(e,t){var n=pn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Yf(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function hx(e,t,n){return Os&21?(Cn(n,t)||(n=yy(),He.lanes|=n,Rs|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ft=!0),e.memoizedState=n)}function oT(e,t){var n=Ne;Ne=n!==0&&4>n?n:4,e(!0);var r=Uc.transition;Uc.transition={};try{e(!1),t()}finally{Ne=n,Uc.transition=r}}function fx(){return pn().memoizedState}function lT(e,t,n){var r=Wr(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},px(e))mx(t,n);else if(n=Ky(e,t,n,r),n!==null){var s=It();kn(n,e,r,s),gx(n,t,r)}}function uT(e,t,n){var r=Wr(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(px(e))mx(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var a=t.lastRenderedState,l=i(a,n);if(s.hasEagerState=!0,s.eagerState=l,Cn(l,a)){var u=t.interleaved;u===null?(s.next=s,$f(t)):(s.next=u.next,u.next=s),t.interleaved=s;return}}catch{}finally{}n=Ky(e,t,s,r),n!==null&&(s=It(),kn(n,e,r,s),gx(n,t,r))}}function px(e){var t=e.alternate;return e===He||t!==null&&t===He}function mx(e,t){ja=du=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function gx(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Cf(e,n)}}var hu={readContext:fn,useCallback:bt,useContext:bt,useEffect:bt,useImperativeHandle:bt,useInsertionEffect:bt,useLayoutEffect:bt,useMemo:bt,useReducer:bt,useRef:bt,useState:bt,useDebugValue:bt,useDeferredValue:bt,useTransition:bt,useMutableSource:bt,useSyncExternalStore:bt,useId:bt,unstable_isNewReconciler:!1},cT={readContext:fn,useCallback:function(e,t){return Rn().memoizedState=[e,t===void 0?null:t],e},useContext:fn,useEffect:Fp,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Ml(4194308,4,lx.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ml(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ml(4,2,e,t)},useMemo:function(e,t){var n=Rn();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Rn();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=lT.bind(null,He,e),[r.memoizedState,e]},useRef:function(e){var t=Rn();return e={current:e},t.memoizedState=e},useState:Bp,useDebugValue:Xf,useDeferredValue:function(e){return Rn().memoizedState=e},useTransition:function(){var e=Bp(!1),t=e[0];return e=oT.bind(null,e[1]),Rn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=He,s=Rn();if(De){if(n===void 0)throw Error(W(407));n=n()}else{if(n=t(),ft===null)throw Error(W(349));Os&30||ex(r,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,Fp(nx.bind(null,r,i,e),[e]),r.flags|=2048,ho(9,tx.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=Rn(),t=ft.identifierPrefix;if(De){var n=tr,r=er;n=(r&~(1<<32-Nn(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=uo++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=aT++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},dT={readContext:fn,useCallback:cx,useContext:fn,useEffect:Qf,useImperativeHandle:ux,useInsertionEffect:ax,useLayoutEffect:ox,useMemo:dx,useReducer:Hc,useRef:ix,useState:function(){return Hc(co)},useDebugValue:Xf,useDeferredValue:function(e){var t=pn();return hx(t,tt.memoizedState,e)},useTransition:function(){var e=Hc(co)[0],t=pn().memoizedState;return[e,t]},useMutableSource:Jy,useSyncExternalStore:Zy,useId:fx,unstable_isNewReconciler:!1},hT={readContext:fn,useCallback:cx,useContext:fn,useEffect:Qf,useImperativeHandle:ux,useInsertionEffect:ax,useLayoutEffect:ox,useMemo:dx,useReducer:$c,useRef:ix,useState:function(){return $c(co)},useDebugValue:Xf,useDeferredValue:function(e){var t=pn();return tt===null?t.memoizedState=e:hx(t,tt.memoizedState,e)},useTransition:function(){var e=$c(co)[0],t=pn().memoizedState;return[e,t]},useMutableSource:Jy,useSyncExternalStore:Zy,useId:fx,unstable_isNewReconciler:!1};function bn(e,t){if(e&&e.defaultProps){t=ze({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function eh(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:ze({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Wu={isMounted:function(e){return(e=e._reactInternals)?Ds(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=It(),s=Wr(e),i=rr(r,s);i.payload=t,n!=null&&(i.callback=n),t=$r(e,i,s),t!==null&&(kn(t,e,s,r),jl(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=It(),s=Wr(e),i=rr(r,s);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=$r(e,i,s),t!==null&&(kn(t,e,s,r),jl(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=It(),r=Wr(e),s=rr(n,r);s.tag=2,t!=null&&(s.callback=t),t=$r(e,s,r),t!==null&&(kn(t,e,r,n),jl(t,e,r))}};function Up(e,t,n,r,s,i,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,a):t.prototype&&t.prototype.isPureReactComponent?!ro(n,r)||!ro(s,i):!0}function yx(e,t,n){var r=!1,s=Kr,i=t.contextType;return typeof i=="object"&&i!==null?i=fn(i):(s=Ht(t)?As:Tt.current,r=t.contextTypes,i=(r=r!=null)?ji(e,s):Kr),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Wu,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function Hp(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Wu.enqueueReplaceState(t,t.state,null)}function th(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},zf(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=fn(i):(i=Ht(t)?As:Tt.current,s.context=ji(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(eh(e,t,i,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Wu.enqueueReplaceState(s,s.state,null),uu(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Fi(e,t){try{var n="",r=t;do n+=Uv(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function zc(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function nh(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var fT=typeof WeakMap=="function"?WeakMap:Map;function xx(e,t,n){n=rr(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){pu||(pu=!0,hh=r),nh(e,t)},n}function bx(e,t,n){n=rr(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){nh(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){nh(e,t),typeof r!="function"&&(zr===null?zr=new Set([this]):zr.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),n}function $p(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new fT;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=kT.bind(null,e,t,n),t.then(e,e))}function zp(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Wp(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=rr(-1,1),t.tag=2,$r(n,t,1))),n.lanes|=1),e)}var pT=ur.ReactCurrentOwner,Ft=!1;function Ct(e,t,n,r){t.child=e===null?Gy(t,null,n,r):Mi(t,e.child,n,r)}function Vp(e,t,n,r,s){n=n.render;var i=t.ref;return gi(t,s),r=Gf(e,t,n,r,i,s),n=Kf(),e!==null&&!Ft?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,or(e,t,s)):(De&&n&&Df(t),t.flags|=1,Ct(e,t,r,s),t.child)}function qp(e,t,n,r,s){if(e===null){var i=n.type;return typeof i=="function"&&!i0(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,Ex(e,t,i,r,s)):(e=Hl(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var a=i.memoizedProps;if(n=n.compare,n=n!==null?n:ro,n(a,r)&&e.ref===t.ref)return or(e,t,s)}return t.flags|=1,e=Vr(i,r),e.ref=t.ref,e.return=t,t.child=e}function Ex(e,t,n,r,s){if(e!==null){var i=e.memoizedProps;if(ro(i,r)&&e.ref===t.ref)if(Ft=!1,t.pendingProps=r=i,(e.lanes&s)!==0)e.flags&131072&&(Ft=!0);else return t.lanes=e.lanes,or(e,t,s)}return rh(e,t,n,r,s)}function vx(e,t,n){var r=t.pendingProps,s=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Oe(ci,Gt),Gt|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Oe(ci,Gt),Gt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Oe(ci,Gt),Gt|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,Oe(ci,Gt),Gt|=r;return Ct(e,t,s,n),t.child}function _x(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function rh(e,t,n,r,s){var i=Ht(n)?As:Tt.current;return i=ji(t,i),gi(t,s),n=Gf(e,t,n,r,i,s),r=Kf(),e!==null&&!Ft?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,or(e,t,s)):(De&&r&&Df(t),t.flags|=1,Ct(e,t,n,s),t.child)}function Yp(e,t,n,r,s){if(Ht(n)){var i=!0;su(t)}else i=!1;if(gi(t,s),t.stateNode===null)Bl(e,t),yx(t,n,r),th(t,n,r,s),r=!0;else if(e===null){var a=t.stateNode,l=t.memoizedProps;a.props=l;var u=a.context,c=n.contextType;typeof c=="object"&&c!==null?c=fn(c):(c=Ht(n)?As:Tt.current,c=ji(t,c));var h=n.getDerivedStateFromProps,f=typeof h=="function"||typeof a.getSnapshotBeforeUpdate=="function";f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==r||u!==c)&&Hp(t,a,r,c),vr=!1;var m=t.memoizedState;a.state=m,uu(t,r,a,s),u=t.memoizedState,l!==r||m!==u||Ut.current||vr?(typeof h=="function"&&(eh(t,n,h,r),u=t.memoizedState),(l=vr||Up(t,n,l,r,m,u,c))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),a.props=r,a.state=u,a.context=c,r=l):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Qy(e,t),l=t.memoizedProps,c=t.type===t.elementType?l:bn(t.type,l),a.props=c,f=t.pendingProps,m=a.context,u=n.contextType,typeof u=="object"&&u!==null?u=fn(u):(u=Ht(n)?As:Tt.current,u=ji(t,u));var p=n.getDerivedStateFromProps;(h=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==f||m!==u)&&Hp(t,a,r,u),vr=!1,m=t.memoizedState,a.state=m,uu(t,r,a,s);var b=t.memoizedState;l!==f||m!==b||Ut.current||vr?(typeof p=="function"&&(eh(t,n,p,r),b=t.memoizedState),(c=vr||Up(t,n,c,r,m,b,u)||!1)?(h||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,b,u),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,b,u)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=b),a.props=r,a.state=b,a.context=u,r=c):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),r=!1)}return sh(e,t,n,r,i,s)}function sh(e,t,n,r,s,i){_x(e,t);var a=(t.flags&128)!==0;if(!r&&!a)return s&&Rp(t,n,!1),or(e,t,i);r=t.stateNode,pT.current=t;var l=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&a?(t.child=Mi(t,e.child,null,i),t.child=Mi(t,null,l,i)):Ct(e,t,l,i),t.memoizedState=r.state,s&&Rp(t,n,!0),t.child}function Tx(e){var t=e.stateNode;t.pendingContext?Op(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Op(e,t.context,!1),Wf(e,t.containerInfo)}function Gp(e,t,n,r,s){return Di(),Bf(s),t.flags|=256,Ct(e,t,n,r),t.child}var ih={dehydrated:null,treeContext:null,retryLane:0};function ah(e){return{baseLanes:e,cachePool:null,transitions:null}}function wx(e,t,n){var r=t.pendingProps,s=Ue.current,i=!1,a=(t.flags&128)!==0,l;if((l=a)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),Oe(Ue,s&1),e===null)return Jd(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=r.children,e=r.fallback,i?(r=t.mode,i=t.child,a={mode:"hidden",children:a},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=Yu(a,r,0,null),e=ks(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=ah(n),t.memoizedState=ih,e):Jf(t,a));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return mT(e,t,a,r,l,s,n);if(i){i=r.fallback,a=t.mode,s=e.child,l=s.sibling;var u={mode:"hidden",children:r.children};return!(a&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=u,t.deletions=null):(r=Vr(s,u),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=Vr(l,i):(i=ks(i,a,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,a=e.child.memoizedState,a=a===null?ah(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=e.childLanes&~n,t.memoizedState=ih,r}return i=e.child,e=i.sibling,r=Vr(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Jf(e,t){return t=Yu({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ul(e,t,n,r){return r!==null&&Bf(r),Mi(t,e.child,null,n),e=Jf(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function mT(e,t,n,r,s,i,a){if(n)return t.flags&256?(t.flags&=-257,r=zc(Error(W(422))),ul(e,t,a,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,s=t.mode,r=Yu({mode:"visible",children:r.children},s,0,null),i=ks(i,s,a,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&Mi(t,e.child,null,a),t.child.memoizedState=ah(a),t.memoizedState=ih,i);if(!(t.mode&1))return ul(e,t,a,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(W(419)),r=zc(i,r,void 0),ul(e,t,a,r)}if(l=(a&e.childLanes)!==0,Ft||l){if(r=ft,r!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|a)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,ar(e,s),kn(r,e,s,-1))}return s0(),r=zc(Error(W(421))),ul(e,t,a,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=CT.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,Xt=Hr(s.nextSibling),Zt=t,De=!0,Sn=null,e!==null&&(on[ln++]=er,on[ln++]=tr,on[ln++]=Is,er=e.id,tr=e.overflow,Is=t),t=Jf(t,r.children),t.flags|=4096,t)}function Kp(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Zd(e.return,t,n)}function Wc(e,t,n,r,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function Sx(e,t,n){var r=t.pendingProps,s=r.revealOrder,i=r.tail;if(Ct(e,t,r.children,n),r=Ue.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Kp(e,n,t);else if(e.tag===19)Kp(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Oe(Ue,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&cu(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),Wc(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&cu(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Wc(t,!0,n,null,i);break;case"together":Wc(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Bl(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function or(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Rs|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(W(153));if(t.child!==null){for(e=t.child,n=Vr(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Vr(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function gT(e,t,n){switch(t.tag){case 3:Tx(t),Di();break;case 5:Xy(t);break;case 1:Ht(t.type)&&su(t);break;case 4:Wf(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;Oe(ou,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Oe(Ue,Ue.current&1),t.flags|=128,null):n&t.child.childLanes?wx(e,t,n):(Oe(Ue,Ue.current&1),e=or(e,t,n),e!==null?e.sibling:null);Oe(Ue,Ue.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Sx(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Oe(Ue,Ue.current),r)break;return null;case 22:case 23:return t.lanes=0,vx(e,t,n)}return or(e,t,n)}var Nx,oh,kx,Cx;Nx=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};oh=function(){};kx=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,fs($n.current);var i=null;switch(n){case"input":s=Ad(e,s),r=Ad(e,r),i=[];break;case"select":s=ze({},s,{value:void 0}),r=ze({},r,{value:void 0}),i=[];break;case"textarea":s=Rd(e,s),r=Rd(e,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=nu)}Ld(n,r);var a;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var l=s[c];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Qa.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var u=r[c];if(l=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&u!==l&&(u!=null||l!=null))if(c==="style")if(l){for(a in l)!l.hasOwnProperty(a)||u&&u.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in u)u.hasOwnProperty(a)&&l[a]!==u[a]&&(n||(n={}),n[a]=u[a])}else n||(i||(i=[]),i.push(c,n)),n=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,l=l?l.__html:void 0,u!=null&&l!==u&&(i=i||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(i=i||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Qa.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&Pe("scroll",e),i||l===u||(i=[])):(i=i||[]).push(c,u))}n&&(i=i||[]).push("style",n);var c=i;(t.updateQueue=c)&&(t.flags|=4)}};Cx=function(e,t,n,r){n!==r&&(t.flags|=4)};function pa(e,t){if(!De)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Et(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function yT(e,t,n){var r=t.pendingProps;switch(Mf(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Et(t),null;case 1:return Ht(t.type)&&ru(),Et(t),null;case 3:return r=t.stateNode,Bi(),Le(Ut),Le(Tt),qf(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(ol(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Sn!==null&&(mh(Sn),Sn=null))),oh(e,t),Et(t),null;case 5:Vf(t);var s=fs(lo.current);if(n=t.type,e!==null&&t.stateNode!=null)kx(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(W(166));return Et(t),null}if(e=fs($n.current),ol(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[Bn]=t,r[ao]=i,e=(t.mode&1)!==0,n){case"dialog":Pe("cancel",r),Pe("close",r);break;case"iframe":case"object":case"embed":Pe("load",r);break;case"video":case"audio":for(s=0;s<Sa.length;s++)Pe(Sa[s],r);break;case"source":Pe("error",r);break;case"img":case"image":case"link":Pe("error",r),Pe("load",r);break;case"details":Pe("toggle",r);break;case"input":sp(r,i),Pe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Pe("invalid",r);break;case"textarea":ap(r,i),Pe("invalid",r)}Ld(n,i),s=null;for(var a in i)if(i.hasOwnProperty(a)){var l=i[a];a==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&al(r.textContent,l,e),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&al(r.textContent,l,e),s=["children",""+l]):Qa.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&Pe("scroll",r)}switch(n){case"input":Jo(r),ip(r,i,!0);break;case"textarea":Jo(r),op(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=nu)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=ny(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=a.createElement(n,{is:r.is}):(e=a.createElement(n),n==="select"&&(a=e,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):e=a.createElementNS(e,n),e[Bn]=t,e[ao]=r,Nx(e,t,!1,!1),t.stateNode=e;e:{switch(a=jd(n,r),n){case"dialog":Pe("cancel",e),Pe("close",e),s=r;break;case"iframe":case"object":case"embed":Pe("load",e),s=r;break;case"video":case"audio":for(s=0;s<Sa.length;s++)Pe(Sa[s],e);s=r;break;case"source":Pe("error",e),s=r;break;case"img":case"image":case"link":Pe("error",e),Pe("load",e),s=r;break;case"details":Pe("toggle",e),s=r;break;case"input":sp(e,r),s=Ad(e,r),Pe("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=ze({},r,{value:void 0}),Pe("invalid",e);break;case"textarea":ap(e,r),s=Rd(e,r),Pe("invalid",e);break;default:s=r}Ld(n,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var u=l[i];i==="style"?iy(e,u):i==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&ry(e,u)):i==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&Xa(e,u):typeof u=="number"&&Xa(e,""+u):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Qa.hasOwnProperty(i)?u!=null&&i==="onScroll"&&Pe("scroll",e):u!=null&&_f(e,i,u,a))}switch(n){case"input":Jo(e),ip(e,r,!1);break;case"textarea":Jo(e),op(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Gr(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?hi(e,!!r.multiple,i,!1):r.defaultValue!=null&&hi(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=nu)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Et(t),null;case 6:if(e&&t.stateNode!=null)Cx(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(W(166));if(n=fs(lo.current),fs($n.current),ol(t)){if(r=t.stateNode,n=t.memoizedProps,r[Bn]=t,(i=r.nodeValue!==n)&&(e=Zt,e!==null))switch(e.tag){case 3:al(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&al(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Bn]=t,t.stateNode=r}return Et(t),null;case 13:if(Le(Ue),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(De&&Xt!==null&&t.mode&1&&!(t.flags&128))qy(),Di(),t.flags|=98560,i=!1;else if(i=ol(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(W(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(W(317));i[Bn]=t}else Di(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Et(t),i=!1}else Sn!==null&&(mh(Sn),Sn=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Ue.current&1?rt===0&&(rt=3):s0())),t.updateQueue!==null&&(t.flags|=4),Et(t),null);case 4:return Bi(),oh(e,t),e===null&&so(t.stateNode.containerInfo),Et(t),null;case 10:return Hf(t.type._context),Et(t),null;case 17:return Ht(t.type)&&ru(),Et(t),null;case 19:if(Le(Ue),i=t.memoizedState,i===null)return Et(t),null;if(r=(t.flags&128)!==0,a=i.rendering,a===null)if(r)pa(i,!1);else{if(rt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=cu(e),a!==null){for(t.flags|=128,pa(i,!1),r=a.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,e=a.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Oe(Ue,Ue.current&1|2),t.child}e=e.sibling}i.tail!==null&&Ye()>Ui&&(t.flags|=128,r=!0,pa(i,!1),t.lanes=4194304)}else{if(!r)if(e=cu(a),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),pa(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!De)return Et(t),null}else 2*Ye()-i.renderingStartTime>Ui&&n!==1073741824&&(t.flags|=128,r=!0,pa(i,!1),t.lanes=4194304);i.isBackwards?(a.sibling=t.child,t.child=a):(n=i.last,n!==null?n.sibling=a:t.child=a,i.last=a)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Ye(),t.sibling=null,n=Ue.current,Oe(Ue,r?n&1|2:n&1),t):(Et(t),null);case 22:case 23:return r0(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Gt&1073741824&&(Et(t),t.subtreeFlags&6&&(t.flags|=8192)):Et(t),null;case 24:return null;case 25:return null}throw Error(W(156,t.tag))}function xT(e,t){switch(Mf(t),t.tag){case 1:return Ht(t.type)&&ru(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Bi(),Le(Ut),Le(Tt),qf(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Vf(t),null;case 13:if(Le(Ue),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(W(340));Di()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Le(Ue),null;case 4:return Bi(),null;case 10:return Hf(t.type._context),null;case 22:case 23:return r0(),null;case 24:return null;default:return null}}var cl=!1,_t=!1,bT=typeof WeakSet=="function"?WeakSet:Set,Z=null;function ui(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){qe(e,t,r)}else n.current=null}function lh(e,t,n){try{n()}catch(r){qe(e,t,r)}}var Qp=!1;function ET(e,t){if(Vd=Zl,e=Py(),jf(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var a=0,l=-1,u=-1,c=0,h=0,f=e,m=null;t:for(;;){for(var p;f!==n||s!==0&&f.nodeType!==3||(l=a+s),f!==i||r!==0&&f.nodeType!==3||(u=a+r),f.nodeType===3&&(a+=f.nodeValue.length),(p=f.firstChild)!==null;)m=f,f=p;for(;;){if(f===e)break t;if(m===n&&++c===s&&(l=a),m===i&&++h===r&&(u=a),(p=f.nextSibling)!==null)break;f=m,m=f.parentNode}f=p}n=l===-1||u===-1?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(qd={focusedElem:e,selectionRange:n},Zl=!1,Z=t;Z!==null;)if(t=Z,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Z=e;else for(;Z!==null;){t=Z;try{var b=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var E=b.memoizedProps,v=b.memoizedState,g=t.stateNode,y=g.getSnapshotBeforeUpdate(t.elementType===t.type?E:bn(t.type,E),v);g.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var x=t.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(W(163))}}catch(S){qe(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,Z=e;break}Z=t.return}return b=Qp,Qp=!1,b}function Da(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&lh(t,n,i)}s=s.next}while(s!==r)}}function Vu(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function uh(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Ax(e){var t=e.alternate;t!==null&&(e.alternate=null,Ax(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Bn],delete t[ao],delete t[Kd],delete t[nT],delete t[rT])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Ix(e){return e.tag===5||e.tag===3||e.tag===4}function Xp(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Ix(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ch(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=nu));else if(r!==4&&(e=e.child,e!==null))for(ch(e,t,n),e=e.sibling;e!==null;)ch(e,t,n),e=e.sibling}function dh(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(dh(e,t,n),e=e.sibling;e!==null;)dh(e,t,n),e=e.sibling}var mt=null,Tn=!1;function fr(e,t,n){for(n=n.child;n!==null;)Ox(e,t,n),n=n.sibling}function Ox(e,t,n){if(Hn&&typeof Hn.onCommitFiberUnmount=="function")try{Hn.onCommitFiberUnmount(Mu,n)}catch{}switch(n.tag){case 5:_t||ui(n,t);case 6:var r=mt,s=Tn;mt=null,fr(e,t,n),mt=r,Tn=s,mt!==null&&(Tn?(e=mt,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):mt.removeChild(n.stateNode));break;case 18:mt!==null&&(Tn?(e=mt,n=n.stateNode,e.nodeType===8?Mc(e.parentNode,n):e.nodeType===1&&Mc(e,n),to(e)):Mc(mt,n.stateNode));break;case 4:r=mt,s=Tn,mt=n.stateNode.containerInfo,Tn=!0,fr(e,t,n),mt=r,Tn=s;break;case 0:case 11:case 14:case 15:if(!_t&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&lh(n,t,a),s=s.next}while(s!==r)}fr(e,t,n);break;case 1:if(!_t&&(ui(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){qe(n,t,l)}fr(e,t,n);break;case 21:fr(e,t,n);break;case 22:n.mode&1?(_t=(r=_t)||n.memoizedState!==null,fr(e,t,n),_t=r):fr(e,t,n);break;default:fr(e,t,n)}}function Jp(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new bT),t.forEach(function(r){var s=AT.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function gn(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=e,a=t,l=a;e:for(;l!==null;){switch(l.tag){case 5:mt=l.stateNode,Tn=!1;break e;case 3:mt=l.stateNode.containerInfo,Tn=!0;break e;case 4:mt=l.stateNode.containerInfo,Tn=!0;break e}l=l.return}if(mt===null)throw Error(W(160));Ox(i,a,s),mt=null,Tn=!1;var u=s.alternate;u!==null&&(u.return=null),s.return=null}catch(c){qe(s,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Rx(t,e),t=t.sibling}function Rx(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(gn(t,e),In(e),r&4){try{Da(3,e,e.return),Vu(3,e)}catch(E){qe(e,e.return,E)}try{Da(5,e,e.return)}catch(E){qe(e,e.return,E)}}break;case 1:gn(t,e),In(e),r&512&&n!==null&&ui(n,n.return);break;case 5:if(gn(t,e),In(e),r&512&&n!==null&&ui(n,n.return),e.flags&32){var s=e.stateNode;try{Xa(s,"")}catch(E){qe(e,e.return,E)}}if(r&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,a=n!==null?n.memoizedProps:i,l=e.type,u=e.updateQueue;if(e.updateQueue=null,u!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&ey(s,i),jd(l,a);var c=jd(l,i);for(a=0;a<u.length;a+=2){var h=u[a],f=u[a+1];h==="style"?iy(s,f):h==="dangerouslySetInnerHTML"?ry(s,f):h==="children"?Xa(s,f):_f(s,h,f,c)}switch(l){case"input":Id(s,i);break;case"textarea":ty(s,i);break;case"select":var m=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?hi(s,!!i.multiple,p,!1):m!==!!i.multiple&&(i.defaultValue!=null?hi(s,!!i.multiple,i.defaultValue,!0):hi(s,!!i.multiple,i.multiple?[]:"",!1))}s[ao]=i}catch(E){qe(e,e.return,E)}}break;case 6:if(gn(t,e),In(e),r&4){if(e.stateNode===null)throw Error(W(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(E){qe(e,e.return,E)}}break;case 3:if(gn(t,e),In(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{to(t.containerInfo)}catch(E){qe(e,e.return,E)}break;case 4:gn(t,e),In(e);break;case 13:gn(t,e),In(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(t0=Ye())),r&4&&Jp(e);break;case 22:if(h=n!==null&&n.memoizedState!==null,e.mode&1?(_t=(c=_t)||h,gn(t,e),_t=c):gn(t,e),In(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!h&&e.mode&1)for(Z=e,h=e.child;h!==null;){for(f=Z=h;Z!==null;){switch(m=Z,p=m.child,m.tag){case 0:case 11:case 14:case 15:Da(4,m,m.return);break;case 1:ui(m,m.return);var b=m.stateNode;if(typeof b.componentWillUnmount=="function"){r=m,n=m.return;try{t=r,b.props=t.memoizedProps,b.state=t.memoizedState,b.componentWillUnmount()}catch(E){qe(r,n,E)}}break;case 5:ui(m,m.return);break;case 22:if(m.memoizedState!==null){em(f);continue}}p!==null?(p.return=m,Z=p):em(f)}h=h.sibling}e:for(h=null,f=e;;){if(f.tag===5){if(h===null){h=f;try{s=f.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=f.stateNode,u=f.memoizedProps.style,a=u!=null&&u.hasOwnProperty("display")?u.display:null,l.style.display=sy("display",a))}catch(E){qe(e,e.return,E)}}}else if(f.tag===6){if(h===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(E){qe(e,e.return,E)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:gn(t,e),In(e),r&4&&Jp(e);break;case 21:break;default:gn(t,e),In(e)}}function In(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Ix(n)){var r=n;break e}n=n.return}throw Error(W(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Xa(s,""),r.flags&=-33);var i=Xp(e);dh(e,i,s);break;case 3:case 4:var a=r.stateNode.containerInfo,l=Xp(e);ch(e,l,a);break;default:throw Error(W(161))}}catch(u){qe(e,e.return,u)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function vT(e,t,n){Z=e,Px(e)}function Px(e,t,n){for(var r=(e.mode&1)!==0;Z!==null;){var s=Z,i=s.child;if(s.tag===22&&r){var a=s.memoizedState!==null||cl;if(!a){var l=s.alternate,u=l!==null&&l.memoizedState!==null||_t;l=cl;var c=_t;if(cl=a,(_t=u)&&!c)for(Z=s;Z!==null;)a=Z,u=a.child,a.tag===22&&a.memoizedState!==null?tm(s):u!==null?(u.return=a,Z=u):tm(s);for(;i!==null;)Z=i,Px(i),i=i.sibling;Z=s,cl=l,_t=c}Zp(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,Z=i):Zp(e)}}function Zp(e){for(;Z!==null;){var t=Z;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:_t||Vu(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!_t)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:bn(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Mp(t,i,r);break;case 3:var a=t.updateQueue;if(a!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Mp(t,a,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var h=c.memoizedState;if(h!==null){var f=h.dehydrated;f!==null&&to(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(W(163))}_t||t.flags&512&&uh(t)}catch(m){qe(t,t.return,m)}}if(t===e){Z=null;break}if(n=t.sibling,n!==null){n.return=t.return,Z=n;break}Z=t.return}}function em(e){for(;Z!==null;){var t=Z;if(t===e){Z=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Z=n;break}Z=t.return}}function tm(e){for(;Z!==null;){var t=Z;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Vu(4,t)}catch(u){qe(t,n,u)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(u){qe(t,s,u)}}var i=t.return;try{uh(t)}catch(u){qe(t,i,u)}break;case 5:var a=t.return;try{uh(t)}catch(u){qe(t,a,u)}}}catch(u){qe(t,t.return,u)}if(t===e){Z=null;break}var l=t.sibling;if(l!==null){l.return=t.return,Z=l;break}Z=t.return}}var _T=Math.ceil,fu=ur.ReactCurrentDispatcher,Zf=ur.ReactCurrentOwner,hn=ur.ReactCurrentBatchConfig,ve=0,ft=null,Je=null,yt=0,Gt=0,ci=Xr(0),rt=0,fo=null,Rs=0,qu=0,e0=0,Ma=null,Bt=null,t0=0,Ui=1/0,Gn=null,pu=!1,hh=null,zr=null,dl=!1,jr=null,mu=0,Ba=0,fh=null,Fl=-1,Ul=0;function It(){return ve&6?Ye():Fl!==-1?Fl:Fl=Ye()}function Wr(e){return e.mode&1?ve&2&&yt!==0?yt&-yt:iT.transition!==null?(Ul===0&&(Ul=yy()),Ul):(e=Ne,e!==0||(e=window.event,e=e===void 0?16:wy(e.type)),e):1}function kn(e,t,n,r){if(50<Ba)throw Ba=0,fh=null,Error(W(185));Io(e,n,r),(!(ve&2)||e!==ft)&&(e===ft&&(!(ve&2)&&(qu|=n),rt===4&&Tr(e,yt)),$t(e,r),n===1&&ve===0&&!(t.mode&1)&&(Ui=Ye()+500,$u&&Jr()))}function $t(e,t){var n=e.callbackNode;i_(e,t);var r=Jl(e,e===ft?yt:0);if(r===0)n!==null&&cp(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&cp(n),t===1)e.tag===0?sT(nm.bind(null,e)):zy(nm.bind(null,e)),eT(function(){!(ve&6)&&Jr()}),n=null;else{switch(xy(r)){case 1:n=kf;break;case 4:n=my;break;case 16:n=Xl;break;case 536870912:n=gy;break;default:n=Xl}n=Hx(n,Lx.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Lx(e,t){if(Fl=-1,Ul=0,ve&6)throw Error(W(327));var n=e.callbackNode;if(yi()&&e.callbackNode!==n)return null;var r=Jl(e,e===ft?yt:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=gu(e,r);else{t=r;var s=ve;ve|=2;var i=Dx();(ft!==e||yt!==t)&&(Gn=null,Ui=Ye()+500,Ns(e,t));do try{ST();break}catch(l){jx(e,l)}while(!0);Uf(),fu.current=i,ve=s,Je!==null?t=0:(ft=null,yt=0,t=rt)}if(t!==0){if(t===2&&(s=Ud(e),s!==0&&(r=s,t=ph(e,s))),t===1)throw n=fo,Ns(e,0),Tr(e,r),$t(e,Ye()),n;if(t===6)Tr(e,r);else{if(s=e.current.alternate,!(r&30)&&!TT(s)&&(t=gu(e,r),t===2&&(i=Ud(e),i!==0&&(r=i,t=ph(e,i))),t===1))throw n=fo,Ns(e,0),Tr(e,r),$t(e,Ye()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(W(345));case 2:as(e,Bt,Gn);break;case 3:if(Tr(e,r),(r&130023424)===r&&(t=t0+500-Ye(),10<t)){if(Jl(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){It(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Gd(as.bind(null,e,Bt,Gn),t);break}as(e,Bt,Gn);break;case 4:if(Tr(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var a=31-Nn(r);i=1<<a,a=t[a],a>s&&(s=a),r&=~i}if(r=s,r=Ye()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*_T(r/1960))-r,10<r){e.timeoutHandle=Gd(as.bind(null,e,Bt,Gn),r);break}as(e,Bt,Gn);break;case 5:as(e,Bt,Gn);break;default:throw Error(W(329))}}}return $t(e,Ye()),e.callbackNode===n?Lx.bind(null,e):null}function ph(e,t){var n=Ma;return e.current.memoizedState.isDehydrated&&(Ns(e,t).flags|=256),e=gu(e,t),e!==2&&(t=Bt,Bt=n,t!==null&&mh(t)),e}function mh(e){Bt===null?Bt=e:Bt.push.apply(Bt,e)}function TT(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Cn(i(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Tr(e,t){for(t&=~e0,t&=~qu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Nn(t),r=1<<n;e[n]=-1,t&=~r}}function nm(e){if(ve&6)throw Error(W(327));yi();var t=Jl(e,0);if(!(t&1))return $t(e,Ye()),null;var n=gu(e,t);if(e.tag!==0&&n===2){var r=Ud(e);r!==0&&(t=r,n=ph(e,r))}if(n===1)throw n=fo,Ns(e,0),Tr(e,t),$t(e,Ye()),n;if(n===6)throw Error(W(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,as(e,Bt,Gn),$t(e,Ye()),null}function n0(e,t){var n=ve;ve|=1;try{return e(t)}finally{ve=n,ve===0&&(Ui=Ye()+500,$u&&Jr())}}function Ps(e){jr!==null&&jr.tag===0&&!(ve&6)&&yi();var t=ve;ve|=1;var n=hn.transition,r=Ne;try{if(hn.transition=null,Ne=1,e)return e()}finally{Ne=r,hn.transition=n,ve=t,!(ve&6)&&Jr()}}function r0(){Gt=ci.current,Le(ci)}function Ns(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Z_(n)),Je!==null)for(n=Je.return;n!==null;){var r=n;switch(Mf(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ru();break;case 3:Bi(),Le(Ut),Le(Tt),qf();break;case 5:Vf(r);break;case 4:Bi();break;case 13:Le(Ue);break;case 19:Le(Ue);break;case 10:Hf(r.type._context);break;case 22:case 23:r0()}n=n.return}if(ft=e,Je=e=Vr(e.current,null),yt=Gt=t,rt=0,fo=null,e0=qu=Rs=0,Bt=Ma=null,hs!==null){for(t=0;t<hs.length;t++)if(n=hs[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var a=i.next;i.next=s,r.next=a}n.pending=r}hs=null}return e}function jx(e,t){do{var n=Je;try{if(Uf(),Dl.current=hu,du){for(var r=He.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}du=!1}if(Os=0,dt=tt=He=null,ja=!1,uo=0,Zf.current=null,n===null||n.return===null){rt=1,fo=t,Je=null;break}e:{var i=e,a=n.return,l=n,u=t;if(t=yt,l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,h=l,f=h.tag;if(!(h.mode&1)&&(f===0||f===11||f===15)){var m=h.alternate;m?(h.updateQueue=m.updateQueue,h.memoizedState=m.memoizedState,h.lanes=m.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=zp(a);if(p!==null){p.flags&=-257,Wp(p,a,l,i,t),p.mode&1&&$p(i,c,t),t=p,u=c;var b=t.updateQueue;if(b===null){var E=new Set;E.add(u),t.updateQueue=E}else b.add(u);break e}else{if(!(t&1)){$p(i,c,t),s0();break e}u=Error(W(426))}}else if(De&&l.mode&1){var v=zp(a);if(v!==null){!(v.flags&65536)&&(v.flags|=256),Wp(v,a,l,i,t),Bf(Fi(u,l));break e}}i=u=Fi(u,l),rt!==4&&(rt=2),Ma===null?Ma=[i]:Ma.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var g=xx(i,u,t);Dp(i,g);break e;case 1:l=u;var y=i.type,x=i.stateNode;if(!(i.flags&128)&&(typeof y.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(zr===null||!zr.has(x)))){i.flags|=65536,t&=-t,i.lanes|=t;var S=bx(i,l,t);Dp(i,S);break e}}i=i.return}while(i!==null)}Bx(n)}catch(P){t=P,Je===n&&n!==null&&(Je=n=n.return);continue}break}while(!0)}function Dx(){var e=fu.current;return fu.current=hu,e===null?hu:e}function s0(){(rt===0||rt===3||rt===2)&&(rt=4),ft===null||!(Rs&268435455)&&!(qu&268435455)||Tr(ft,yt)}function gu(e,t){var n=ve;ve|=2;var r=Dx();(ft!==e||yt!==t)&&(Gn=null,Ns(e,t));do try{wT();break}catch(s){jx(e,s)}while(!0);if(Uf(),ve=n,fu.current=r,Je!==null)throw Error(W(261));return ft=null,yt=0,rt}function wT(){for(;Je!==null;)Mx(Je)}function ST(){for(;Je!==null&&!Qv();)Mx(Je)}function Mx(e){var t=Ux(e.alternate,e,Gt);e.memoizedProps=e.pendingProps,t===null?Bx(e):Je=t,Zf.current=null}function Bx(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=xT(n,t),n!==null){n.flags&=32767,Je=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{rt=6,Je=null;return}}else if(n=yT(n,t,Gt),n!==null){Je=n;return}if(t=t.sibling,t!==null){Je=t;return}Je=t=e}while(t!==null);rt===0&&(rt=5)}function as(e,t,n){var r=Ne,s=hn.transition;try{hn.transition=null,Ne=1,NT(e,t,n,r)}finally{hn.transition=s,Ne=r}return null}function NT(e,t,n,r){do yi();while(jr!==null);if(ve&6)throw Error(W(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(W(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(a_(e,i),e===ft&&(Je=ft=null,yt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||dl||(dl=!0,Hx(Xl,function(){return yi(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=hn.transition,hn.transition=null;var a=Ne;Ne=1;var l=ve;ve|=4,Zf.current=null,ET(e,n),Rx(n,e),q_(qd),Zl=!!Vd,qd=Vd=null,e.current=n,vT(n),Xv(),ve=l,Ne=a,hn.transition=i}else e.current=n;if(dl&&(dl=!1,jr=e,mu=s),i=e.pendingLanes,i===0&&(zr=null),e_(n.stateNode),$t(e,Ye()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(pu)throw pu=!1,e=hh,hh=null,e;return mu&1&&e.tag!==0&&yi(),i=e.pendingLanes,i&1?e===fh?Ba++:(Ba=0,fh=e):Ba=0,Jr(),null}function yi(){if(jr!==null){var e=xy(mu),t=hn.transition,n=Ne;try{if(hn.transition=null,Ne=16>e?16:e,jr===null)var r=!1;else{if(e=jr,jr=null,mu=0,ve&6)throw Error(W(331));var s=ve;for(ve|=4,Z=e.current;Z!==null;){var i=Z,a=i.child;if(Z.flags&16){var l=i.deletions;if(l!==null){for(var u=0;u<l.length;u++){var c=l[u];for(Z=c;Z!==null;){var h=Z;switch(h.tag){case 0:case 11:case 15:Da(8,h,i)}var f=h.child;if(f!==null)f.return=h,Z=f;else for(;Z!==null;){h=Z;var m=h.sibling,p=h.return;if(Ax(h),h===c){Z=null;break}if(m!==null){m.return=p,Z=m;break}Z=p}}}var b=i.alternate;if(b!==null){var E=b.child;if(E!==null){b.child=null;do{var v=E.sibling;E.sibling=null,E=v}while(E!==null)}}Z=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,Z=a;else e:for(;Z!==null;){if(i=Z,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Da(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,Z=g;break e}Z=i.return}}var y=e.current;for(Z=y;Z!==null;){a=Z;var x=a.child;if(a.subtreeFlags&2064&&x!==null)x.return=a,Z=x;else e:for(a=y;Z!==null;){if(l=Z,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Vu(9,l)}}catch(P){qe(l,l.return,P)}if(l===a){Z=null;break e}var S=l.sibling;if(S!==null){S.return=l.return,Z=S;break e}Z=l.return}}if(ve=s,Jr(),Hn&&typeof Hn.onPostCommitFiberRoot=="function")try{Hn.onPostCommitFiberRoot(Mu,e)}catch{}r=!0}return r}finally{Ne=n,hn.transition=t}}return!1}function rm(e,t,n){t=Fi(n,t),t=xx(e,t,1),e=$r(e,t,1),t=It(),e!==null&&(Io(e,1,t),$t(e,t))}function qe(e,t,n){if(e.tag===3)rm(e,e,n);else for(;t!==null;){if(t.tag===3){rm(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(zr===null||!zr.has(r))){e=Fi(n,e),e=bx(t,e,1),t=$r(t,e,1),e=It(),t!==null&&(Io(t,1,e),$t(t,e));break}}t=t.return}}function kT(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=It(),e.pingedLanes|=e.suspendedLanes&n,ft===e&&(yt&n)===n&&(rt===4||rt===3&&(yt&130023424)===yt&&500>Ye()-t0?Ns(e,0):e0|=n),$t(e,t)}function Fx(e,t){t===0&&(e.mode&1?(t=tl,tl<<=1,!(tl&130023424)&&(tl=4194304)):t=1);var n=It();e=ar(e,t),e!==null&&(Io(e,t,n),$t(e,n))}function CT(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Fx(e,n)}function AT(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(W(314))}r!==null&&r.delete(t),Fx(e,n)}var Ux;Ux=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ut.current)Ft=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Ft=!1,gT(e,t,n);Ft=!!(e.flags&131072)}else Ft=!1,De&&t.flags&1048576&&Wy(t,au,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Bl(e,t),e=t.pendingProps;var s=ji(t,Tt.current);gi(t,n),s=Gf(null,t,r,e,s,n);var i=Kf();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ht(r)?(i=!0,su(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,zf(t),s.updater=Wu,t.stateNode=s,s._reactInternals=t,th(t,r,e,n),t=sh(null,t,r,!0,i,n)):(t.tag=0,De&&i&&Df(t),Ct(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Bl(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=OT(r),e=bn(r,e),s){case 0:t=rh(null,t,r,e,n);break e;case 1:t=Yp(null,t,r,e,n);break e;case 11:t=Vp(null,t,r,e,n);break e;case 14:t=qp(null,t,r,bn(r.type,e),n);break e}throw Error(W(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:bn(r,s),rh(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:bn(r,s),Yp(e,t,r,s,n);case 3:e:{if(Tx(t),e===null)throw Error(W(387));r=t.pendingProps,i=t.memoizedState,s=i.element,Qy(e,t),uu(t,r,null,n);var a=t.memoizedState;if(r=a.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=Fi(Error(W(423)),t),t=Gp(e,t,r,n,s);break e}else if(r!==s){s=Fi(Error(W(424)),t),t=Gp(e,t,r,n,s);break e}else for(Xt=Hr(t.stateNode.containerInfo.firstChild),Zt=t,De=!0,Sn=null,n=Gy(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Di(),r===s){t=or(e,t,n);break e}Ct(e,t,r,n)}t=t.child}return t;case 5:return Xy(t),e===null&&Jd(t),r=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,a=s.children,Yd(r,s)?a=null:i!==null&&Yd(r,i)&&(t.flags|=32),_x(e,t),Ct(e,t,a,n),t.child;case 6:return e===null&&Jd(t),null;case 13:return wx(e,t,n);case 4:return Wf(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Mi(t,null,r,n):Ct(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:bn(r,s),Vp(e,t,r,s,n);case 7:return Ct(e,t,t.pendingProps,n),t.child;case 8:return Ct(e,t,t.pendingProps.children,n),t.child;case 12:return Ct(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,i=t.memoizedProps,a=s.value,Oe(ou,r._currentValue),r._currentValue=a,i!==null)if(Cn(i.value,a)){if(i.children===s.children&&!Ut.current){t=or(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){a=i.child;for(var u=l.firstContext;u!==null;){if(u.context===r){if(i.tag===1){u=rr(-1,n&-n),u.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var h=c.pending;h===null?u.next=u:(u.next=h.next,h.next=u),c.pending=u}}i.lanes|=n,u=i.alternate,u!==null&&(u.lanes|=n),Zd(i.return,n,t),l.lanes|=n;break}u=u.next}}else if(i.tag===10)a=i.type===t.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(W(341));a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),Zd(a,n,t),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===t){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}Ct(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,gi(t,n),s=fn(s),r=r(s),t.flags|=1,Ct(e,t,r,n),t.child;case 14:return r=t.type,s=bn(r,t.pendingProps),s=bn(r.type,s),qp(e,t,r,s,n);case 15:return Ex(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:bn(r,s),Bl(e,t),t.tag=1,Ht(r)?(e=!0,su(t)):e=!1,gi(t,n),yx(t,r,s),th(t,r,s,n),sh(null,t,r,!0,e,n);case 19:return Sx(e,t,n);case 22:return vx(e,t,n)}throw Error(W(156,t.tag))};function Hx(e,t){return py(e,t)}function IT(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function dn(e,t,n,r){return new IT(e,t,n,r)}function i0(e){return e=e.prototype,!(!e||!e.isReactComponent)}function OT(e){if(typeof e=="function")return i0(e)?1:0;if(e!=null){if(e=e.$$typeof,e===wf)return 11;if(e===Sf)return 14}return 2}function Vr(e,t){var n=e.alternate;return n===null?(n=dn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Hl(e,t,n,r,s,i){var a=2;if(r=e,typeof e=="function")i0(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case ei:return ks(n.children,s,i,t);case Tf:a=8,s|=8;break;case Sd:return e=dn(12,n,t,s|2),e.elementType=Sd,e.lanes=i,e;case Nd:return e=dn(13,n,t,s),e.elementType=Nd,e.lanes=i,e;case kd:return e=dn(19,n,t,s),e.elementType=kd,e.lanes=i,e;case X1:return Yu(n,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case K1:a=10;break e;case Q1:a=9;break e;case wf:a=11;break e;case Sf:a=14;break e;case Er:a=16,r=null;break e}throw Error(W(130,e==null?e:typeof e,""))}return t=dn(a,n,t,s),t.elementType=e,t.type=r,t.lanes=i,t}function ks(e,t,n,r){return e=dn(7,e,r,t),e.lanes=n,e}function Yu(e,t,n,r){return e=dn(22,e,r,t),e.elementType=X1,e.lanes=n,e.stateNode={isHidden:!1},e}function Vc(e,t,n){return e=dn(6,e,null,t),e.lanes=n,e}function qc(e,t,n){return t=dn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function RT(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Nc(0),this.expirationTimes=Nc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Nc(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function a0(e,t,n,r,s,i,a,l,u){return e=new RT(e,t,n,l,u),t===1?(t=1,i===!0&&(t|=8)):t=0,i=dn(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},zf(i),e}function PT(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Zs,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function $x(e){if(!e)return Kr;e=e._reactInternals;e:{if(Ds(e)!==e||e.tag!==1)throw Error(W(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ht(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(W(171))}if(e.tag===1){var n=e.type;if(Ht(n))return $y(e,n,t)}return t}function zx(e,t,n,r,s,i,a,l,u){return e=a0(n,r,!0,e,s,i,a,l,u),e.context=$x(null),n=e.current,r=It(),s=Wr(n),i=rr(r,s),i.callback=t??null,$r(n,i,s),e.current.lanes=s,Io(e,s,r),$t(e,r),e}function Gu(e,t,n,r){var s=t.current,i=It(),a=Wr(s);return n=$x(n),t.context===null?t.context=n:t.pendingContext=n,t=rr(i,a),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=$r(s,t,a),e!==null&&(kn(e,s,a,i),jl(e,s,a)),a}function yu(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function sm(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function o0(e,t){sm(e,t),(e=e.alternate)&&sm(e,t)}function LT(){return null}var Wx=typeof reportError=="function"?reportError:function(e){console.error(e)};function l0(e){this._internalRoot=e}Ku.prototype.render=l0.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(W(409));Gu(e,t,null,null)};Ku.prototype.unmount=l0.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ps(function(){Gu(null,e,null,null)}),t[ir]=null}};function Ku(e){this._internalRoot=e}Ku.prototype.unstable_scheduleHydration=function(e){if(e){var t=vy();e={blockedOn:null,target:e,priority:t};for(var n=0;n<_r.length&&t!==0&&t<_r[n].priority;n++);_r.splice(n,0,e),n===0&&Ty(e)}};function u0(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Qu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function im(){}function jT(e,t,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=yu(a);i.call(c)}}var a=zx(t,r,e,0,null,!1,!1,"",im);return e._reactRootContainer=a,e[ir]=a.current,so(e.nodeType===8?e.parentNode:e),Ps(),a}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var c=yu(u);l.call(c)}}var u=a0(e,0,!1,null,null,!1,!1,"",im);return e._reactRootContainer=u,e[ir]=u.current,so(e.nodeType===8?e.parentNode:e),Ps(function(){Gu(t,u,n,r)}),u}function Xu(e,t,n,r,s){var i=n._reactRootContainer;if(i){var a=i;if(typeof s=="function"){var l=s;s=function(){var u=yu(a);l.call(u)}}Gu(t,a,e,s)}else a=jT(n,t,e,s,r);return yu(a)}by=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=wa(t.pendingLanes);n!==0&&(Cf(t,n|1),$t(t,Ye()),!(ve&6)&&(Ui=Ye()+500,Jr()))}break;case 13:Ps(function(){var r=ar(e,1);if(r!==null){var s=It();kn(r,e,1,s)}}),o0(e,1)}};Af=function(e){if(e.tag===13){var t=ar(e,134217728);if(t!==null){var n=It();kn(t,e,134217728,n)}o0(e,134217728)}};Ey=function(e){if(e.tag===13){var t=Wr(e),n=ar(e,t);if(n!==null){var r=It();kn(n,e,t,r)}o0(e,t)}};vy=function(){return Ne};_y=function(e,t){var n=Ne;try{return Ne=e,t()}finally{Ne=n}};Md=function(e,t,n){switch(t){case"input":if(Id(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=Hu(r);if(!s)throw Error(W(90));Z1(r),Id(r,s)}}}break;case"textarea":ty(e,n);break;case"select":t=n.value,t!=null&&hi(e,!!n.multiple,t,!1)}};ly=n0;uy=Ps;var DT={usingClientEntryPoint:!1,Events:[Ro,si,Hu,ay,oy,n0]},ma={findFiberByHostInstance:ds,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},MT={bundleType:ma.bundleType,version:ma.version,rendererPackageName:ma.rendererPackageName,rendererConfig:ma.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ur.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=hy(e),e===null?null:e.stateNode},findFiberByHostInstance:ma.findFiberByHostInstance||LT,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var hl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!hl.isDisabled&&hl.supportsFiber)try{Mu=hl.inject(MT),Hn=hl}catch{}}tn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=DT;tn.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!u0(t))throw Error(W(200));return PT(e,t,null,n)};tn.createRoot=function(e,t){if(!u0(e))throw Error(W(299));var n=!1,r="",s=Wx;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=a0(e,1,!1,null,null,n,!1,r,s),e[ir]=t.current,so(e.nodeType===8?e.parentNode:e),new l0(t)};tn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(W(188)):(e=Object.keys(e).join(","),Error(W(268,e)));return e=hy(t),e=e===null?null:e.stateNode,e};tn.flushSync=function(e){return Ps(e)};tn.hydrate=function(e,t,n){if(!Qu(t))throw Error(W(200));return Xu(null,e,t,!0,n)};tn.hydrateRoot=function(e,t,n){if(!u0(e))throw Error(W(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",a=Wx;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),t=zx(t,null,e,1,n??null,s,!1,i,a),e[ir]=t.current,so(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new Ku(t)};tn.render=function(e,t,n){if(!Qu(t))throw Error(W(200));return Xu(null,e,t,!1,n)};tn.unmountComponentAtNode=function(e){if(!Qu(e))throw Error(W(40));return e._reactRootContainer?(Ps(function(){Xu(null,null,e,!1,function(){e._reactRootContainer=null,e[ir]=null})}),!0):!1};tn.unstable_batchedUpdates=n0;tn.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Qu(n))throw Error(W(200));if(e==null||e._reactInternals===void 0)throw Error(W(38));return Xu(e,t,n,!1,r)};tn.version="18.3.1-next-f1338f8080-20240426";function Vx(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Vx)}catch(e){console.error(e)}}Vx(),V1.exports=tn;var qx=V1.exports,am=qx;Td.createRoot=am.createRoot,Td.hydrateRoot=am.hydrateRoot;var Lo=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},BT={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},Nr,pf,T1,FT=(T1=class{constructor(){re(this,Nr,BT);re(this,pf,!1)}setTimeoutProvider(e){J(this,Nr,e)}setTimeout(e,t){return I(this,Nr).setTimeout(e,t)}clearTimeout(e){I(this,Nr).clearTimeout(e)}setInterval(e,t){return I(this,Nr).setInterval(e,t)}clearInterval(e){I(this,Nr).clearInterval(e)}},Nr=new WeakMap,pf=new WeakMap,T1),ps=new FT;function UT(e){setTimeout(e,0)}var Ls=typeof window>"u"||"Deno"in globalThis;function Mt(){}function HT(e,t){return typeof e=="function"?e(t):e}function gh(e){return typeof e=="number"&&e>=0&&e!==1/0}function Yx(e,t){return Math.max(e+(t||0)-Date.now(),0)}function qr(e,t){return typeof e=="function"?e(t):e}function an(e,t){return typeof e=="function"?e(t):e}function om(e,t){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:a,stale:l}=e;if(a){if(r){if(t.queryHash!==c0(a,t.options))return!1}else if(!mo(t.queryKey,a))return!1}if(n!=="all"){const u=t.isActive();if(n==="active"&&!u||n==="inactive"&&u)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||s&&s!==t.state.fetchStatus||i&&!i(t))}function lm(e,t){const{exact:n,status:r,predicate:s,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(n){if(po(t.options.mutationKey)!==po(i))return!1}else if(!mo(t.options.mutationKey,i))return!1}return!(r&&t.state.status!==r||s&&!s(t))}function c0(e,t){return((t==null?void 0:t.queryKeyHashFn)||po)(e)}function po(e){return JSON.stringify(e,(t,n)=>xh(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function mo(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>mo(e[n],t[n])):!1}var $T=Object.prototype.hasOwnProperty;function Gx(e,t){if(e===t)return e;const n=um(e)&&um(t);if(!n&&!(xh(e)&&xh(t)))return t;const s=(n?e:Object.keys(e)).length,i=n?t:Object.keys(t),a=i.length,l=n?new Array(a):{};let u=0;for(let c=0;c<a;c++){const h=n?c:i[c],f=e[h],m=t[h];if(f===m){l[h]=f,(n?c<s:$T.call(e,h))&&u++;continue}if(f===null||m===null||typeof f!="object"||typeof m!="object"){l[h]=m;continue}const p=Gx(f,m);l[h]=p,p===f&&u++}return s===a&&u===s?e:l}function yh(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function um(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function xh(e){if(!cm(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!cm(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function cm(e){return Object.prototype.toString.call(e)==="[object Object]"}function zT(e){return new Promise(t=>{ps.setTimeout(t,e)})}function bh(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?Gx(e,t):t}function WT(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function VT(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var d0=Symbol();function Kx(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===d0?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function qT(e,t){return typeof e=="function"?e(...t):!!e}var ys,kr,_i,w1,YT=(w1=class extends Lo{constructor(){super();re(this,ys);re(this,kr);re(this,_i);J(this,_i,t=>{if(!Ls&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){I(this,kr)||this.setEventListener(I(this,_i))}onUnsubscribe(){var t;this.hasListeners()||((t=I(this,kr))==null||t.call(this),J(this,kr,void 0))}setEventListener(t){var n;J(this,_i,t),(n=I(this,kr))==null||n.call(this),J(this,kr,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){I(this,ys)!==t&&(J(this,ys,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof I(this,ys)=="boolean"?I(this,ys):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},ys=new WeakMap,kr=new WeakMap,_i=new WeakMap,w1),h0=new YT;function Eh(){let e,t;const n=new Promise((s,i)=>{e=s,t=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),e(s)},n.reject=s=>{r({status:"rejected",reason:s}),t(s)},n}var GT=UT;function KT(){let e=[],t=0,n=l=>{l()},r=l=>{l()},s=GT;const i=l=>{t?e.push(l):s(()=>{n(l)})},a=()=>{const l=e;e=[],l.length&&s(()=>{r(()=>{l.forEach(u=>{n(u)})})})};return{batch:l=>{let u;t++;try{u=l()}finally{t--,t||a()}return u},batchCalls:l=>(...u)=>{i(()=>{l(...u)})},schedule:i,setNotifyFunction:l=>{n=l},setBatchNotifyFunction:l=>{r=l},setScheduler:l=>{s=l}}}var gt=KT(),Ti,Cr,wi,S1,QT=(S1=class extends Lo{constructor(){super();re(this,Ti,!0);re(this,Cr);re(this,wi);J(this,wi,t=>{if(!Ls&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){I(this,Cr)||this.setEventListener(I(this,wi))}onUnsubscribe(){var t;this.hasListeners()||((t=I(this,Cr))==null||t.call(this),J(this,Cr,void 0))}setEventListener(t){var n;J(this,wi,t),(n=I(this,Cr))==null||n.call(this),J(this,Cr,t(this.setOnline.bind(this)))}setOnline(t){I(this,Ti)!==t&&(J(this,Ti,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return I(this,Ti)}},Ti=new WeakMap,Cr=new WeakMap,wi=new WeakMap,S1),xu=new QT;function XT(e){return Math.min(1e3*2**e,3e4)}function Qx(e){return(e??"online")==="online"?xu.isOnline():!0}var vh=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function Xx(e){let t=!1,n=0,r;const s=Eh(),i=()=>s.status!=="pending",a=E=>{var v;if(!i()){const g=new vh(E);m(g),(v=e.onCancel)==null||v.call(e,g)}},l=()=>{t=!0},u=()=>{t=!1},c=()=>h0.isFocused()&&(e.networkMode==="always"||xu.isOnline())&&e.canRun(),h=()=>Qx(e.networkMode)&&e.canRun(),f=E=>{i()||(r==null||r(),s.resolve(E))},m=E=>{i()||(r==null||r(),s.reject(E))},p=()=>new Promise(E=>{var v;r=g=>{(i()||c())&&E(g)},(v=e.onPause)==null||v.call(e)}).then(()=>{var E;r=void 0,i()||(E=e.onContinue)==null||E.call(e)}),b=()=>{if(i())return;let E;const v=n===0?e.initialPromise:void 0;try{E=v??e.fn()}catch(g){E=Promise.reject(g)}Promise.resolve(E).then(f).catch(g=>{var C;if(i())return;const y=e.retry??(Ls?0:3),x=e.retryDelay??XT,S=typeof x=="function"?x(n,g):x,P=y===!0||typeof y=="number"&&n<y||typeof y=="function"&&y(n,g);if(t||!P){m(g);return}n++,(C=e.onFail)==null||C.call(e,n,g),zT(S).then(()=>c()?void 0:p()).then(()=>{t?m(g):b()})})};return{promise:s,status:()=>s.status,cancel:a,continue:()=>(r==null||r(),s),cancelRetry:l,continueRetry:u,canStart:h,start:()=>(h()?b():p().then(b),s)}}var xs,N1,Jx=(N1=class{constructor(){re(this,xs)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),gh(this.gcTime)&&J(this,xs,ps.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Ls?1/0:5*60*1e3))}clearGcTimeout(){I(this,xs)&&(ps.clearTimeout(I(this,xs)),J(this,xs,void 0))}},xs=new WeakMap,N1),bs,Si,sn,Es,ct,wo,vs,vn,Yn,k1,JT=(k1=class extends Jx{constructor(t){super();re(this,vn);re(this,bs);re(this,Si);re(this,sn);re(this,Es);re(this,ct);re(this,wo);re(this,vs);J(this,vs,!1),J(this,wo,t.defaultOptions),this.setOptions(t.options),this.observers=[],J(this,Es,t.client),J(this,sn,I(this,Es).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,J(this,bs,hm(this.options)),this.state=t.state??I(this,bs),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=I(this,ct))==null?void 0:t.promise}setOptions(t){if(this.options={...I(this,wo),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const n=hm(this.options);n.data!==void 0&&(this.setState(dm(n.data,n.dataUpdatedAt)),J(this,bs,n))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&I(this,sn).remove(this)}setData(t,n){const r=bh(this.state.data,t,this.options);return ye(this,vn,Yn).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){ye(this,vn,Yn).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,s;const n=(r=I(this,ct))==null?void 0:r.promise;return(s=I(this,ct))==null||s.cancel(t),n?n.then(Mt).catch(Mt):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(I(this,bs))}isActive(){return this.observers.some(t=>an(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===d0||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>qr(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!Yx(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=I(this,ct))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=I(this,ct))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),I(this,sn).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(I(this,ct)&&(I(this,vs)?I(this,ct).cancel({revert:!0}):I(this,ct).cancelRetry()),this.scheduleGc()),I(this,sn).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||ye(this,vn,Yn).call(this,{type:"invalidate"})}async fetch(t,n){var u,c,h,f,m,p,b,E,v,g,y,x;if(this.state.fetchStatus!=="idle"&&((u=I(this,ct))==null?void 0:u.status())!=="rejected"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(I(this,ct))return I(this,ct).continueRetry(),I(this,ct).promise}if(t&&this.setOptions(t),!this.options.queryFn){const S=this.observers.find(P=>P.options.queryFn);S&&this.setOptions(S.options)}const r=new AbortController,s=S=>{Object.defineProperty(S,"signal",{enumerable:!0,get:()=>(J(this,vs,!0),r.signal)})},i=()=>{const S=Kx(this.options,n),C=(()=>{const M={client:I(this,Es),queryKey:this.queryKey,meta:this.meta};return s(M),M})();return J(this,vs,!1),this.options.persister?this.options.persister(S,C,this):S(C)},l=(()=>{const S={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:I(this,Es),state:this.state,fetchFn:i};return s(S),S})();(c=this.options.behavior)==null||c.onFetch(l,this),J(this,Si,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((h=l.fetchOptions)==null?void 0:h.meta))&&ye(this,vn,Yn).call(this,{type:"fetch",meta:(f=l.fetchOptions)==null?void 0:f.meta}),J(this,ct,Xx({initialPromise:n==null?void 0:n.initialPromise,fn:l.fetchFn,onCancel:S=>{S instanceof vh&&S.revert&&this.setState({...I(this,Si),fetchStatus:"idle"}),r.abort()},onFail:(S,P)=>{ye(this,vn,Yn).call(this,{type:"failed",failureCount:S,error:P})},onPause:()=>{ye(this,vn,Yn).call(this,{type:"pause"})},onContinue:()=>{ye(this,vn,Yn).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0}));try{const S=await I(this,ct).start();if(S===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(S),(p=(m=I(this,sn).config).onSuccess)==null||p.call(m,S,this),(E=(b=I(this,sn).config).onSettled)==null||E.call(b,S,this.state.error,this),S}catch(S){if(S instanceof vh){if(S.silent)return I(this,ct).promise;if(S.revert){if(this.state.data===void 0)throw S;return this.state.data}}throw ye(this,vn,Yn).call(this,{type:"error",error:S}),(g=(v=I(this,sn).config).onError)==null||g.call(v,S,this),(x=(y=I(this,sn).config).onSettled)==null||x.call(y,this.state.data,S,this),S}finally{this.scheduleGc()}}},bs=new WeakMap,Si=new WeakMap,sn=new WeakMap,Es=new WeakMap,ct=new WeakMap,wo=new WeakMap,vs=new WeakMap,vn=new WeakSet,Yn=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...Zx(r.data,this.options),fetchMeta:t.meta??null};case"success":const s={...r,...dm(t.data,t.dataUpdatedAt),dataUpdateCount:r.dataUpdateCount+1,...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return J(this,Si,t.manual?s:void 0),s;case"error":const i=t.error;return{...r,error:i,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),gt.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),I(this,sn).notify({query:this,type:"updated",action:t})})},k1);function Zx(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Qx(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function dm(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function hm(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Dt,xe,So,Nt,_s,Ni,Xn,Ar,No,ki,Ci,Ts,ws,Ir,Ai,Se,Na,_h,Th,wh,Sh,Nh,kh,Ch,eb,C1,ZT=(C1=class extends Lo{constructor(t,n){super();re(this,Se);re(this,Dt);re(this,xe);re(this,So);re(this,Nt);re(this,_s);re(this,Ni);re(this,Xn);re(this,Ar);re(this,No);re(this,ki);re(this,Ci);re(this,Ts);re(this,ws);re(this,Ir);re(this,Ai,new Set);this.options=n,J(this,Dt,t),J(this,Ar,null),J(this,Xn,Eh()),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(I(this,xe).addObserver(this),fm(I(this,xe),this.options)?ye(this,Se,Na).call(this):this.updateResult(),ye(this,Se,Sh).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Ah(I(this,xe),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Ah(I(this,xe),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,ye(this,Se,Nh).call(this),ye(this,Se,kh).call(this),I(this,xe).removeObserver(this)}setOptions(t){const n=this.options,r=I(this,xe);if(this.options=I(this,Dt).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof an(this.options.enabled,I(this,xe))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");ye(this,Se,Ch).call(this),I(this,xe).setOptions(this.options),n._defaulted&&!yh(this.options,n)&&I(this,Dt).getQueryCache().notify({type:"observerOptionsUpdated",query:I(this,xe),observer:this});const s=this.hasListeners();s&&pm(I(this,xe),r,this.options,n)&&ye(this,Se,Na).call(this),this.updateResult(),s&&(I(this,xe)!==r||an(this.options.enabled,I(this,xe))!==an(n.enabled,I(this,xe))||qr(this.options.staleTime,I(this,xe))!==qr(n.staleTime,I(this,xe)))&&ye(this,Se,_h).call(this);const i=ye(this,Se,Th).call(this);s&&(I(this,xe)!==r||an(this.options.enabled,I(this,xe))!==an(n.enabled,I(this,xe))||i!==I(this,Ir))&&ye(this,Se,wh).call(this,i)}getOptimisticResult(t){const n=I(this,Dt).getQueryCache().build(I(this,Dt),t),r=this.createResult(n,t);return tw(this,r)&&(J(this,Nt,r),J(this,Ni,this.options),J(this,_s,I(this,xe).state)),r}getCurrentResult(){return I(this,Nt)}trackResult(t,n){return new Proxy(t,{get:(r,s)=>(this.trackProp(s),n==null||n(s),s==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&I(this,Xn).status==="pending"&&I(this,Xn).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(r,s))})}trackProp(t){I(this,Ai).add(t)}getCurrentQuery(){return I(this,xe)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const n=I(this,Dt).defaultQueryOptions(t),r=I(this,Dt).getQueryCache().build(I(this,Dt),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(t){return ye(this,Se,Na).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),I(this,Nt)))}createResult(t,n){var U;const r=I(this,xe),s=this.options,i=I(this,Nt),a=I(this,_s),l=I(this,Ni),c=t!==r?t.state:I(this,So),{state:h}=t;let f={...h},m=!1,p;if(n._optimisticResults){const B=this.hasListeners(),$=!B&&fm(t,n),Q=B&&pm(t,r,n,s);($||Q)&&(f={...f,...Zx(h.data,t.options)}),n._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:b,errorUpdatedAt:E,status:v}=f;p=f.data;let g=!1;if(n.placeholderData!==void 0&&p===void 0&&v==="pending"){let B;i!=null&&i.isPlaceholderData&&n.placeholderData===(l==null?void 0:l.placeholderData)?(B=i.data,g=!0):B=typeof n.placeholderData=="function"?n.placeholderData((U=I(this,Ci))==null?void 0:U.state.data,I(this,Ci)):n.placeholderData,B!==void 0&&(v="success",p=bh(i==null?void 0:i.data,B,n),m=!0)}if(n.select&&p!==void 0&&!g)if(i&&p===(a==null?void 0:a.data)&&n.select===I(this,No))p=I(this,ki);else try{J(this,No,n.select),p=n.select(p),p=bh(i==null?void 0:i.data,p,n),J(this,ki,p),J(this,Ar,null)}catch(B){J(this,Ar,B)}I(this,Ar)&&(b=I(this,Ar),p=I(this,ki),E=Date.now(),v="error");const y=f.fetchStatus==="fetching",x=v==="pending",S=v==="error",P=x&&y,C=p!==void 0,R={status:v,fetchStatus:f.fetchStatus,isPending:x,isSuccess:v==="success",isError:S,isInitialLoading:P,isLoading:P,data:p,dataUpdatedAt:f.dataUpdatedAt,error:b,errorUpdatedAt:E,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>c.dataUpdateCount||f.errorUpdateCount>c.errorUpdateCount,isFetching:y,isRefetching:y&&!x,isLoadingError:S&&!C,isPaused:f.fetchStatus==="paused",isPlaceholderData:m,isRefetchError:S&&C,isStale:f0(t,n),refetch:this.refetch,promise:I(this,Xn),isEnabled:an(n.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const B=ie=>{R.status==="error"?ie.reject(R.error):R.data!==void 0&&ie.resolve(R.data)},$=()=>{const ie=J(this,Xn,R.promise=Eh());B(ie)},Q=I(this,Xn);switch(Q.status){case"pending":t.queryHash===r.queryHash&&B(Q);break;case"fulfilled":(R.status==="error"||R.data!==Q.value)&&$();break;case"rejected":(R.status!=="error"||R.error!==Q.reason)&&$();break}}return R}updateResult(){const t=I(this,Nt),n=this.createResult(I(this,xe),this.options);if(J(this,_s,I(this,xe).state),J(this,Ni,this.options),I(this,_s).data!==void 0&&J(this,Ci,I(this,xe)),yh(n,t))return;J(this,Nt,n);const r=()=>{if(!t)return!0;const{notifyOnChangeProps:s}=this.options,i=typeof s=="function"?s():s;if(i==="all"||!i&&!I(this,Ai).size)return!0;const a=new Set(i??I(this,Ai));return this.options.throwOnError&&a.add("error"),Object.keys(I(this,Nt)).some(l=>{const u=l;return I(this,Nt)[u]!==t[u]&&a.has(u)})};ye(this,Se,eb).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&ye(this,Se,Sh).call(this)}},Dt=new WeakMap,xe=new WeakMap,So=new WeakMap,Nt=new WeakMap,_s=new WeakMap,Ni=new WeakMap,Xn=new WeakMap,Ar=new WeakMap,No=new WeakMap,ki=new WeakMap,Ci=new WeakMap,Ts=new WeakMap,ws=new WeakMap,Ir=new WeakMap,Ai=new WeakMap,Se=new WeakSet,Na=function(t){ye(this,Se,Ch).call(this);let n=I(this,xe).fetch(this.options,t);return t!=null&&t.throwOnError||(n=n.catch(Mt)),n},_h=function(){ye(this,Se,Nh).call(this);const t=qr(this.options.staleTime,I(this,xe));if(Ls||I(this,Nt).isStale||!gh(t))return;const r=Yx(I(this,Nt).dataUpdatedAt,t)+1;J(this,Ts,ps.setTimeout(()=>{I(this,Nt).isStale||this.updateResult()},r))},Th=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(I(this,xe)):this.options.refetchInterval)??!1},wh=function(t){ye(this,Se,kh).call(this),J(this,Ir,t),!(Ls||an(this.options.enabled,I(this,xe))===!1||!gh(I(this,Ir))||I(this,Ir)===0)&&J(this,ws,ps.setInterval(()=>{(this.options.refetchIntervalInBackground||h0.isFocused())&&ye(this,Se,Na).call(this)},I(this,Ir)))},Sh=function(){ye(this,Se,_h).call(this),ye(this,Se,wh).call(this,ye(this,Se,Th).call(this))},Nh=function(){I(this,Ts)&&(ps.clearTimeout(I(this,Ts)),J(this,Ts,void 0))},kh=function(){I(this,ws)&&(ps.clearInterval(I(this,ws)),J(this,ws,void 0))},Ch=function(){const t=I(this,Dt).getQueryCache().build(I(this,Dt),this.options);if(t===I(this,xe))return;const n=I(this,xe);J(this,xe,t),J(this,So,t.state),this.hasListeners()&&(n==null||n.removeObserver(this),t.addObserver(this))},eb=function(t){gt.batch(()=>{t.listeners&&this.listeners.forEach(n=>{n(I(this,Nt))}),I(this,Dt).getQueryCache().notify({query:I(this,xe),type:"observerResultsUpdated"})})},C1);function ew(e,t){return an(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function fm(e,t){return ew(e,t)||e.state.data!==void 0&&Ah(e,t,t.refetchOnMount)}function Ah(e,t,n){if(an(t.enabled,e)!==!1&&qr(t.staleTime,e)!=="static"){const r=typeof n=="function"?n(e):n;return r==="always"||r!==!1&&f0(e,t)}return!1}function pm(e,t,n,r){return(e!==t||an(r.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&f0(e,n)}function f0(e,t){return an(t.enabled,e)!==!1&&e.isStaleByTime(qr(t.staleTime,e))}function tw(e,t){return!yh(e.getCurrentResult(),t)}function mm(e){return{onFetch:(t,n)=>{var h,f,m,p,b;const r=t.options,s=(m=(f=(h=t.fetchOptions)==null?void 0:h.meta)==null?void 0:f.fetchMore)==null?void 0:m.direction,i=((p=t.state.data)==null?void 0:p.pages)||[],a=((b=t.state.data)==null?void 0:b.pageParams)||[];let l={pages:[],pageParams:[]},u=0;const c=async()=>{let E=!1;const v=x=>{Object.defineProperty(x,"signal",{enumerable:!0,get:()=>(t.signal.aborted?E=!0:t.signal.addEventListener("abort",()=>{E=!0}),t.signal)})},g=Kx(t.options,t.fetchOptions),y=async(x,S,P)=>{if(E)return Promise.reject();if(S==null&&x.pages.length)return Promise.resolve(x);const M=(()=>{const $={client:t.client,queryKey:t.queryKey,pageParam:S,direction:P?"backward":"forward",meta:t.options.meta};return v($),$})(),R=await g(M),{maxPages:U}=t.options,B=P?VT:WT;return{pages:B(x.pages,R,U),pageParams:B(x.pageParams,S,U)}};if(s&&i.length){const x=s==="backward",S=x?nw:gm,P={pages:i,pageParams:a},C=S(r,P);l=await y(P,C,x)}else{const x=e??i.length;do{const S=u===0?a[0]??r.initialPageParam:gm(r,l);if(u>0&&S==null)break;l=await y(l,S),u++}while(u<x)}return l};t.options.persister?t.fetchFn=()=>{var E,v;return(v=(E=t.options).persister)==null?void 0:v.call(E,c,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=c}}}function gm(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function nw(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var ko,Ln,kt,Ss,jn,yr,A1,rw=(A1=class extends Jx{constructor(t){super();re(this,jn);re(this,ko);re(this,Ln);re(this,kt);re(this,Ss);J(this,ko,t.client),this.mutationId=t.mutationId,J(this,kt,t.mutationCache),J(this,Ln,[]),this.state=t.state||sw(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){I(this,Ln).includes(t)||(I(this,Ln).push(t),this.clearGcTimeout(),I(this,kt).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){J(this,Ln,I(this,Ln).filter(n=>n!==t)),this.scheduleGc(),I(this,kt).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){I(this,Ln).length||(this.state.status==="pending"?this.scheduleGc():I(this,kt).remove(this))}continue(){var t;return((t=I(this,Ss))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var a,l,u,c,h,f,m,p,b,E,v,g,y,x,S,P,C,M,R,U;const n=()=>{ye(this,jn,yr).call(this,{type:"continue"})},r={client:I(this,ko),meta:this.options.meta,mutationKey:this.options.mutationKey};J(this,Ss,Xx({fn:()=>this.options.mutationFn?this.options.mutationFn(t,r):Promise.reject(new Error("No mutationFn found")),onFail:(B,$)=>{ye(this,jn,yr).call(this,{type:"failed",failureCount:B,error:$})},onPause:()=>{ye(this,jn,yr).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>I(this,kt).canRun(this)}));const s=this.state.status==="pending",i=!I(this,Ss).canStart();try{if(s)n();else{ye(this,jn,yr).call(this,{type:"pending",variables:t,isPaused:i}),await((l=(a=I(this,kt).config).onMutate)==null?void 0:l.call(a,t,this,r));const $=await((c=(u=this.options).onMutate)==null?void 0:c.call(u,t,r));$!==this.state.context&&ye(this,jn,yr).call(this,{type:"pending",context:$,variables:t,isPaused:i})}const B=await I(this,Ss).start();return await((f=(h=I(this,kt).config).onSuccess)==null?void 0:f.call(h,B,t,this.state.context,this,r)),await((p=(m=this.options).onSuccess)==null?void 0:p.call(m,B,t,this.state.context,r)),await((E=(b=I(this,kt).config).onSettled)==null?void 0:E.call(b,B,null,this.state.variables,this.state.context,this,r)),await((g=(v=this.options).onSettled)==null?void 0:g.call(v,B,null,t,this.state.context,r)),ye(this,jn,yr).call(this,{type:"success",data:B}),B}catch(B){try{throw await((x=(y=I(this,kt).config).onError)==null?void 0:x.call(y,B,t,this.state.context,this,r)),await((P=(S=this.options).onError)==null?void 0:P.call(S,B,t,this.state.context,r)),await((M=(C=I(this,kt).config).onSettled)==null?void 0:M.call(C,void 0,B,this.state.variables,this.state.context,this,r)),await((U=(R=this.options).onSettled)==null?void 0:U.call(R,void 0,B,t,this.state.context,r)),B}finally{ye(this,jn,yr).call(this,{type:"error",error:B})}}finally{I(this,kt).runNext(this)}}},ko=new WeakMap,Ln=new WeakMap,kt=new WeakMap,Ss=new WeakMap,jn=new WeakSet,yr=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),gt.batch(()=>{I(this,Ln).forEach(r=>{r.onMutationUpdate(t)}),I(this,kt).notify({mutation:this,type:"updated",action:t})})},A1);function sw(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Jn,_n,Co,I1,iw=(I1=class extends Lo{constructor(t={}){super();re(this,Jn);re(this,_n);re(this,Co);this.config=t,J(this,Jn,new Set),J(this,_n,new Map),J(this,Co,0)}build(t,n,r){const s=new rw({client:t,mutationCache:this,mutationId:++Ko(this,Co)._,options:t.defaultMutationOptions(n),state:r});return this.add(s),s}add(t){I(this,Jn).add(t);const n=fl(t);if(typeof n=="string"){const r=I(this,_n).get(n);r?r.push(t):I(this,_n).set(n,[t])}this.notify({type:"added",mutation:t})}remove(t){if(I(this,Jn).delete(t)){const n=fl(t);if(typeof n=="string"){const r=I(this,_n).get(n);if(r)if(r.length>1){const s=r.indexOf(t);s!==-1&&r.splice(s,1)}else r[0]===t&&I(this,_n).delete(n)}}this.notify({type:"removed",mutation:t})}canRun(t){const n=fl(t);if(typeof n=="string"){const r=I(this,_n).get(n),s=r==null?void 0:r.find(i=>i.state.status==="pending");return!s||s===t}else return!0}runNext(t){var r;const n=fl(t);if(typeof n=="string"){const s=(r=I(this,_n).get(n))==null?void 0:r.find(i=>i!==t&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){gt.batch(()=>{I(this,Jn).forEach(t=>{this.notify({type:"removed",mutation:t})}),I(this,Jn).clear(),I(this,_n).clear()})}getAll(){return Array.from(I(this,Jn))}find(t){const n={exact:!0,...t};return this.getAll().find(r=>lm(n,r))}findAll(t={}){return this.getAll().filter(n=>lm(t,n))}notify(t){gt.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return gt.batch(()=>Promise.all(t.map(n=>n.continue().catch(Mt))))}},Jn=new WeakMap,_n=new WeakMap,Co=new WeakMap,I1);function fl(e){var t;return(t=e.options.scope)==null?void 0:t.id}var Dn,O1,aw=(O1=class extends Lo{constructor(t={}){super();re(this,Dn);this.config=t,J(this,Dn,new Map)}build(t,n,r){const s=n.queryKey,i=n.queryHash??c0(s,n);let a=this.get(i);return a||(a=new JT({client:t,queryKey:s,queryHash:i,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(s)}),this.add(a)),a}add(t){I(this,Dn).has(t.queryHash)||(I(this,Dn).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=I(this,Dn).get(t.queryHash);n&&(t.destroy(),n===t&&I(this,Dn).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){gt.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return I(this,Dn).get(t)}getAll(){return[...I(this,Dn).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>om(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>om(t,r)):n}notify(t){gt.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){gt.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){gt.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Dn=new WeakMap,O1),Ve,Or,Rr,Ii,Oi,Pr,Ri,Pi,R1,ow=(R1=class{constructor(e={}){re(this,Ve);re(this,Or);re(this,Rr);re(this,Ii);re(this,Oi);re(this,Pr);re(this,Ri);re(this,Pi);J(this,Ve,e.queryCache||new aw),J(this,Or,e.mutationCache||new iw),J(this,Rr,e.defaultOptions||{}),J(this,Ii,new Map),J(this,Oi,new Map),J(this,Pr,0)}mount(){Ko(this,Pr)._++,I(this,Pr)===1&&(J(this,Ri,h0.subscribe(async e=>{e&&(await this.resumePausedMutations(),I(this,Ve).onFocus())})),J(this,Pi,xu.subscribe(async e=>{e&&(await this.resumePausedMutations(),I(this,Ve).onOnline())})))}unmount(){var e,t;Ko(this,Pr)._--,I(this,Pr)===0&&((e=I(this,Ri))==null||e.call(this),J(this,Ri,void 0),(t=I(this,Pi))==null||t.call(this),J(this,Pi,void 0))}isFetching(e){return I(this,Ve).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return I(this,Or).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=I(this,Ve).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=I(this,Ve).build(this,t),r=n.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(qr(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return I(this,Ve).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),s=I(this,Ve).get(r.queryHash),i=s==null?void 0:s.state.data,a=HT(t,i);if(a!==void 0)return I(this,Ve).build(this,r).setData(a,{...n,manual:!0})}setQueriesData(e,t,n){return gt.batch(()=>I(this,Ve).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=I(this,Ve).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=I(this,Ve);gt.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=I(this,Ve);return gt.batch(()=>(n.findAll(e).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},r=gt.batch(()=>I(this,Ve).findAll(e).map(s=>s.cancel(n)));return Promise.all(r).then(Mt).catch(Mt)}invalidateQueries(e,t={}){return gt.batch(()=>(I(this,Ve).findAll(e).forEach(n=>{n.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},r=gt.batch(()=>I(this,Ve).findAll(e).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(Mt)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(Mt)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=I(this,Ve).build(this,t);return n.isStaleByTime(qr(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Mt).catch(Mt)}fetchInfiniteQuery(e){return e.behavior=mm(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Mt).catch(Mt)}ensureInfiniteQueryData(e){return e.behavior=mm(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return xu.isOnline()?I(this,Or).resumePausedMutations():Promise.resolve()}getQueryCache(){return I(this,Ve)}getMutationCache(){return I(this,Or)}getDefaultOptions(){return I(this,Rr)}setDefaultOptions(e){J(this,Rr,e)}setQueryDefaults(e,t){I(this,Ii).set(po(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...I(this,Ii).values()],n={};return t.forEach(r=>{mo(e,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(e,t){I(this,Oi).set(po(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...I(this,Oi).values()],n={};return t.forEach(r=>{mo(e,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...I(this,Rr).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=c0(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===d0&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...I(this,Rr).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){I(this,Ve).clear(),I(this,Or).clear()}},Ve=new WeakMap,Or=new WeakMap,Rr=new WeakMap,Ii=new WeakMap,Oi=new WeakMap,Pr=new WeakMap,Ri=new WeakMap,Pi=new WeakMap,R1),tb=A.createContext(void 0),lw=e=>{const t=A.useContext(tb);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},uw=({client:e,children:t})=>(A.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),o.jsx(tb.Provider,{value:e,children:t})),nb=A.createContext(!1),cw=()=>A.useContext(nb);nb.Provider;function dw(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var hw=A.createContext(dw()),fw=()=>A.useContext(hw),pw=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},mw=e=>{A.useEffect(()=>{e.clearReset()},[e])},gw=({result:e,errorResetBoundary:t,throwOnError:n,query:r,suspense:s})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&(s&&e.data===void 0||qT(n,[e.error,r])),yw=e=>{if(e.suspense){const n=s=>s==="static"?s:Math.max(s??1e3,1e3),r=e.staleTime;e.staleTime=typeof r=="function"?(...s)=>n(r(...s)):n(r),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},xw=(e,t)=>e.isLoading&&e.isFetching&&!t,bw=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,ym=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function Ew(e,t,n){var f,m,p,b,E;const r=cw(),s=fw(),i=lw(),a=i.defaultQueryOptions(e);(m=(f=i.getDefaultOptions().queries)==null?void 0:f._experimental_beforeQuery)==null||m.call(f,a),a._optimisticResults=r?"isRestoring":"optimistic",yw(a),pw(a,s),mw(s);const l=!i.getQueryCache().get(a.queryHash),[u]=A.useState(()=>new t(i,a)),c=u.getOptimisticResult(a),h=!r&&e.subscribed!==!1;if(A.useSyncExternalStore(A.useCallback(v=>{const g=h?u.subscribe(gt.batchCalls(v)):Mt;return u.updateResult(),g},[u,h]),()=>u.getCurrentResult(),()=>u.getCurrentResult()),A.useEffect(()=>{u.setOptions(a)},[a,u]),bw(a,c))throw ym(a,u,s);if(gw({result:c,errorResetBoundary:s,throwOnError:a.throwOnError,query:i.getQueryCache().get(a.queryHash),suspense:a.suspense}))throw c.error;if((b=(p=i.getDefaultOptions().queries)==null?void 0:p._experimental_afterQuery)==null||b.call(p,a,c),a.experimental_prefetchInRender&&!Ls&&xw(c,r)){const v=l?ym(a,u,s):(E=i.getQueryCache().get(a.queryHash))==null?void 0:E.promise;v==null||v.catch(Mt).finally(()=>{u.updateResult()})}return a.notifyOnChangeProps?c:u.trackResult(c)}function bu(e,t){return Ew(e,ZT)}/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function go(){return go=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},go.apply(this,arguments)}var Dr;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Dr||(Dr={}));const xm="popstate";function vw(e){e===void 0&&(e={});function t(r,s){let{pathname:i,search:a,hash:l}=r.location;return Ih("",{pathname:i,search:a,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Eu(s)}return Tw(t,n,null,e)}function $e(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function rb(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function _w(){return Math.random().toString(36).substr(2,8)}function bm(e,t){return{usr:e.state,key:e.key,idx:t}}function Ih(e,t,n,r){return n===void 0&&(n=null),go({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Ki(t):t,{state:n,key:t&&t.key||r||_w()})}function Eu(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Ki(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function Tw(e,t,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,a=s.history,l=Dr.Pop,u=null,c=h();c==null&&(c=0,a.replaceState(go({},a.state,{idx:c}),""));function h(){return(a.state||{idx:null}).idx}function f(){l=Dr.Pop;let v=h(),g=v==null?null:v-c;c=v,u&&u({action:l,location:E.location,delta:g})}function m(v,g){l=Dr.Push;let y=Ih(E.location,v,g);c=h()+1;let x=bm(y,c),S=E.createHref(y);try{a.pushState(x,"",S)}catch(P){if(P instanceof DOMException&&P.name==="DataCloneError")throw P;s.location.assign(S)}i&&u&&u({action:l,location:E.location,delta:1})}function p(v,g){l=Dr.Replace;let y=Ih(E.location,v,g);c=h();let x=bm(y,c),S=E.createHref(y);a.replaceState(x,"",S),i&&u&&u({action:l,location:E.location,delta:0})}function b(v){let g=s.location.origin!=="null"?s.location.origin:s.location.href,y=typeof v=="string"?v:Eu(v);return y=y.replace(/ $/,"%20"),$e(g,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,g)}let E={get action(){return l},get location(){return e(s,a)},listen(v){if(u)throw new Error("A history only accepts one active listener");return s.addEventListener(xm,f),u=v,()=>{s.removeEventListener(xm,f),u=null}},createHref(v){return t(s,v)},createURL:b,encodeLocation(v){let g=b(v);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:m,replace:p,go(v){return a.go(v)}};return E}var Em;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Em||(Em={}));function ww(e,t,n){return n===void 0&&(n="/"),Sw(e,t,n)}function Sw(e,t,n,r){let s=typeof t=="string"?Ki(t):t,i=Hi(s.pathname||"/",n);if(i==null)return null;let a=sb(e);Nw(a);let l=null;for(let u=0;l==null&&u<a.length;++u){let c=Mw(i);l=jw(a[u],c)}return l}function sb(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,a,l)=>{let u={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:a,route:i};u.relativePath.startsWith("/")&&($e(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let c=Yr([r,u.relativePath]),h=n.concat(u);i.children&&i.children.length>0&&($e(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),sb(i.children,t,h,c)),!(i.path==null&&!i.index)&&t.push({path:c,score:Pw(c,i.index),routesMeta:h})};return e.forEach((i,a)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))s(i,a);else for(let u of ib(i.path))s(i,a,u)}),t}function ib(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let a=ib(r.join("/")),l=[];return l.push(...a.map(u=>u===""?i:[i,u].join("/"))),s&&l.push(...a),l.map(u=>e.startsWith("/")&&u===""?"/":u)}function Nw(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:Lw(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const kw=/^:[\w-]+$/,Cw=3,Aw=2,Iw=1,Ow=10,Rw=-2,vm=e=>e==="*";function Pw(e,t){let n=e.split("/"),r=n.length;return n.some(vm)&&(r+=Rw),t&&(r+=Aw),n.filter(s=>!vm(s)).reduce((s,i)=>s+(kw.test(i)?Cw:i===""?Iw:Ow),r)}function Lw(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function jw(e,t,n){let{routesMeta:r}=e,s={},i="/",a=[];for(let l=0;l<r.length;++l){let u=r[l],c=l===r.length-1,h=i==="/"?t:t.slice(i.length)||"/",f=Oh({path:u.relativePath,caseSensitive:u.caseSensitive,end:c},h),m=u.route;if(!f)return null;Object.assign(s,f.params),a.push({params:s,pathname:Yr([i,f.pathname]),pathnameBase:Hw(Yr([i,f.pathnameBase])),route:m}),f.pathnameBase!=="/"&&(i=Yr([i,f.pathnameBase]))}return a}function Oh(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=Dw(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let i=s[0],a=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:r.reduce((c,h,f)=>{let{paramName:m,isOptional:p}=h;if(m==="*"){let E=l[f]||"";a=i.slice(0,i.length-E.length).replace(/(.)\/+$/,"$1")}const b=l[f];return p&&!b?c[m]=void 0:c[m]=(b||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:a,pattern:e}}function Dw(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),rb(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,l,u)=>(r.push({paramName:l,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function Mw(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return rb(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Hi(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function Bw(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?Ki(e):e;return{pathname:n?n.startsWith("/")?n:Fw(n,t):t,search:$w(r),hash:zw(s)}}function Fw(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Yc(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Uw(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function p0(e,t){let n=Uw(e);return t?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function m0(e,t,n,r){r===void 0&&(r=!1);let s;typeof e=="string"?s=Ki(e):(s=go({},e),$e(!s.pathname||!s.pathname.includes("?"),Yc("?","pathname","search",s)),$e(!s.pathname||!s.pathname.includes("#"),Yc("#","pathname","hash",s)),$e(!s.search||!s.search.includes("#"),Yc("#","search","hash",s)));let i=e===""||s.pathname==="",a=i?"/":s.pathname,l;if(a==null)l=n;else{let f=t.length-1;if(!r&&a.startsWith("..")){let m=a.split("/");for(;m[0]==="..";)m.shift(),f-=1;s.pathname=m.join("/")}l=f>=0?t[f]:"/"}let u=Bw(s,l),c=a&&a!=="/"&&a.endsWith("/"),h=(i||a===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(c||h)&&(u.pathname+="/"),u}const Yr=e=>e.join("/").replace(/\/\/+/g,"/"),Hw=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),$w=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,zw=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Ww(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const ab=["post","put","patch","delete"];new Set(ab);const Vw=["get",...ab];new Set(Vw);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function yo(){return yo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},yo.apply(this,arguments)}const Ju=A.createContext(null),ob=A.createContext(null),cr=A.createContext(null),Zu=A.createContext(null),dr=A.createContext({outlet:null,matches:[],isDataRoute:!1}),lb=A.createContext(null);function qw(e,t){let{relative:n}=t===void 0?{}:t;Qi()||$e(!1);let{basename:r,navigator:s}=A.useContext(cr),{hash:i,pathname:a,search:l}=ec(e,{relative:n}),u=a;return r!=="/"&&(u=a==="/"?r:Yr([r,a])),s.createHref({pathname:u,search:l,hash:i})}function Qi(){return A.useContext(Zu)!=null}function Ms(){return Qi()||$e(!1),A.useContext(Zu).location}function ub(e){A.useContext(cr).static||A.useLayoutEffect(e)}function Zr(){let{isDataRoute:e}=A.useContext(dr);return e?aS():Yw()}function Yw(){Qi()||$e(!1);let e=A.useContext(Ju),{basename:t,future:n,navigator:r}=A.useContext(cr),{matches:s}=A.useContext(dr),{pathname:i}=Ms(),a=JSON.stringify(p0(s,n.v7_relativeSplatPath)),l=A.useRef(!1);return ub(()=>{l.current=!0}),A.useCallback(function(c,h){if(h===void 0&&(h={}),!l.current)return;if(typeof c=="number"){r.go(c);return}let f=m0(c,JSON.parse(a),i,h.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:Yr([t,f.pathname])),(h.replace?r.replace:r.push)(f,h.state,h)},[t,r,a,i,e])}function Gw(){let{matches:e}=A.useContext(dr),t=e[e.length-1];return t?t.params:{}}function ec(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=A.useContext(cr),{matches:s}=A.useContext(dr),{pathname:i}=Ms(),a=JSON.stringify(p0(s,r.v7_relativeSplatPath));return A.useMemo(()=>m0(e,JSON.parse(a),i,n==="path"),[e,a,i,n])}function Kw(e,t){return Qw(e,t)}function Qw(e,t,n,r){Qi()||$e(!1);let{navigator:s}=A.useContext(cr),{matches:i}=A.useContext(dr),a=i[i.length-1],l=a?a.params:{};a&&a.pathname;let u=a?a.pathnameBase:"/";a&&a.route;let c=Ms(),h;if(t){var f;let v=typeof t=="string"?Ki(t):t;u==="/"||(f=v.pathname)!=null&&f.startsWith(u)||$e(!1),h=v}else h=c;let m=h.pathname||"/",p=m;if(u!=="/"){let v=u.replace(/^\//,"").split("/");p="/"+m.replace(/^\//,"").split("/").slice(v.length).join("/")}let b=ww(e,{pathname:p}),E=tS(b&&b.map(v=>Object.assign({},v,{params:Object.assign({},l,v.params),pathname:Yr([u,s.encodeLocation?s.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?u:Yr([u,s.encodeLocation?s.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),i,n,r);return t&&E?A.createElement(Zu.Provider,{value:{location:yo({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:Dr.Pop}},E):E}function Xw(){let e=iS(),t=Ww(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return A.createElement(A.Fragment,null,A.createElement("h2",null,"Unexpected Application Error!"),A.createElement("h3",{style:{fontStyle:"italic"}},t),n?A.createElement("pre",{style:s},n):null,null)}const Jw=A.createElement(Xw,null);class Zw extends A.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?A.createElement(dr.Provider,{value:this.props.routeContext},A.createElement(lb.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function eS(e){let{routeContext:t,match:n,children:r}=e,s=A.useContext(Ju);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),A.createElement(dr.Provider,{value:t},r)}function tS(e,t,n,r){var s;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var i;if(!n)return null;if(n.errors)e=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let a=e,l=(s=n)==null?void 0:s.errors;if(l!=null){let h=a.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);h>=0||$e(!1),a=a.slice(0,Math.min(a.length,h+1))}let u=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let h=0;h<a.length;h++){let f=a[h];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=h),f.route.id){let{loaderData:m,errors:p}=n,b=f.route.loader&&m[f.route.id]===void 0&&(!p||p[f.route.id]===void 0);if(f.route.lazy||b){u=!0,c>=0?a=a.slice(0,c+1):a=[a[0]];break}}}return a.reduceRight((h,f,m)=>{let p,b=!1,E=null,v=null;n&&(p=l&&f.route.id?l[f.route.id]:void 0,E=f.route.errorElement||Jw,u&&(c<0&&m===0?(oS("route-fallback"),b=!0,v=null):c===m&&(b=!0,v=f.route.hydrateFallbackElement||null)));let g=t.concat(a.slice(0,m+1)),y=()=>{let x;return p?x=E:b?x=v:f.route.Component?x=A.createElement(f.route.Component,null):f.route.element?x=f.route.element:x=h,A.createElement(eS,{match:f,routeContext:{outlet:h,matches:g,isDataRoute:n!=null},children:x})};return n&&(f.route.ErrorBoundary||f.route.errorElement||m===0)?A.createElement(Zw,{location:n.location,revalidation:n.revalidation,component:E,error:p,children:y(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):y()},null)}var cb=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(cb||{}),db=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(db||{});function nS(e){let t=A.useContext(Ju);return t||$e(!1),t}function rS(e){let t=A.useContext(ob);return t||$e(!1),t}function sS(e){let t=A.useContext(dr);return t||$e(!1),t}function hb(e){let t=sS(),n=t.matches[t.matches.length-1];return n.route.id||$e(!1),n.route.id}function iS(){var e;let t=A.useContext(lb),n=rS(),r=hb();return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function aS(){let{router:e}=nS(cb.UseNavigateStable),t=hb(db.UseNavigateStable),n=A.useRef(!1);return ub(()=>{n.current=!0}),A.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,yo({fromRouteId:t},i)))},[e,t])}const _m={};function oS(e,t,n){_m[e]||(_m[e]=!0)}function lS(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function uS(e){let{to:t,replace:n,state:r,relative:s}=e;Qi()||$e(!1);let{future:i,static:a}=A.useContext(cr),{matches:l}=A.useContext(dr),{pathname:u}=Ms(),c=Zr(),h=m0(t,p0(l,i.v7_relativeSplatPath),u,s==="path"),f=JSON.stringify(h);return A.useEffect(()=>c(JSON.parse(f),{replace:n,state:r,relative:s}),[c,f,s,n,r]),null}function On(e){$e(!1)}function cS(e){let{basename:t="/",children:n=null,location:r,navigationType:s=Dr.Pop,navigator:i,static:a=!1,future:l}=e;Qi()&&$e(!1);let u=t.replace(/^\/*/,"/"),c=A.useMemo(()=>({basename:u,navigator:i,static:a,future:yo({v7_relativeSplatPath:!1},l)}),[u,l,i,a]);typeof r=="string"&&(r=Ki(r));let{pathname:h="/",search:f="",hash:m="",state:p=null,key:b="default"}=r,E=A.useMemo(()=>{let v=Hi(h,u);return v==null?null:{location:{pathname:v,search:f,hash:m,state:p,key:b},navigationType:s}},[u,h,f,m,p,b,s]);return E==null?null:A.createElement(cr.Provider,{value:c},A.createElement(Zu.Provider,{children:n,value:E}))}function dS(e){let{children:t,location:n}=e;return Kw(Rh(t),n)}new Promise(()=>{});function Rh(e,t){t===void 0&&(t=[]);let n=[];return A.Children.forEach(e,(r,s)=>{if(!A.isValidElement(r))return;let i=[...t,s];if(r.type===A.Fragment){n.push.apply(n,Rh(r.props.children,i));return}r.type!==On&&$e(!1),!r.props.index||!r.props.children||$e(!1);let a={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=Rh(r.props.children,i)),n.push(a)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function vu(){return vu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vu.apply(this,arguments)}function fb(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,i;for(i=0;i<r.length;i++)s=r[i],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function hS(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function fS(e,t){return e.button===0&&(!t||t==="_self")&&!hS(e)}const pS=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],mS=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],gS="6";try{window.__reactRouterVersion=gS}catch{}const yS=A.createContext({isTransitioning:!1}),xS="startTransition",Tm=kv[xS];function bS(e){let{basename:t,children:n,future:r,window:s}=e,i=A.useRef();i.current==null&&(i.current=vw({window:s,v5Compat:!0}));let a=i.current,[l,u]=A.useState({action:a.action,location:a.location}),{v7_startTransition:c}=r||{},h=A.useCallback(f=>{c&&Tm?Tm(()=>u(f)):u(f)},[u,c]);return A.useLayoutEffect(()=>a.listen(h),[a,h]),A.useEffect(()=>lS(r),[r]),A.createElement(cS,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:a,future:r})}const ES=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",vS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,st=A.forwardRef(function(t,n){let{onClick:r,relative:s,reloadDocument:i,replace:a,state:l,target:u,to:c,preventScrollReset:h,viewTransition:f}=t,m=fb(t,pS),{basename:p}=A.useContext(cr),b,E=!1;if(typeof c=="string"&&vS.test(c)&&(b=c,ES))try{let x=new URL(window.location.href),S=c.startsWith("//")?new URL(x.protocol+c):new URL(c),P=Hi(S.pathname,p);S.origin===x.origin&&P!=null?c=P+S.search+S.hash:E=!0}catch{}let v=qw(c,{relative:s}),g=TS(c,{replace:a,state:l,target:u,preventScrollReset:h,relative:s,viewTransition:f});function y(x){r&&r(x),x.defaultPrevented||g(x)}return A.createElement("a",vu({},m,{href:b||v,onClick:E||i?r:y,ref:n,target:u}))}),pr=A.forwardRef(function(t,n){let{"aria-current":r="page",caseSensitive:s=!1,className:i="",end:a=!1,style:l,to:u,viewTransition:c,children:h}=t,f=fb(t,mS),m=ec(u,{relative:f.relative}),p=Ms(),b=A.useContext(ob),{navigator:E,basename:v}=A.useContext(cr),g=b!=null&&wS(m)&&c===!0,y=E.encodeLocation?E.encodeLocation(m).pathname:m.pathname,x=p.pathname,S=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;s||(x=x.toLowerCase(),S=S?S.toLowerCase():null,y=y.toLowerCase()),S&&v&&(S=Hi(S,v)||S);const P=y!=="/"&&y.endsWith("/")?y.length-1:y.length;let C=x===y||!a&&x.startsWith(y)&&x.charAt(P)==="/",M=S!=null&&(S===y||!a&&S.startsWith(y)&&S.charAt(y.length)==="/"),R={isActive:C,isPending:M,isTransitioning:g},U=C?r:void 0,B;typeof i=="function"?B=i(R):B=[i,C?"active":null,M?"pending":null,g?"transitioning":null].filter(Boolean).join(" ");let $=typeof l=="function"?l(R):l;return A.createElement(st,vu({},f,{"aria-current":U,className:B,ref:n,style:$,to:u,viewTransition:c}),typeof h=="function"?h(R):h)});var Ph;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Ph||(Ph={}));var wm;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(wm||(wm={}));function _S(e){let t=A.useContext(Ju);return t||$e(!1),t}function TS(e,t){let{target:n,replace:r,state:s,preventScrollReset:i,relative:a,viewTransition:l}=t===void 0?{}:t,u=Zr(),c=Ms(),h=ec(e,{relative:a});return A.useCallback(f=>{if(fS(f,n)){f.preventDefault();let m=r!==void 0?r:Eu(c)===Eu(h);u(e,{replace:m,state:s,preventScrollReset:i,relative:a,viewTransition:l})}},[c,u,h,r,s,n,e,i,a,l])}function wS(e,t){t===void 0&&(t={});let n=A.useContext(yS);n==null&&$e(!1);let{basename:r}=_S(Ph.useViewTransitionState),s=ec(e,{relative:t.relative});if(!n.isTransitioning)return!1;let i=Hi(n.currentLocation.pathname,r)||n.currentLocation.pathname,a=Hi(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Oh(s.pathname,a)!=null||Oh(s.pathname,i)!=null}let SS={data:""},NS=e=>{if(typeof window=="object"){let t=(e?e.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return t.nonce=window.__nonce__,t.parentNode||(e||document.head).appendChild(t),t.firstChild}return e||SS},kS=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,CS=/\/\*[^]*?\*\/|  +/g,Sm=/\n+/g,wr=(e,t)=>{let n="",r="",s="";for(let i in e){let a=e[i];i[0]=="@"?i[1]=="i"?n=i+" "+a+";":r+=i[1]=="f"?wr(a,i):i+"{"+wr(a,i[1]=="k"?"":t)+"}":typeof a=="object"?r+=wr(a,t?t.replace(/([^,])+/g,l=>i.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,u=>/&/.test(u)?u.replace(/&/g,l):l?l+" "+u:u)):i):a!=null&&(i=/^--/.test(i)?i:i.replace(/[A-Z]/g,"-$&").toLowerCase(),s+=wr.p?wr.p(i,a):i+":"+a+";")}return n+(t&&s?t+"{"+s+"}":s)+r},qn={},pb=e=>{if(typeof e=="object"){let t="";for(let n in e)t+=n+pb(e[n]);return t}return e},AS=(e,t,n,r,s)=>{let i=pb(e),a=qn[i]||(qn[i]=(u=>{let c=0,h=11;for(;c<u.length;)h=101*h+u.charCodeAt(c++)>>>0;return"go"+h})(i));if(!qn[a]){let u=i!==e?e:(c=>{let h,f,m=[{}];for(;h=kS.exec(c.replace(CS,""));)h[4]?m.shift():h[3]?(f=h[3].replace(Sm," ").trim(),m.unshift(m[0][f]=m[0][f]||{})):m[0][h[1]]=h[2].replace(Sm," ").trim();return m[0]})(e);qn[a]=wr(s?{["@keyframes "+a]:u}:u,n?"":"."+a)}let l=n&&qn.g?qn.g:null;return n&&(qn.g=qn[a]),((u,c,h,f)=>{f?c.data=c.data.replace(f,u):c.data.indexOf(u)===-1&&(c.data=h?u+c.data:c.data+u)})(qn[a],t,r,l),a},IS=(e,t,n)=>e.reduce((r,s,i)=>{let a=t[i];if(a&&a.call){let l=a(n),u=l&&l.props&&l.props.className||/^go/.test(l)&&l;a=u?"."+u:l&&typeof l=="object"?l.props?"":wr(l,""):l===!1?"":l}return r+s+(a??"")},"");function tc(e){let t=this||{},n=e.call?e(t.p):e;return AS(n.unshift?n.raw?IS(n,[].slice.call(arguments,1),t.p):n.reduce((r,s)=>Object.assign(r,s&&s.call?s(t.p):s),{}):n,NS(t.target),t.g,t.o,t.k)}let mb,Lh,jh;tc.bind({g:1});let lr=tc.bind({k:1});function OS(e,t,n,r){wr.p=t,mb=e,Lh=n,jh=r}function es(e,t){let n=this||{};return function(){let r=arguments;function s(i,a){let l=Object.assign({},i),u=l.className||s.className;n.p=Object.assign({theme:Lh&&Lh()},l),n.o=/ *go\d+/.test(u),l.className=tc.apply(n,r)+(u?" "+u:"");let c=e;return e[0]&&(c=l.as||e,delete l.as),jh&&c[0]&&jh(l),mb(c,l)}return s}}var RS=e=>typeof e=="function",_u=(e,t)=>RS(e)?e(t):e,PS=(()=>{let e=0;return()=>(++e).toString()})(),gb=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),LS=20,g0="default",yb=(e,t)=>{let{toastLimit:n}=e.settings;switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,n)};case 1:return{...e,toasts:e.toasts.map(a=>a.id===t.toast.id?{...a,...t.toast}:a)};case 2:let{toast:r}=t;return yb(e,{type:e.toasts.find(a=>a.id===r.id)?1:0,toast:r});case 3:let{toastId:s}=t;return{...e,toasts:e.toasts.map(a=>a.id===s||s===void 0?{...a,dismissed:!0,visible:!1}:a)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(a=>a.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let i=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(a=>({...a,pauseDuration:a.pauseDuration+i}))}}},$l=[],xb={toasts:[],pausedAt:void 0,settings:{toastLimit:LS}},Un={},bb=(e,t=g0)=>{Un[t]=yb(Un[t]||xb,e),$l.forEach(([n,r])=>{n===t&&r(Un[t])})},Eb=e=>Object.keys(Un).forEach(t=>bb(e,t)),jS=e=>Object.keys(Un).find(t=>Un[t].toasts.some(n=>n.id===e)),nc=(e=g0)=>t=>{bb(t,e)},DS={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},MS=(e={},t=g0)=>{let[n,r]=A.useState(Un[t]||xb),s=A.useRef(Un[t]);A.useEffect(()=>(s.current!==Un[t]&&r(Un[t]),$l.push([t,r]),()=>{let a=$l.findIndex(([l])=>l===t);a>-1&&$l.splice(a,1)}),[t]);let i=n.toasts.map(a=>{var l,u,c;return{...e,...e[a.type],...a,removeDelay:a.removeDelay||((l=e[a.type])==null?void 0:l.removeDelay)||(e==null?void 0:e.removeDelay),duration:a.duration||((u=e[a.type])==null?void 0:u.duration)||(e==null?void 0:e.duration)||DS[a.type],style:{...e.style,...(c=e[a.type])==null?void 0:c.style,...a.style}}});return{...n,toasts:i}},BS=(e,t="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...n,id:(n==null?void 0:n.id)||PS()}),jo=e=>(t,n)=>{let r=BS(t,e,n);return nc(r.toasterId||jS(r.id))({type:2,toast:r}),r.id},nt=(e,t)=>jo("blank")(e,t);nt.error=jo("error");nt.success=jo("success");nt.loading=jo("loading");nt.custom=jo("custom");nt.dismiss=(e,t)=>{let n={type:3,toastId:e};t?nc(t)(n):Eb(n)};nt.dismissAll=e=>nt.dismiss(void 0,e);nt.remove=(e,t)=>{let n={type:4,toastId:e};t?nc(t)(n):Eb(n)};nt.removeAll=e=>nt.remove(void 0,e);nt.promise=(e,t,n)=>{let r=nt.loading(t.loading,{...n,...n==null?void 0:n.loading});return typeof e=="function"&&(e=e()),e.then(s=>{let i=t.success?_u(t.success,s):void 0;return i?nt.success(i,{id:r,...n,...n==null?void 0:n.success}):nt.dismiss(r),s}).catch(s=>{let i=t.error?_u(t.error,s):void 0;i?nt.error(i,{id:r,...n,...n==null?void 0:n.error}):nt.dismiss(r)}),e};var FS=1e3,US=(e,t="default")=>{let{toasts:n,pausedAt:r}=MS(e,t),s=A.useRef(new Map).current,i=A.useCallback((f,m=FS)=>{if(s.has(f))return;let p=setTimeout(()=>{s.delete(f),a({type:4,toastId:f})},m);s.set(f,p)},[]);A.useEffect(()=>{if(r)return;let f=Date.now(),m=n.map(p=>{if(p.duration===1/0)return;let b=(p.duration||0)+p.pauseDuration-(f-p.createdAt);if(b<0){p.visible&&nt.dismiss(p.id);return}return setTimeout(()=>nt.dismiss(p.id,t),b)});return()=>{m.forEach(p=>p&&clearTimeout(p))}},[n,r,t]);let a=A.useCallback(nc(t),[t]),l=A.useCallback(()=>{a({type:5,time:Date.now()})},[a]),u=A.useCallback((f,m)=>{a({type:1,toast:{id:f,height:m}})},[a]),c=A.useCallback(()=>{r&&a({type:6,time:Date.now()})},[r,a]),h=A.useCallback((f,m)=>{let{reverseOrder:p=!1,gutter:b=8,defaultPosition:E}=m||{},v=n.filter(x=>(x.position||E)===(f.position||E)&&x.height),g=v.findIndex(x=>x.id===f.id),y=v.filter((x,S)=>S<g&&x.visible).length;return v.filter(x=>x.visible).slice(...p?[y+1]:[0,y]).reduce((x,S)=>x+(S.height||0)+b,0)},[n]);return A.useEffect(()=>{n.forEach(f=>{if(f.dismissed)i(f.id,f.removeDelay);else{let m=s.get(f.id);m&&(clearTimeout(m),s.delete(f.id))}})},[n,i]),{toasts:n,handlers:{updateHeight:u,startPause:l,endPause:c,calculateOffset:h}}},HS=lr`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,$S=lr`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,zS=lr`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,WS=es("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${HS} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${$S} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${zS} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,VS=lr`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,qS=es("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${VS} 1s linear infinite;
`,YS=lr`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,GS=lr`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,KS=es("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${YS} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${GS} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,QS=es("div")`
  position: absolute;
`,XS=es("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,JS=lr`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,ZS=es("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${JS} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,eN=({toast:e})=>{let{icon:t,type:n,iconTheme:r}=e;return t!==void 0?typeof t=="string"?A.createElement(ZS,null,t):t:n==="blank"?null:A.createElement(XS,null,A.createElement(qS,{...r}),n!=="loading"&&A.createElement(QS,null,n==="error"?A.createElement(WS,{...r}):A.createElement(KS,{...r})))},tN=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,nN=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,rN="0%{opacity:0;} 100%{opacity:1;}",sN="0%{opacity:1;} 100%{opacity:0;}",iN=es("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,aN=es("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,oN=(e,t)=>{let n=e.includes("top")?1:-1,[r,s]=gb()?[rN,sN]:[tN(n),nN(n)];return{animation:t?`${lr(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${lr(s)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},lN=A.memo(({toast:e,position:t,style:n,children:r})=>{let s=e.height?oN(e.position||t||"top-center",e.visible):{opacity:0},i=A.createElement(eN,{toast:e}),a=A.createElement(aN,{...e.ariaProps},_u(e.message,e));return A.createElement(iN,{className:e.className,style:{...s,...n,...e.style}},typeof r=="function"?r({icon:i,message:a}):A.createElement(A.Fragment,null,i,a))});OS(A.createElement);var uN=({id:e,className:t,style:n,onHeightUpdate:r,children:s})=>{let i=A.useCallback(a=>{if(a){let l=()=>{let u=a.getBoundingClientRect().height;r(e,u)};l(),new MutationObserver(l).observe(a,{subtree:!0,childList:!0,characterData:!0})}},[e,r]);return A.createElement("div",{ref:i,className:t,style:n},s)},cN=(e,t)=>{let n=e.includes("top"),r=n?{top:0}:{bottom:0},s=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:gb()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(n?1:-1)}px)`,...r,...s}},dN=tc`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,pl=16,hN=({reverseOrder:e,position:t="top-center",toastOptions:n,gutter:r,children:s,toasterId:i,containerStyle:a,containerClassName:l})=>{let{toasts:u,handlers:c}=US(n,i);return A.createElement("div",{"data-rht-toaster":i||"",style:{position:"fixed",zIndex:9999,top:pl,left:pl,right:pl,bottom:pl,pointerEvents:"none",...a},className:l,onMouseEnter:c.startPause,onMouseLeave:c.endPause},u.map(h=>{let f=h.position||t,m=c.calculateOffset(h,{reverseOrder:e,gutter:r,defaultPosition:t}),p=cN(f,m);return A.createElement(uN,{id:h.id,key:h.id,onHeightUpdate:c.updateHeight,className:h.visible?dN:"",style:p},h.type==="custom"?_u(h.message,h):s?s(h):A.createElement(lN,{toast:h,position:f}))}))},We=nt;const fN={},Nm=e=>{let t;const n=new Set,r=(h,f)=>{const m=typeof h=="function"?h(t):h;if(!Object.is(m,t)){const p=t;t=f??(typeof m!="object"||m===null)?m:Object.assign({},t,m),n.forEach(b=>b(t,p))}},s=()=>t,u={setState:r,getState:s,getInitialState:()=>c,subscribe:h=>(n.add(h),()=>n.delete(h)),destroy:()=>{(fN?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},c=t=e(r,s,u);return u},pN=e=>e?Nm(e):Nm;var vb={exports:{}},_b={},Tb={exports:{}},wb={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $i=A;function mN(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var gN=typeof Object.is=="function"?Object.is:mN,yN=$i.useState,xN=$i.useEffect,bN=$i.useLayoutEffect,EN=$i.useDebugValue;function vN(e,t){var n=t(),r=yN({inst:{value:n,getSnapshot:t}}),s=r[0].inst,i=r[1];return bN(function(){s.value=n,s.getSnapshot=t,Gc(s)&&i({inst:s})},[e,n,t]),xN(function(){return Gc(s)&&i({inst:s}),e(function(){Gc(s)&&i({inst:s})})},[e]),EN(n),n}function Gc(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!gN(e,n)}catch{return!0}}function _N(e,t){return t()}var TN=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?_N:vN;wb.useSyncExternalStore=$i.useSyncExternalStore!==void 0?$i.useSyncExternalStore:TN;Tb.exports=wb;var wN=Tb.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rc=A,SN=wN;function NN(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var kN=typeof Object.is=="function"?Object.is:NN,CN=SN.useSyncExternalStore,AN=rc.useRef,IN=rc.useEffect,ON=rc.useMemo,RN=rc.useDebugValue;_b.useSyncExternalStoreWithSelector=function(e,t,n,r,s){var i=AN(null);if(i.current===null){var a={hasValue:!1,value:null};i.current=a}else a=i.current;i=ON(function(){function u(p){if(!c){if(c=!0,h=p,p=r(p),s!==void 0&&a.hasValue){var b=a.value;if(s(b,p))return f=b}return f=p}if(b=f,kN(h,p))return b;var E=r(p);return s!==void 0&&s(b,E)?(h=p,b):(h=p,f=E)}var c=!1,h,f,m=n===void 0?null:n;return[function(){return u(t())},m===null?void 0:function(){return u(m())}]},[t,n,r,s]);var l=CN(e,i[0],i[1]);return IN(function(){a.hasValue=!0,a.value=l},[l]),RN(l),l};vb.exports=_b;var PN=vb.exports;const LN=ju(PN),Sb={},{useDebugValue:jN}=bf,{useSyncExternalStoreWithSelector:DN}=LN;let km=!1;const MN=e=>e;function BN(e,t=MN,n){(Sb?"production":void 0)!=="production"&&n&&!km&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),km=!0);const r=DN(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return jN(r),r}const Cm=e=>{(Sb?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?pN(e):e,n=(r,s)=>BN(t,r,s);return Object.assign(n,t),n},Nb=e=>e?Cm(e):Cm;var Dh=function(e,t){return Dh=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(n[s]=r[s])},Dh(e,t)};function kb(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Dh(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var Tu=function(){return Tu=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Tu.apply(this,arguments)};function Xi(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n}function Cb(e,t,n,r){var s=arguments.length,i=s<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,n,r);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(i=(s<3?a(i):s>3?a(t,n,i):a(t,n))||i);return s>3&&i&&Object.defineProperty(t,n,i),i}function Ab(e,t){return function(n,r){t(n,r,e)}}function Ib(e,t,n,r,s,i){function a(g){if(g!==void 0&&typeof g!="function")throw new TypeError("Function expected");return g}for(var l=r.kind,u=l==="getter"?"get":l==="setter"?"set":"value",c=!t&&e?r.static?e:e.prototype:null,h=t||(c?Object.getOwnPropertyDescriptor(c,r.name):{}),f,m=!1,p=n.length-1;p>=0;p--){var b={};for(var E in r)b[E]=E==="access"?{}:r[E];for(var E in r.access)b.access[E]=r.access[E];b.addInitializer=function(g){if(m)throw new TypeError("Cannot add initializers after decoration has completed");i.push(a(g||null))};var v=(0,n[p])(l==="accessor"?{get:h.get,set:h.set}:h[u],b);if(l==="accessor"){if(v===void 0)continue;if(v===null||typeof v!="object")throw new TypeError("Object expected");(f=a(v.get))&&(h.get=f),(f=a(v.set))&&(h.set=f),(f=a(v.init))&&s.unshift(f)}else(f=a(v))&&(l==="field"?s.unshift(f):h[u]=f)}c&&Object.defineProperty(c,r.name,h),m=!0}function Ob(e,t,n){for(var r=arguments.length>2,s=0;s<t.length;s++)n=r?t[s].call(e,n):t[s].call(e);return r?n:void 0}function Rb(e){return typeof e=="symbol"?e:"".concat(e)}function Pb(e,t,n){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:n?"".concat(n," ",t):t})}function Lb(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function te(e,t,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function l(h){try{c(r.next(h))}catch(f){a(f)}}function u(h){try{c(r.throw(h))}catch(f){a(f)}}function c(h){h.done?i(h.value):s(h.value).then(l,u)}c((r=r.apply(e,t||[])).next())})}function jb(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,s,i,a=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return a.next=l(0),a.throw=l(1),a.return=l(2),typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function l(c){return function(h){return u([c,h])}}function u(c){if(r)throw new TypeError("Generator is already executing.");for(;a&&(a=0,c[0]&&(n=0)),n;)try{if(r=1,s&&(i=c[0]&2?s.return:c[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,c[1])).done)return i;switch(s=0,i&&(c=[c[0]&2,i.value]),c[0]){case 0:case 1:i=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,s=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!i||c[1]>i[0]&&c[1]<i[3])){n.label=c[1];break}if(c[0]===6&&n.label<i[1]){n.label=i[1],i=c;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(c);break}i[2]&&n.ops.pop(),n.trys.pop();continue}c=t.call(e,n)}catch(h){c=[6,h],s=0}finally{r=i=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}var sc=Object.create?function(e,t,n,r){r===void 0&&(r=n);var s=Object.getOwnPropertyDescriptor(t,n);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,s)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]};function Db(e,t){for(var n in e)n!=="default"&&!Object.prototype.hasOwnProperty.call(t,n)&&sc(t,e,n)}function wu(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function y0(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),s,i=[],a;try{for(;(t===void 0||t-- >0)&&!(s=r.next()).done;)i.push(s.value)}catch(l){a={error:l}}finally{try{s&&!s.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return i}function Mb(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(y0(arguments[t]));return e}function Bb(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),s=0,t=0;t<n;t++)for(var i=arguments[t],a=0,l=i.length;a<l;a++,s++)r[s]=i[a];return r}function Fb(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,i;r<s;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}function zi(e){return this instanceof zi?(this.v=e,this):new zi(e)}function Ub(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),s,i=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),l("next"),l("throw"),l("return",a),s[Symbol.asyncIterator]=function(){return this},s;function a(p){return function(b){return Promise.resolve(b).then(p,f)}}function l(p,b){r[p]&&(s[p]=function(E){return new Promise(function(v,g){i.push([p,E,v,g])>1||u(p,E)})},b&&(s[p]=b(s[p])))}function u(p,b){try{c(r[p](b))}catch(E){m(i[0][3],E)}}function c(p){p.value instanceof zi?Promise.resolve(p.value.v).then(h,f):m(i[0][2],p)}function h(p){u("next",p)}function f(p){u("throw",p)}function m(p,b){p(b),i.shift(),i.length&&u(i[0][0],i[0][1])}}function Hb(e){var t,n;return t={},r("next"),r("throw",function(s){throw s}),r("return"),t[Symbol.iterator]=function(){return this},t;function r(s,i){t[s]=e[s]?function(a){return(n=!n)?{value:zi(e[s](a)),done:!1}:i?i(a):a}:i}}function $b(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof wu=="function"?wu(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(i){n[i]=e[i]&&function(a){return new Promise(function(l,u){a=e[i](a),s(l,u,a.done,a.value)})}}function s(i,a,l,u){Promise.resolve(u).then(function(c){i({value:c,done:l})},a)}}function zb(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var FN=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},Mh=function(e){return Mh=Object.getOwnPropertyNames||function(t){var n=[];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[n.length]=r);return n},Mh(e)};function Wb(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=Mh(e),r=0;r<n.length;r++)n[r]!=="default"&&sc(t,e,n[r]);return FN(t,e),t}function Vb(e){return e&&e.__esModule?e:{default:e}}function qb(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)}function Yb(e,t,n,r,s){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?s.call(e,n):s?s.value=n:t.set(e,n),n}function Gb(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function Kb(e,t,n){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var r,s;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=t[Symbol.asyncDispose]}if(r===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=t[Symbol.dispose],n&&(s=r)}if(typeof r!="function")throw new TypeError("Object not disposable.");s&&(r=function(){try{s.call(this)}catch(i){return Promise.reject(i)}}),e.stack.push({value:t,dispose:r,async:n})}else n&&e.stack.push({async:!0});return t}var UN=typeof SuppressedError=="function"?SuppressedError:function(e,t,n){var r=new Error(n);return r.name="SuppressedError",r.error=e,r.suppressed=t,r};function Qb(e){function t(i){e.error=e.hasError?new UN(i,e.error,"An error was suppressed during disposal."):i,e.hasError=!0}var n,r=0;function s(){for(;n=e.stack.pop();)try{if(!n.async&&r===1)return r=0,e.stack.push(n),Promise.resolve().then(s);if(n.dispose){var i=n.dispose.call(n.value);if(n.async)return r|=2,Promise.resolve(i).then(s,function(a){return t(a),s()})}else r|=1}catch(a){t(a)}if(r===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return s()}function Xb(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(n,r,s,i,a){return r?t?".jsx":".js":s&&(!i||!a)?n:s+i+"."+a.toLowerCase()+"js"}):e}const HN={__extends:kb,__assign:Tu,__rest:Xi,__decorate:Cb,__param:Ab,__esDecorate:Ib,__runInitializers:Ob,__propKey:Rb,__setFunctionName:Pb,__metadata:Lb,__awaiter:te,__generator:jb,__createBinding:sc,__exportStar:Db,__values:wu,__read:y0,__spread:Mb,__spreadArrays:Bb,__spreadArray:Fb,__await:zi,__asyncGenerator:Ub,__asyncDelegator:Hb,__asyncValues:$b,__makeTemplateObject:zb,__importStar:Wb,__importDefault:Vb,__classPrivateFieldGet:qb,__classPrivateFieldSet:Yb,__classPrivateFieldIn:Gb,__addDisposableResource:Kb,__disposeResources:Qb,__rewriteRelativeImportExtension:Xb},$N=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:Kb,get __assign(){return Tu},__asyncDelegator:Hb,__asyncGenerator:Ub,__asyncValues:$b,__await:zi,__awaiter:te,__classPrivateFieldGet:qb,__classPrivateFieldIn:Gb,__classPrivateFieldSet:Yb,__createBinding:sc,__decorate:Cb,__disposeResources:Qb,__esDecorate:Ib,__exportStar:Db,__extends:kb,__generator:jb,__importDefault:Vb,__importStar:Wb,__makeTemplateObject:zb,__metadata:Lb,__param:Ab,__propKey:Rb,__read:y0,__rest:Xi,__rewriteRelativeImportExtension:Xb,__runInitializers:Ob,__setFunctionName:Pb,__spread:Mb,__spreadArray:Fb,__spreadArrays:Bb,__values:wu,default:HN},Symbol.toStringTag,{value:"Module"})),zN=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class x0 extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class Am extends x0{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Im extends x0{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Om extends x0{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Bh;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Bh||(Bh={}));class WN{constructor(t,{headers:n={},customFetch:r,region:s=Bh.Any}={}){this.url=t,this.headers=n,this.region=s,this.fetch=zN(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return te(this,arguments,void 0,function*(n,r={}){var s;try{const{headers:i,method:a,body:l,signal:u}=r;let c={},{region:h}=r;h||(h=this.region);const f=new URL(`${this.url}/${n}`);h&&h!=="any"&&(c["x-region"]=h,f.searchParams.set("forceFunctionRegion",h));let m;l&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)?typeof Blob<"u"&&l instanceof Blob||l instanceof ArrayBuffer?(c["Content-Type"]="application/octet-stream",m=l):typeof l=="string"?(c["Content-Type"]="text/plain",m=l):typeof FormData<"u"&&l instanceof FormData?m=l:(c["Content-Type"]="application/json",m=JSON.stringify(l)):m=l;const p=yield this.fetch(f.toString(),{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},c),this.headers),i),body:m,signal:u}).catch(g=>{throw g.name==="AbortError"?g:new Am(g)}),b=p.headers.get("x-relay-error");if(b&&b==="true")throw new Im(p);if(!p.ok)throw new Om(p);let E=((s=p.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),v;return E==="application/json"?v=yield p.json():E==="application/octet-stream"||E==="application/pdf"?v=yield p.blob():E==="text/event-stream"?v=p:E==="multipart/form-data"?v=yield p.formData():v=yield p.text(),{data:v,error:null,response:p}}catch(i){return i instanceof Error&&i.name==="AbortError"?{data:null,error:new Am(i)}:{data:null,error:i,response:i instanceof Om||i instanceof Im?i.context:void 0}}})}}var At={};const Ji=dv($N);var ml={},gl={},yl={},xl={},bl={},El={},Rm;function Jb(){if(Rm)return El;Rm=1,Object.defineProperty(El,"__esModule",{value:!0});class e extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return El.default=e,El}var Pm;function Zb(){if(Pm)return bl;Pm=1,Object.defineProperty(bl,"__esModule",{value:!0});const t=Ji.__importDefault(Jb());class n{constructor(s){var i,a;this.shouldThrowOnError=!1,this.method=s.method,this.url=s.url,this.headers=new Headers(s.headers),this.schema=s.schema,this.body=s.body,this.shouldThrowOnError=(i=s.shouldThrowOnError)!==null&&i!==void 0?i:!1,this.signal=s.signal,this.isMaybeSingle=(a=s.isMaybeSingle)!==null&&a!==void 0?a:!1,s.fetch?this.fetch=s.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(s,i){return this.headers=new Headers(this.headers),this.headers.set(s,i),this}then(s,i){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const a=this.fetch;let l=a(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async u=>{var c,h,f,m;let p=null,b=null,E=null,v=u.status,g=u.statusText;if(u.ok){if(this.method!=="HEAD"){const P=await u.text();P===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((c=this.headers.get("Accept"))===null||c===void 0)&&c.includes("application/vnd.pgrst.plan+text"))?b=P:b=JSON.parse(P))}const x=(h=this.headers.get("Prefer"))===null||h===void 0?void 0:h.match(/count=(exact|planned|estimated)/),S=(f=u.headers.get("content-range"))===null||f===void 0?void 0:f.split("/");x&&S&&S.length>1&&(E=parseInt(S[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(b)&&(b.length>1?(p={code:"PGRST116",details:`Results contain ${b.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},b=null,E=null,v=406,g="Not Acceptable"):b.length===1?b=b[0]:b=null)}else{const x=await u.text();try{p=JSON.parse(x),Array.isArray(p)&&u.status===404&&(b=[],p=null,v=200,g="OK")}catch{u.status===404&&x===""?(v=204,g="No Content"):p={message:x}}if(p&&this.isMaybeSingle&&(!((m=p==null?void 0:p.details)===null||m===void 0)&&m.includes("0 rows"))&&(p=null,v=200,g="OK"),p&&this.shouldThrowOnError)throw new t.default(p)}return{error:p,data:b,count:E,status:v,statusText:g}});return this.shouldThrowOnError||(l=l.catch(u=>{var c,h,f;return{error:{message:`${(c=u==null?void 0:u.name)!==null&&c!==void 0?c:"FetchError"}: ${u==null?void 0:u.message}`,details:`${(h=u==null?void 0:u.stack)!==null&&h!==void 0?h:""}`,hint:"",code:`${(f=u==null?void 0:u.code)!==null&&f!==void 0?f:""}`},data:null,count:null,status:0,statusText:""}})),l.then(s,i)}returns(){return this}overrideTypes(){return this}}return bl.default=n,bl}var Lm;function eE(){if(Lm)return xl;Lm=1,Object.defineProperty(xl,"__esModule",{value:!0});const t=Ji.__importDefault(Zb());class n extends t.default{select(s){let i=!1;const a=(s??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",a),this.headers.append("Prefer","return=representation"),this}order(s,{ascending:i=!0,nullsFirst:a,foreignTable:l,referencedTable:u=l}={}){const c=u?`${u}.order`:"order",h=this.url.searchParams.get(c);return this.url.searchParams.set(c,`${h?`${h},`:""}${s}.${i?"asc":"desc"}${a===void 0?"":a?".nullsfirst":".nullslast"}`),this}limit(s,{foreignTable:i,referencedTable:a=i}={}){const l=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(l,`${s}`),this}range(s,i,{foreignTable:a,referencedTable:l=a}={}){const u=typeof l>"u"?"offset":`${l}.offset`,c=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(u,`${s}`),this.url.searchParams.set(c,`${i-s+1}`),this}abortSignal(s){return this.signal=s,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:s=!1,verbose:i=!1,settings:a=!1,buffers:l=!1,wal:u=!1,format:c="text"}={}){var h;const f=[s?"analyze":null,i?"verbose":null,a?"settings":null,l?"buffers":null,u?"wal":null].filter(Boolean).join("|"),m=(h=this.headers.get("Accept"))!==null&&h!==void 0?h:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${c}; for="${m}"; options=${f};`),c==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(s){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${s}`),this}}return xl.default=n,xl}var jm;function b0(){if(jm)return yl;jm=1,Object.defineProperty(yl,"__esModule",{value:!0});const t=Ji.__importDefault(eE()),n=new RegExp("[,()]");class r extends t.default{eq(i,a){return this.url.searchParams.append(i,`eq.${a}`),this}neq(i,a){return this.url.searchParams.append(i,`neq.${a}`),this}gt(i,a){return this.url.searchParams.append(i,`gt.${a}`),this}gte(i,a){return this.url.searchParams.append(i,`gte.${a}`),this}lt(i,a){return this.url.searchParams.append(i,`lt.${a}`),this}lte(i,a){return this.url.searchParams.append(i,`lte.${a}`),this}like(i,a){return this.url.searchParams.append(i,`like.${a}`),this}likeAllOf(i,a){return this.url.searchParams.append(i,`like(all).{${a.join(",")}}`),this}likeAnyOf(i,a){return this.url.searchParams.append(i,`like(any).{${a.join(",")}}`),this}ilike(i,a){return this.url.searchParams.append(i,`ilike.${a}`),this}ilikeAllOf(i,a){return this.url.searchParams.append(i,`ilike(all).{${a.join(",")}}`),this}ilikeAnyOf(i,a){return this.url.searchParams.append(i,`ilike(any).{${a.join(",")}}`),this}is(i,a){return this.url.searchParams.append(i,`is.${a}`),this}in(i,a){const l=Array.from(new Set(a)).map(u=>typeof u=="string"&&n.test(u)?`"${u}"`:`${u}`).join(",");return this.url.searchParams.append(i,`in.(${l})`),this}contains(i,a){return typeof a=="string"?this.url.searchParams.append(i,`cs.${a}`):Array.isArray(a)?this.url.searchParams.append(i,`cs.{${a.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(a)}`),this}containedBy(i,a){return typeof a=="string"?this.url.searchParams.append(i,`cd.${a}`):Array.isArray(a)?this.url.searchParams.append(i,`cd.{${a.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(a)}`),this}rangeGt(i,a){return this.url.searchParams.append(i,`sr.${a}`),this}rangeGte(i,a){return this.url.searchParams.append(i,`nxl.${a}`),this}rangeLt(i,a){return this.url.searchParams.append(i,`sl.${a}`),this}rangeLte(i,a){return this.url.searchParams.append(i,`nxr.${a}`),this}rangeAdjacent(i,a){return this.url.searchParams.append(i,`adj.${a}`),this}overlaps(i,a){return typeof a=="string"?this.url.searchParams.append(i,`ov.${a}`):this.url.searchParams.append(i,`ov.{${a.join(",")}}`),this}textSearch(i,a,{config:l,type:u}={}){let c="";u==="plain"?c="pl":u==="phrase"?c="ph":u==="websearch"&&(c="w");const h=l===void 0?"":`(${l})`;return this.url.searchParams.append(i,`${c}fts${h}.${a}`),this}match(i){return Object.entries(i).forEach(([a,l])=>{this.url.searchParams.append(a,`eq.${l}`)}),this}not(i,a,l){return this.url.searchParams.append(i,`not.${a}.${l}`),this}or(i,{foreignTable:a,referencedTable:l=a}={}){const u=l?`${l}.or`:"or";return this.url.searchParams.append(u,`(${i})`),this}filter(i,a,l){return this.url.searchParams.append(i,`${a}.${l}`),this}}return yl.default=r,yl}var Dm;function tE(){if(Dm)return gl;Dm=1,Object.defineProperty(gl,"__esModule",{value:!0});const t=Ji.__importDefault(b0());class n{constructor(s,{headers:i={},schema:a,fetch:l}){this.url=s,this.headers=new Headers(i),this.schema=a,this.fetch=l}select(s,i){const{head:a=!1,count:l}=i??{},u=a?"HEAD":"GET";let c=!1;const h=(s??"*").split("").map(f=>/\s/.test(f)&&!c?"":(f==='"'&&(c=!c),f)).join("");return this.url.searchParams.set("select",h),l&&this.headers.append("Prefer",`count=${l}`),new t.default({method:u,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(s,{count:i,defaultToNull:a=!0}={}){var l;const u="POST";if(i&&this.headers.append("Prefer",`count=${i}`),a||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const c=s.reduce((h,f)=>h.concat(Object.keys(f)),[]);if(c.length>0){const h=[...new Set(c)].map(f=>`"${f}"`);this.url.searchParams.set("columns",h.join(","))}}return new t.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}upsert(s,{onConflict:i,ignoreDuplicates:a=!1,count:l,defaultToNull:u=!0}={}){var c;const h="POST";if(this.headers.append("Prefer",`resolution=${a?"ignore":"merge"}-duplicates`),i!==void 0&&this.url.searchParams.set("on_conflict",i),l&&this.headers.append("Prefer",`count=${l}`),u||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const f=s.reduce((m,p)=>m.concat(Object.keys(p)),[]);if(f.length>0){const m=[...new Set(f)].map(p=>`"${p}"`);this.url.searchParams.set("columns",m.join(","))}}return new t.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}update(s,{count:i}={}){var a;const l="PATCH";return i&&this.headers.append("Prefer",`count=${i}`),new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}delete({count:s}={}){var i;const a="DELETE";return s&&this.headers.append("Prefer",`count=${s}`),new t.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}}return gl.default=n,gl}var Mm;function VN(){if(Mm)return ml;Mm=1,Object.defineProperty(ml,"__esModule",{value:!0});const e=Ji,t=e.__importDefault(tE()),n=e.__importDefault(b0());class r{constructor(i,{headers:a={},schema:l,fetch:u}={}){this.url=i,this.headers=new Headers(a),this.schemaName=l,this.fetch=u}from(i){const a=new URL(`${this.url}/${i}`);return new t.default(a,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(i){return new r(this.url,{headers:this.headers,schema:i,fetch:this.fetch})}rpc(i,a={},{head:l=!1,get:u=!1,count:c}={}){var h;let f;const m=new URL(`${this.url}/rpc/${i}`);let p;l||u?(f=l?"HEAD":"GET",Object.entries(a).filter(([E,v])=>v!==void 0).map(([E,v])=>[E,Array.isArray(v)?`{${v.join(",")}}`:`${v}`]).forEach(([E,v])=>{m.searchParams.append(E,v)})):(f="POST",p=a);const b=new Headers(this.headers);return c&&b.set("Prefer",`count=${c}`),new n.default({method:f,url:m,headers:b,schema:this.schemaName,body:p,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}}return ml.default=r,ml}Object.defineProperty(At,"__esModule",{value:!0});var nE=At.PostgrestError=hE=At.PostgrestBuilder=cE=At.PostgrestTransformBuilder=lE=At.PostgrestFilterBuilder=aE=At.PostgrestQueryBuilder=sE=At.PostgrestClient=void 0;const Zi=Ji,rE=Zi.__importDefault(VN());var sE=At.PostgrestClient=rE.default;const iE=Zi.__importDefault(tE());var aE=At.PostgrestQueryBuilder=iE.default;const oE=Zi.__importDefault(b0());var lE=At.PostgrestFilterBuilder=oE.default;const uE=Zi.__importDefault(eE());var cE=At.PostgrestTransformBuilder=uE.default;const dE=Zi.__importDefault(Zb());var hE=At.PostgrestBuilder=dE.default;const fE=Zi.__importDefault(Jb());nE=At.PostgrestError=fE.default;var pE=At.default={PostgrestClient:rE.default,PostgrestQueryBuilder:iE.default,PostgrestFilterBuilder:oE.default,PostgrestTransformBuilder:uE.default,PostgrestBuilder:dE.default,PostgrestError:fE.default};const qN=P1({__proto__:null,get PostgrestBuilder(){return hE},get PostgrestClient(){return sE},get PostgrestError(){return nE},get PostgrestFilterBuilder(){return lE},get PostgrestQueryBuilder(){return aE},get PostgrestTransformBuilder(){return cE},default:pE},[At]),{PostgrestClient:YN,PostgrestQueryBuilder:GL,PostgrestFilterBuilder:KL,PostgrestTransformBuilder:QL,PostgrestBuilder:XL,PostgrestError:JL}=pE||qN;class GN{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,s=parseInt(r.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const r=this.getWebSocketConstructor();return new r(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const KN="2.80.0",QN=`realtime-js/${KN}`,XN="1.0.0",Fh=1e4,JN=1e3,ZN=100;var Fa;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Fa||(Fa={}));var et;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(et||(et={}));var wn;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(wn||(wn={}));var Uh;(function(e){e.websocket="websocket"})(Uh||(Uh={}));var ls;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(ls||(ls={}));class ek{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){const s=n.getUint8(1),i=n.getUint8(2);let a=this.HEADER_LENGTH+2;const l=r.decode(t.slice(a,a+s));a=a+s;const u=r.decode(t.slice(a,a+i));a=a+i;const c=JSON.parse(r.decode(t.slice(a,t.byteLength)));return{ref:null,topic:l,event:u,payload:c}}}class mE{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ce;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Ce||(Ce={}));const Bm=(e,t,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return t?Object.keys(t).reduce((i,a)=>(i[a]=tk(a,e,t,s),i),{}):{}},tk=(e,t,n,r)=>{const s=t.find(l=>l.name===e),i=s==null?void 0:s.type,a=n[e];return i&&!r.includes(i)?gE(i,a):Hh(a)},gE=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return ik(t,n)}switch(e){case Ce.bool:return nk(t);case Ce.float4:case Ce.float8:case Ce.int2:case Ce.int4:case Ce.int8:case Ce.numeric:case Ce.oid:return rk(t);case Ce.json:case Ce.jsonb:return sk(t);case Ce.timestamp:return ak(t);case Ce.abstime:case Ce.date:case Ce.daterange:case Ce.int4range:case Ce.int8range:case Ce.money:case Ce.reltime:case Ce.text:case Ce.time:case Ce.timestamptz:case Ce.timetz:case Ce.tsrange:case Ce.tstzrange:return Hh(t);default:return Hh(t)}},Hh=e=>e,nk=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},rk=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},sk=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},ik=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let i;const a=e.slice(1,n);try{i=JSON.parse("["+a+"]")}catch{i=a?a.split(","):[]}return i.map(l=>gE(t,l))}return e},ak=e=>typeof e=="string"?e.replace(" ","T"):e,yE=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Kc{constructor(t,n,r={},s=Fh){this.channel=t,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Fm;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Fm||(Fm={}));class Ua{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:i,onLeave:a,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ua.syncState(this.state,s,i,a),this.pendingDiffs.forEach(u=>{this.state=Ua.syncDiff(this.state,u,i,a)}),this.pendingDiffs=[],l()}),this.channel._on(r.diff,{},s=>{const{onJoin:i,onLeave:a,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Ua.syncDiff(this.state,s,i,a),l())}),this.onJoin((s,i,a)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:a})}),this.onLeave((s,i,a)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,s){const i=this.cloneDeep(t),a=this.transformState(n),l={},u={};return this.map(i,(c,h)=>{a[c]||(u[c]=h)}),this.map(a,(c,h)=>{const f=i[c];if(f){const m=h.map(v=>v.presence_ref),p=f.map(v=>v.presence_ref),b=h.filter(v=>p.indexOf(v.presence_ref)<0),E=f.filter(v=>m.indexOf(v.presence_ref)<0);b.length>0&&(l[c]=b),E.length>0&&(u[c]=E)}else l[c]=h}),this.syncDiff(i,{joins:l,leaves:u},r,s)}static syncDiff(t,n,r,s){const{joins:i,leaves:a}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(i,(l,u)=>{var c;const h=(c=t[l])!==null&&c!==void 0?c:[];if(t[l]=this.cloneDeep(u),h.length>0){const f=t[l].map(p=>p.presence_ref),m=h.filter(p=>f.indexOf(p.presence_ref)<0);t[l].unshift(...m)}r(l,h,u)}),this.map(a,(l,u)=>{let c=t[l];if(!c)return;const h=u.map(f=>f.presence_ref);c=c.filter(f=>h.indexOf(f.presence_ref)<0),t[l]=c,s(l,c,u),c.length===0&&delete t[l]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const s=t[r];return"metas"in s?n[r]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=s,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Um;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Um||(Um={}));var Ha;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Ha||(Ha={}));var Kn;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Kn||(Kn={}));class E0{constructor(t,n={config:{}},r){var s,i;if(this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=et.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Kc(this,wn.join,this.params,this.timeout),this.rejoinTimer=new mE(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=et.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=et.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=et.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=et.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=et.errored,this.rejoinTimer.scheduleTimeout())}),this._on(wn.reply,{},(a,l)=>{this._trigger(this._replyEventName(l),a)}),this.presence=new Ua(this),this.broadcastEndpointURL=yE(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,n=this.timeout){var r,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==et.closed){const{config:{broadcast:a,presence:l,private:u}}=this.params,c=(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(p=>p.filter))!==null&&s!==void 0?s:[],h=!!this.bindings[Ha.PRESENCE]&&this.bindings[Ha.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,f={},m={broadcast:a,presence:Object.assign(Object.assign({},l),{enabled:h}),postgres_changes:c,private:u};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(p=>t==null?void 0:t(Kn.CHANNEL_ERROR,p)),this._onClose(()=>t==null?void 0:t(Kn.CLOSED)),this.updateJoinPayload(Object.assign({config:m},f)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:p})=>{var b;if(this.socket.setAuth(),p===void 0){t==null||t(Kn.SUBSCRIBED);return}else{const E=this.bindings.postgres_changes,v=(b=E==null?void 0:E.length)!==null&&b!==void 0?b:0,g=[];for(let y=0;y<v;y++){const x=E[y],{filter:{event:S,schema:P,table:C,filter:M}}=x,R=p&&p[y];if(R&&R.event===S&&R.schema===P&&R.table===C&&R.filter===M)g.push(Object.assign(Object.assign({},x),{id:R.id}));else{this.unsubscribe(),this.state=et.errored,t==null||t(Kn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,t&&t(Kn.SUBSCRIBED);return}}).receive("error",p=>{this.state=et.errored,t==null||t(Kn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Kn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this.state===et.joined&&t===Ha.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,n,r)}async httpSend(t,n,r={}){var s;const i=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(n==null)return Promise.reject("Payload is required for httpSend()");const a={method:"POST",headers:{Authorization:i,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:n,private:this.private}]})},l=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(s=r.timeout)!==null&&s!==void 0?s:this.timeout);if(l.status===202)return{success:!0};let u=l.statusText;try{const c=await l.json();u=c.error||c.message||u}catch{}return Promise.reject(new Error(u))}async send(t,n={}){var r,s;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:a}=t,u={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:a,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=c.body)===null||s===void 0?void 0:s.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var a,l,u;const c=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((u=(l=(a=this.params)===null||a===void 0?void 0:a.config)===null||l===void 0?void 0:l.broadcast)===null||u===void 0)&&u.ack)&&i("ok"),c.receive("ok",()=>i("ok")),c.receive("error",()=>i("error")),c.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=et.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(wn.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(s=>{r=new Kc(this,wn.leave,{},t),r.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=et.closed,this.bindings={}}async _fetchWithTimeout(t,n,r){const s=new AbortController,i=setTimeout(()=>s.abort(),r),a=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(i),a}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Kc(this,t,n,r);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>ZN){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var s,i;const a=t.toLocaleLowerCase(),{close:l,error:u,leave:c,join:h}=wn;if(r&&[l,u,c,h].indexOf(a)>=0&&r!==this._joinRef())return;let m=this._onMessage(a,n,r);if(n&&!m)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(p=>{var b,E,v;return((b=p.filter)===null||b===void 0?void 0:b.event)==="*"||((v=(E=p.filter)===null||E===void 0?void 0:E.event)===null||v===void 0?void 0:v.toLocaleLowerCase())===a}).map(p=>p.callback(m,r)):(i=this.bindings[a])===null||i===void 0||i.filter(p=>{var b,E,v,g,y,x;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in p){const S=p.id,P=(b=p.filter)===null||b===void 0?void 0:b.event;return S&&((E=n.ids)===null||E===void 0?void 0:E.includes(S))&&(P==="*"||(P==null?void 0:P.toLocaleLowerCase())===((v=n.data)===null||v===void 0?void 0:v.type.toLocaleLowerCase()))}else{const S=(y=(g=p==null?void 0:p.filter)===null||g===void 0?void 0:g.event)===null||y===void 0?void 0:y.toLocaleLowerCase();return S==="*"||S===((x=n==null?void 0:n.event)===null||x===void 0?void 0:x.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===a}).map(p=>{if(typeof m=="object"&&"ids"in m){const b=m.data,{schema:E,table:v,commit_timestamp:g,type:y,errors:x}=b;m=Object.assign(Object.assign({},{schema:E,table:v,commit_timestamp:g,eventType:y,new:{},old:{},errors:x}),this._getPayloadRecords(b))}p.callback(m,r)})}_isClosed(){return this.state===et.closed}_isJoined(){return this.state===et.joined}_isJoining(){return this.state===et.joining}_isLeaving(){return this.state===et.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const s=t.toLocaleLowerCase(),i={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&E0.isEqual(s.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(wn.close,{},t)}_onError(t){this._on(wn.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=et.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=Bm(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=Bm(t.columns,t.old_record)),n}}const Qc=()=>{},vl={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},ok=[1e3,2e3,5e3,1e4],lk=1e4,uk=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class ck{constructor(t,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Fh,this.transport=null,this.heartbeatIntervalMs=vl.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Qc,this.ref=0,this.reconnectTimer=null,this.logger=Qc,this.conn=null,this.sendBuffer=[],this.serializer=new ek,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>s?(...i)=>s(...i):(...i)=>fetch(...i),!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${Uh.websocket}`,this.httpEndpoint=yE(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=GN.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:XN}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},t?this.conn.close(t,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Fa.connecting:return ls.Connecting;case Fa.open:return ls.Open;case Fa.closing:return ls.Closing;default:return ls.Closed}}isConnected(){return this.connectionState()===ls.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const r=`realtime:${t}`,s=this.getChannels().find(i=>i.topic===r);if(s)return s;{const i=new E0(`realtime:${t}`,n,this);return this.channels.push(i),i}}push(t){const{topic:n,event:r,payload:s,ref:i}=t,a=()=>{this.encode(t,l=>{var u;(u=this.conn)===null||u===void 0||u.send(l)})};this.log("push",`${n} ${r} (${i})`,s),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(JN,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},vl.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(c){this.log("error","error in heartbeat callback",c)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:s,payload:i,ref:a}=n,l=a?`(${a})`:"",u=i.status||"";this.log("receive",`${u} ${r} ${s} ${l}`.trim(),i),this.channels.filter(c=>c._isMember(r)).forEach(c=>c._trigger(s,i,a)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(wn.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${t}${r}${s}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([uk],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n;t?n=t:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const s={access_token:n,version:QN};n&&r.updateJoinPayload(s),r.joinedOnce&&r._isJoined()&&r._push(wn.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(n)}catch(s){this.log("error",`error in ${t} callback`,s)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new mE(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},vl.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,r,s,i,a,l,u,c,h;if(this.transport=(n=t==null?void 0:t.transport)!==null&&n!==void 0?n:null,this.timeout=(r=t==null?void 0:t.timeout)!==null&&r!==void 0?r:Fh,this.heartbeatIntervalMs=(s=t==null?void 0:t.heartbeatIntervalMs)!==null&&s!==void 0?s:vl.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(a=t==null?void 0:t.accessToken)!==null&&a!==void 0?a:null,this.heartbeatCallback=(l=t==null?void 0:t.heartbeatCallback)!==null&&l!==void 0?l:Qc,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=t==null?void 0:t.reconnectAfterMs)!==null&&u!==void 0?u:f=>ok[f-1]||lk,this.encode=(c=t==null?void 0:t.encode)!==null&&c!==void 0?c:(f,m)=>m(JSON.stringify(f)),this.decode=(h=t==null?void 0:t.decode)!==null&&h!==void 0?h:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class v0 extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Fe(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class dk extends v0{constructor(t,n,r){super(t),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class $h extends v0{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}const _0=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),hk=()=>Response,zh=e=>{if(Array.isArray(e))return e.map(n=>zh(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=zh(r)}),t},fk=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Xc=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},pk=(e,t,n)=>te(void 0,void 0,void 0,function*(){const r=yield hk();e instanceof r&&!(n!=null&&n.noResolveJson)?e.json().then(s=>{const i=e.status||500,a=(s==null?void 0:s.statusCode)||i+"";t(new dk(Xc(s),i,a))}).catch(s=>{t(new $h(Xc(s),s))}):t(new $h(Xc(e),e))}),mk=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!r?s:(fk(r)?(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(r)):s.body=r,t!=null&&t.duplex&&(s.duplex=t.duplex),Object.assign(Object.assign({},s),n))};function Do(e,t,n,r,s,i){return te(this,void 0,void 0,function*(){return new Promise((a,l)=>{e(n,mk(t,r,s,i)).then(u=>{if(!u.ok)throw u;return r!=null&&r.noResolveJson?u:u.json()}).then(u=>a(u)).catch(u=>pk(u,l,r))})})}function xo(e,t,n,r){return te(this,void 0,void 0,function*(){return Do(e,"GET",t,n,r)})}function En(e,t,n,r,s){return te(this,void 0,void 0,function*(){return Do(e,"POST",t,r,s,n)})}function Wh(e,t,n,r,s){return te(this,void 0,void 0,function*(){return Do(e,"PUT",t,r,s,n)})}function gk(e,t,n,r){return te(this,void 0,void 0,function*(){return Do(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function T0(e,t,n,r,s){return te(this,void 0,void 0,function*(){return Do(e,"DELETE",t,r,s,n)})}class yk{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n}then(t,n){return this.execute().then(t,n)}execute(){return te(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Fe(t))return{data:null,error:t};throw t}})}}var xE;class xk{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n,this[xE]="BlobDownloadBuilder",this.promise=null}asStream(){return new yk(this.downloadFn,this.shouldThrowOnError)}then(t,n){return this.getPromise().then(t,n)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return te(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Fe(t))return{data:null,error:t};throw t}})}}xE=Symbol.toStringTag;const bk={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Hm={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Ek{constructor(t,n={},r,s){this.shouldThrowOnError=!1,this.url=t,this.headers=n,this.bucketId=r,this.fetch=_0(s)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,n,r,s){return te(this,void 0,void 0,function*(){try{let i;const a=Object.assign(Object.assign({},Hm),s);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(a.upsert)});const u=a.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",a.cacheControl),u&&i.append("metadata",this.encodeMetadata(u)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.has("cacheControl")||i.append("cacheControl",a.cacheControl),u&&!i.has("metadata")&&i.append("metadata",this.encodeMetadata(u))):(i=r,l["cache-control"]=`max-age=${a.cacheControl}`,l["content-type"]=a.contentType,u&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(u))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!a.duplex&&(a.duplex="half")),s!=null&&s.headers&&(l=Object.assign(Object.assign({},l),s.headers));const c=this._removeEmptyFolders(n),h=this._getFinalPath(c),f=yield(t=="PUT"?Wh:En)(this.fetch,`${this.url}/object/${h}`,i,Object.assign({headers:l},a!=null&&a.duplex?{duplex:a.duplex}:{}));return{data:{path:c,id:f.Id,fullPath:f.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Fe(i))return{data:null,error:i};throw i}})}upload(t,n,r){return te(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,s){return te(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),a=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${a}`);l.searchParams.set("token",n);try{let u;const c=Object.assign({upsert:Hm.upsert},s),h=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&r instanceof Blob?(u=new FormData,u.append("cacheControl",c.cacheControl),u.append("",r)):typeof FormData<"u"&&r instanceof FormData?(u=r,u.append("cacheControl",c.cacheControl)):(u=r,h["cache-control"]=`max-age=${c.cacheControl}`,h["content-type"]=c.contentType);const f=yield Wh(this.fetch,l.toString(),u,{headers:h});return{data:{path:i,fullPath:f.Key},error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(Fe(u))return{data:null,error:u};throw u}})}createSignedUploadUrl(t,n){return te(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const i=yield En(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),a=new URL(this.url+i.url),l=a.searchParams.get("token");if(!l)throw new v0("No token returned by API");return{data:{signedUrl:a.toString(),path:t,token:l},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Fe(r))return{data:null,error:r};throw r}})}update(t,n,r){return te(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return te(this,void 0,void 0,function*(){try{return{data:yield En(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Fe(s))return{data:null,error:s};throw s}})}copy(t,n,r){return te(this,void 0,void 0,function*(){try{return{data:{path:(yield En(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Fe(s))return{data:null,error:s};throw s}})}createSignedUrl(t,n,r){return te(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),i=yield En(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const a=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${a}`)},{data:i,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Fe(s))return{data:null,error:s};throw s}})}createSignedUrls(t,n,r){return te(this,void 0,void 0,function*(){try{const s=yield En(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI(`${this.url}${a.signedURL}${i}`):null})),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Fe(s))return{data:null,error:s};throw s}})}download(t,n){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),a=i?`?${i}`:"",l=this._getFinalPath(t),u=()=>xo(this.fetch,`${this.url}/${s}/${l}${a}`,{headers:this.headers,noResolveJson:!0});return new xk(u,this.shouldThrowOnError)}info(t){return te(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield xo(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:zh(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Fe(r))return{data:null,error:r};throw r}})}exists(t){return te(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield gk(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Fe(r)&&r instanceof $h){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),s=[],i=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&s.push(i);const l=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",u=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});u!==""&&s.push(u);let c=s.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${r}${c}`)}}}remove(t){return te(this,void 0,void 0,function*(){try{return{data:yield T0(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Fe(n))return{data:null,error:n};throw n}})}list(t,n,r){return te(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},bk),n),{prefix:t||""});return{data:yield En(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Fe(s))return{data:null,error:s};throw s}})}listV2(t,n){return te(this,void 0,void 0,function*(){try{const r=Object.assign({},t);return{data:yield En(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Fe(r))return{data:null,error:r};throw r}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const bE="2.80.0",EE={"X-Client-Info":`storage-js/${bE}`};class vk{constructor(t,n={},r,s){this.shouldThrowOnError=!1;const i=new URL(t);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},EE),n),this.fetch=_0(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(t){return te(this,void 0,void 0,function*(){try{const n=this.listBucketOptionsToQueryString(t);return{data:yield xo(this.fetch,`${this.url}/bucket${n}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Fe(n))return{data:null,error:n};throw n}})}getBucket(t){return te(this,void 0,void 0,function*(){try{return{data:yield xo(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Fe(n))return{data:null,error:n};throw n}})}createBucket(t){return te(this,arguments,void 0,function*(n,r={public:!1}){try{return{data:yield En(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Fe(s))return{data:null,error:s};throw s}})}updateBucket(t,n){return te(this,void 0,void 0,function*(){try{return{data:yield Wh(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Fe(r))return{data:null,error:r};throw r}})}emptyBucket(t){return te(this,void 0,void 0,function*(){try{return{data:yield En(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Fe(n))return{data:null,error:n};throw n}})}deleteBucket(t){return te(this,void 0,void 0,function*(){try{return{data:yield T0(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Fe(n))return{data:null,error:n};throw n}})}listBucketOptionsToQueryString(t){const n={};return t&&("limit"in t&&(n.limit=String(t.limit)),"offset"in t&&(n.offset=String(t.offset)),t.search&&(n.search=t.search),t.sortColumn&&(n.sortColumn=t.sortColumn),t.sortOrder&&(n.sortOrder=t.sortOrder)),Object.keys(n).length>0?"?"+new URLSearchParams(n).toString():""}}class _k{constructor(t,n={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},EE),n),this.fetch=_0(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return te(this,void 0,void 0,function*(){try{return{data:yield En(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Fe(n))return{data:null,error:n};throw n}})}listBuckets(t){return te(this,void 0,void 0,function*(){try{const n=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&n.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&n.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&n.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&n.set("sortOrder",t.sortOrder),t!=null&&t.search&&n.set("search",t.search);const r=n.toString(),s=r?`${this.url}/bucket?${r}`:`${this.url}/bucket`;return{data:yield xo(this.fetch,s,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Fe(n))return{data:null,error:n};throw n}})}deleteBucket(t){return te(this,void 0,void 0,function*(){try{return{data:yield T0(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Fe(n))return{data:null,error:n};throw n}})}}const w0={"X-Client-Info":`storage-js/${bE}`,"Content-Type":"application/json"};class vE extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Kt(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}class Jc extends vE{constructor(t,n,r){super(t),this.name="StorageVectorsApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Tk extends vE{constructor(t,n){super(t),this.name="StorageVectorsUnknownError",this.originalError=n}}var $m;(function(e){e.InternalError="InternalError",e.S3VectorConflictException="S3VectorConflictException",e.S3VectorNotFoundException="S3VectorNotFoundException",e.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",e.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",e.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})($m||($m={}));const S0=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),wk=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},zm=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Sk=(e,t,n)=>te(void 0,void 0,void 0,function*(){if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(n!=null&&n.noResolveJson)){const s=e.status||500,i=e;if(typeof i.json=="function")i.json().then(a=>{const l=(a==null?void 0:a.statusCode)||(a==null?void 0:a.code)||s+"";t(new Jc(zm(a),s,l))}).catch(()=>{const a=s+"",l=i.statusText||`HTTP ${s} error`;t(new Jc(l,s,a))});else{const a=s+"",l=i.statusText||`HTTP ${s} error`;t(new Jc(l,s,a))}}else t(new Tk(zm(e),e))}),Nk=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return r?(wk(r)?(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(r)):s.body=r,Object.assign(Object.assign({},s),n)):s};function kk(e,t,n,r,s,i){return te(this,void 0,void 0,function*(){return new Promise((a,l)=>{e(n,Nk(t,r,s,i)).then(u=>{if(!u.ok)throw u;if(r!=null&&r.noResolveJson)return u;const c=u.headers.get("content-type");return!c||!c.includes("application/json")?{}:u.json()}).then(u=>a(u)).catch(u=>Sk(u,l,r))})})}function Qt(e,t,n,r,s){return te(this,void 0,void 0,function*(){return kk(e,"POST",t,r,s,n)})}class Ck{constructor(t,n={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},w0),n),this.fetch=S0(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return te(this,void 0,void 0,function*(){try{return{data:(yield Qt(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Kt(n))return{data:null,error:n};throw n}})}getIndex(t,n){return te(this,void 0,void 0,function*(){try{return{data:yield Qt(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:n},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Kt(r))return{data:null,error:r};throw r}})}listIndexes(t){return te(this,void 0,void 0,function*(){try{return{data:yield Qt(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Kt(n))return{data:null,error:n};throw n}})}deleteIndex(t,n){return te(this,void 0,void 0,function*(){try{return{data:(yield Qt(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:n},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Kt(r))return{data:null,error:r};throw r}})}}class Ak{constructor(t,n={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},w0),n),this.fetch=S0(r)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return te(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Qt(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Kt(n))return{data:null,error:n};throw n}})}getVectors(t){return te(this,void 0,void 0,function*(){try{return{data:yield Qt(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Kt(n))return{data:null,error:n};throw n}})}listVectors(t){return te(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield Qt(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Kt(n))return{data:null,error:n};throw n}})}queryVectors(t){return te(this,void 0,void 0,function*(){try{return{data:yield Qt(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Kt(n))return{data:null,error:n};throw n}})}deleteVectors(t){return te(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Qt(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Kt(n))return{data:null,error:n};throw n}})}}class Ik{constructor(t,n={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},w0),n),this.fetch=S0(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return te(this,void 0,void 0,function*(){try{return{data:(yield Qt(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Kt(n))return{data:null,error:n};throw n}})}getBucket(t){return te(this,void 0,void 0,function*(){try{return{data:yield Qt(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Kt(n))return{data:null,error:n};throw n}})}listBuckets(){return te(this,arguments,void 0,function*(t={}){try{return{data:yield Qt(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Kt(n))return{data:null,error:n};throw n}})}deleteBucket(t){return te(this,void 0,void 0,function*(){try{return{data:(yield Qt(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Kt(n))return{data:null,error:n};throw n}})}}class Ok extends Ik{constructor(t,n={}){super(t,n.headers||{},n.fetch)}from(t){return new Rk(this.url,this.headers,t,this.fetch)}}class Rk extends Ck{constructor(t,n,r,s){super(t,n,s),this.vectorBucketName=r}createIndex(t){const n=Object.create(null,{createIndex:{get:()=>super.createIndex}});return te(this,void 0,void 0,function*(){return n.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return te(this,arguments,void 0,function*(n={}){return t.listIndexes.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){const n=Object.create(null,{getIndex:{get:()=>super.getIndex}});return te(this,void 0,void 0,function*(){return n.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){const n=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return te(this,void 0,void 0,function*(){return n.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new Pk(this.url,this.headers,this.vectorBucketName,t,this.fetch)}}class Pk extends Ak{constructor(t,n,r,s,i){super(t,n,i),this.vectorBucketName=r,this.indexName=s}putVectors(t){const n=Object.create(null,{putVectors:{get:()=>super.putVectors}});return te(this,void 0,void 0,function*(){return n.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){const n=Object.create(null,{getVectors:{get:()=>super.getVectors}});return te(this,void 0,void 0,function*(){return n.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return te(this,arguments,void 0,function*(n={}){return t.listVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){const n=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return te(this,void 0,void 0,function*(){return n.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){const n=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return te(this,void 0,void 0,function*(){return n.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class Lk extends vk{constructor(t,n={},r,s){super(t,n,r,s)}from(t){return new Ek(this.url,this.headers,t,this.fetch)}get vectors(){return new Ok(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new _k(this.url+"/iceberg",this.headers,this.fetch)}}const jk="2.80.0";let ka="";typeof Deno<"u"?ka="deno":typeof document<"u"?ka="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ka="react-native":ka="node";const Dk={"X-Client-Info":`supabase-js-${ka}/${jk}`},Mk={headers:Dk},Bk={schema:"public"},Fk={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Uk={},Hk=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),$k=()=>Headers,zk=(e,t,n)=>{const r=Hk(n),s=$k();return async(i,a)=>{var l;const u=(l=await t())!==null&&l!==void 0?l:e;let c=new s(a==null?void 0:a.headers);return c.has("apikey")||c.set("apikey",e),c.has("Authorization")||c.set("Authorization",`Bearer ${u}`),r(i,Object.assign(Object.assign({},a),{headers:c}))}};function Wk(e){return e.endsWith("/")?e:e+"/"}function Vk(e,t){var n,r;const{db:s,auth:i,realtime:a,global:l}=e,{db:u,auth:c,realtime:h,global:f}=t,m={db:Object.assign(Object.assign({},u),s),auth:Object.assign(Object.assign({},c),i),realtime:Object.assign(Object.assign({},h),a),storage:{},global:Object.assign(Object.assign(Object.assign({},f),l),{headers:Object.assign(Object.assign({},(n=f==null?void 0:f.headers)!==null&&n!==void 0?n:{}),(r=l==null?void 0:l.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return e.accessToken?m.accessToken=e.accessToken:delete m.accessToken,m}function qk(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Wk(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const _E="2.80.0",Xs=30*1e3,Vh=3,Zc=Vh*Xs,Yk="http://localhost:9999",Gk="supabase.auth.token",Kk={"X-Client-Info":`gotrue-js/${_E}`},qh="X-Supabase-Api-Version",TE={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Qk=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Xk=10*60*1e3;class bo extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function ne(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class Jk extends bo{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function Zk(e){return ne(e)&&e.name==="AuthApiError"}class us extends bo{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class ts extends bo{constructor(t,n,r,s){super(t,r,s),this.name=n,this.status=r}}class yn extends ts{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function eC(e){return ne(e)&&e.name==="AuthSessionMissingError"}class Vs extends ts{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class _l extends ts{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Tl extends ts{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function tC(e){return ne(e)&&e.name==="AuthImplicitGrantRedirectError"}class Wm extends ts{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Yh extends ts{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function ed(e){return ne(e)&&e.name==="AuthRetryableFetchError"}class Vm extends ts{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class Gh extends ts{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Su="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),qm=` 	
\r=`.split(""),nC=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<qm.length;t+=1)e[qm[t].charCodeAt(0)]=-2;for(let t=0;t<Su.length;t+=1)e[Su[t].charCodeAt(0)]=t;return e})();function Ym(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Su[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Su[r]),t.queuedBits-=6}}function wE(e,t,n){const r=nC[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Gm(e){const t=[],n=a=>{t.push(String.fromCodePoint(a))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=a=>{iC(a,r,n)};for(let a=0;a<e.length;a+=1)wE(e.charCodeAt(a),s,i);return t.join("")}function rC(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function sC(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}rC(r,t)}}function iC(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if(!(e>>7-r&1)){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function xi(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)wE(e.charCodeAt(s),n,r);return new Uint8Array(t)}function aC(e){const t=[];return sC(e,n=>t.push(n)),new Uint8Array(t)}function ms(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};return e.forEach(s=>Ym(s,n,r)),Ym(null,n,r),t.join("")}function oC(e){return Math.round(Date.now()/1e3)+e}function lC(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const vt=()=>typeof window<"u"&&typeof document<"u",rs={tested:!1,writable:!1},SE=()=>{if(!vt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(rs.tested)return rs.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),rs.tested=!0,rs.writable=!0}catch{rs.tested=!0,rs.writable=!1}return rs.writable};function uC(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return n.searchParams.forEach((r,s)=>{t[s]=r}),t}const NE=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),cC=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Js=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},ss=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},mr=async(e,t)=>{await e.removeItem(t)};class ic{constructor(){this.promise=new ic.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}ic.promiseConstructor=Promise;function td(e){const t=e.split(".");if(t.length!==3)throw new Gh("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!Qk.test(t[r]))throw new Gh("JWT not in base64url format");return{header:JSON.parse(Gm(t[0])),payload:JSON.parse(Gm(t[1])),signature:xi(t[2]),raw:{header:t[0],payload:t[1]}}}async function dC(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function hC(e,t){return new Promise((r,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const a=await e(i);if(!t(i,null,a)){r(a);return}}catch(a){if(!t(i,a)){s(a);return}}})()})}function fC(e){return("0"+e.toString(16)).substr(-2)}function pC(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(t),Array.from(t,fC).join("")}async function mC(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function gC(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await mC(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function qs(e,t,n=!1){const r=pC();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await Js(e,`${t}-code-verifier`,s);const i=await gC(r);return[i,r===i?"plain":"s256"]}const yC=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function xC(e){const t=e.headers.get(qh);if(!t||!t.match(yC))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function bC(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function EC(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const vC=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ys(e){if(!vC.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function nd(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function _C(e,t){return new Proxy(e,{get:(n,r,s)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const i=r.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,r,s)}return!t.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(n,r,s)}})}function Km(e){return JSON.parse(JSON.stringify(e))}const os=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),TC=[502,503,504];async function Qm(e){var t;if(!cC(e))throw new Yh(os(e),0);if(TC.includes(e.status))throw new Yh(os(e),e.status);let n;try{n=await e.json()}catch(i){throw new us(os(i),i)}let r;const s=xC(e);if(s&&s.getTime()>=TE["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new Vm(os(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new yn}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,a)=>i&&typeof a=="string",!0))throw new Vm(os(n),e.status,n.weak_password.reasons);throw new Jk(os(n),e.status||500,r)}const wC=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function ae(e,t,n,r){var s;const i=Object.assign({},r==null?void 0:r.headers);i[qh]||(i[qh]=TE["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const a=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(a.redirect_to=r.redirectTo);const l=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",u=await SC(e,t,n+l,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(u):{data:Object.assign({},u),error:null}}async function SC(e,t,n,r,s,i){const a=wC(t,r,s,i);let l;try{l=await e(n,Object.assign({},a))}catch(u){throw console.error(u),new Yh(os(u),0)}if(l.ok||await Qm(l),r!=null&&r.noResolveJson)return l;try{return await l.json()}catch(u){await Qm(u)}}function xn(e){var t;let n=null;CC(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=oC(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function Xm(e){const t=xn(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Sr(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function NC(e){return{data:e,error:null}}function kC(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i}=e,a=Xi(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i},u=Object.assign({},a);return{data:{properties:l,user:u},error:null}}function Jm(e){return e}function CC(e){return e.access_token&&e.refresh_token&&e.expires_in}const rd=["global","local","others"];class AC{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=NE(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,n=rd[0]){if(rd.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${rd.join(", ")}`);try{return await ae(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(ne(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await ae(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Sr})}catch(r){if(ne(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=Xi(t,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await ae(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:kC,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(ne(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await ae(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Sr})}catch(n){if(ne(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,s,i,a,l,u;try{const c={nextPage:null,lastPage:0,total:0},h=await ae(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:Jm});if(h.error)throw h.error;const f=await h.json(),m=(a=h.headers.get("x-total-count"))!==null&&a!==void 0?a:0,p=(u=(l=h.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&u!==void 0?u:[];return p.length>0&&(p.forEach(b=>{const E=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(b.split(";")[1].split("=")[1]);c[`${v}Page`]=E}),c.total=parseInt(m)),{data:Object.assign(Object.assign({},f),c),error:null}}catch(c){if(ne(c))return{data:{users:[]},error:c};throw c}}async getUserById(t){Ys(t);try{return await ae(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Sr})}catch(n){if(ne(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){Ys(t);try{return await ae(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:Sr})}catch(r){if(ne(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){Ys(t);try{return await ae(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:Sr})}catch(r){if(ne(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){Ys(t.userId);try{const{data:n,error:r}=await ae(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(ne(n))return{data:null,error:n};throw n}}async _deleteFactor(t){Ys(t.userId),Ys(t.id);try{return{data:await ae(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(ne(n))return{data:null,error:n};throw n}}async _listOAuthClients(t){var n,r,s,i,a,l,u;try{const c={nextPage:null,lastPage:0,total:0},h=await ae(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:Jm});if(h.error)throw h.error;const f=await h.json(),m=(a=h.headers.get("x-total-count"))!==null&&a!==void 0?a:0,p=(u=(l=h.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&u!==void 0?u:[];return p.length>0&&(p.forEach(b=>{const E=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(b.split(";")[1].split("=")[1]);c[`${v}Page`]=E}),c.total=parseInt(m)),{data:Object.assign(Object.assign({},f),c),error:null}}catch(c){if(ne(c))return{data:{clients:[]},error:c};throw c}}async _createOAuthClient(t){try{return await ae(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ne(n))return{data:null,error:n};throw n}}async _getOAuthClient(t){try{return await ae(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ne(n))return{data:null,error:n};throw n}}async _updateOAuthClient(t,n){try{return await ae(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ne(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(t){try{return await ae(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(ne(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(t){try{return await ae(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ne(n))return{data:null,error:n};throw n}}}function Zm(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const Gs={debug:!!(globalThis&&SE()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class kE extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class IC extends kE{}async function OC(e,t,n){Gs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),Gs.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){Gs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await n()}finally{Gs.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw Gs.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new IC(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Gs.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function RC(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function CE(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function PC(e){return parseInt(e,16)}function LC(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,r=>r.toString(16).padStart(2,"0")).join("")}function jC(e){var t;const{chainId:n,domain:r,expirationTime:s,issuedAt:i=new Date,nonce:a,notBefore:l,requestId:u,resources:c,scheme:h,uri:f,version:m}=e;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(a&&a.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${a}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(m!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${m}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const p=CE(e.address),b=h?`${h}://${r}`:r,E=e.statement?`${e.statement}
`:"",v=`${b} wants you to sign in with your Ethereum account:
${p}

${E}`;let g=`URI: ${f}
Version: ${m}
Chain ID: ${n}${a?`
Nonce: ${a}`:""}
Issued At: ${i.toISOString()}`;if(s&&(g+=`
Expiration Time: ${s.toISOString()}`),l&&(g+=`
Not Before: ${l.toISOString()}`),u&&(g+=`
Request ID: ${u}`),c){let y=`
Resources:`;for(const x of c){if(!x||typeof x!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${x}`);y+=`
- ${x}`}g+=y}return`${v}
${g}`}class Xe extends Error{constructor({message:t,code:n,cause:r,name:s}){var i;super(t,{cause:r}),this.__isWebAuthnError=!0,this.name=(i=s??(r instanceof Error?r.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=n}}class Nu extends Xe{constructor(t,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:t}),this.name="WebAuthnUnknownError",this.originalError=n}}function DC({error:e,options:t}){var n,r,s;const{publicKey:i}=t;if(!i)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Xe({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((n=i.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new Xe({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((r=i.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new Xe({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((s=i.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new Xe({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Xe({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Xe({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return i.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new Xe({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Xe({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const a=window.location.hostname;if(AE(a)){if(i.rp.id!==a)return new Xe({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Xe({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new Xe({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Xe({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Xe({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function MC({error:e,options:t}){const{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Xe({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Xe({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const r=window.location.hostname;if(AE(r)){if(n.rpId!==r)return new Xe({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Xe({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Xe({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Xe({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class BC{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const FC=new BC;function UC(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:n,excludeCredentials:r}=e,s=Xi(e,["challenge","user","excludeCredentials"]),i=xi(t).buffer,a=Object.assign(Object.assign({},n),{id:xi(n.id).buffer}),l=Object.assign(Object.assign({},s),{challenge:i,user:a});if(r&&r.length>0){l.excludeCredentials=new Array(r.length);for(let u=0;u<r.length;u++){const c=r[u];l.excludeCredentials[u]=Object.assign(Object.assign({},c),{id:xi(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return l}function HC(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:n}=e,r=Xi(e,["challenge","allowCredentials"]),s=xi(t).buffer,i=Object.assign(Object.assign({},r),{challenge:s});if(n&&n.length>0){i.allowCredentials=new Array(n.length);for(let a=0;a<n.length;a++){const l=n[a];i.allowCredentials[a]=Object.assign(Object.assign({},l),{id:xi(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return i}function $C(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e;return{id:e.id,rawId:e.id,response:{attestationObject:ms(new Uint8Array(e.response.attestationObject)),clientDataJSON:ms(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function zC(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e,r=e.getClientExtensionResults(),s=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:ms(new Uint8Array(s.authenticatorData)),clientDataJSON:ms(new Uint8Array(s.clientDataJSON)),signature:ms(new Uint8Array(s.signature)),userHandle:s.userHandle?ms(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function AE(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function eg(){var e,t;return!!(vt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function WC(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Nu("Browser returned unexpected credential type",t)}:{data:null,error:new Nu("Empty credential response",t)}}catch(t){return{data:null,error:DC({error:t,options:e})}}}async function VC(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Nu("Browser returned unexpected credential type",t)}:{data:null,error:new Nu("Empty credential response",t)}}catch(t){return{data:null,error:MC({error:t,options:e})}}}const qC={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},YC={userVerification:"preferred",hints:["security-key"]};function ku(...e){const t=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),n=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),r={};for(const s of e)if(s)for(const i in s){const a=s[i];if(a!==void 0)if(Array.isArray(a))r[i]=a;else if(n(a))r[i]=a;else if(t(a)){const l=r[i];t(l)?r[i]=ku(l,a):r[i]=ku(a)}else r[i]=a}return r}function GC(e,t){return ku(qC,e,t||{})}function KC(e,t){return ku(YC,e,t||{})}class QC{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:n,friendlyName:r,signal:s},i){try{const{data:a,error:l}=await this.client.mfa.challenge({factorId:t,webauthn:n});if(!a)return{data:null,error:l};const u=s??FC.createNewAbortSignal();if(a.webauthn.type==="create"){const{user:c}=a.webauthn.credential_options.publicKey;c.name||(c.name=`${c.id}:${r}`),c.displayName||(c.displayName=c.name)}switch(a.webauthn.type){case"create":{const c=GC(a.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:h,error:f}=await WC({publicKey:c,signal:u});return h?{data:{factorId:t,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:h}},error:null}:{data:null,error:f}}case"request":{const c=KC(a.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:h,error:f}=await VC(Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:c,signal:u}));return h?{data:{factorId:t,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:h}},error:null}:{data:null,error:f}}}}catch(a){return ne(a)?{data:null,error:a}:{data:null,error:new us("Unexpected error in challenge",a)}}}async _verify({challengeId:t,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:r})}async _authenticate({factorId:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:s}},i){if(!n)return{data:null,error:new bo("rpId is required for WebAuthn authentication")};try{if(!eg())return{data:null,error:new us("Browser does not support WebAuthn",null)};const{data:a,error:l}=await this.challenge({factorId:t,webauthn:{rpId:n,rpOrigins:r},signal:s},{request:i});if(!a)return{data:null,error:l};const{webauthn:u}=a;return this._verify({factorId:t,challengeId:a.challengeId,webauthn:{type:u.type,rpId:n,rpOrigins:r,credential_response:u.credential_response}})}catch(a){return ne(a)?{data:null,error:a}:{data:null,error:new us("Unexpected error in authenticate",a)}}}async _register({friendlyName:t,rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:s},i){if(!n)return{data:null,error:new bo("rpId is required for WebAuthn registration")};try{if(!eg())return{data:null,error:new us("Browser does not support WebAuthn",null)};const{data:a,error:l}=await this._enroll({friendlyName:t});if(!a)return await this.client.mfa.listFactors().then(h=>{var f;return(f=h.data)===null||f===void 0?void 0:f.all.find(m=>m.factor_type==="webauthn"&&m.friendly_name===t&&m.status!=="unverified")}).then(h=>h?this.client.mfa.unenroll({factorId:h==null?void 0:h.id}):void 0),{data:null,error:l};const{data:u,error:c}=await this._challenge({factorId:a.id,friendlyName:a.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:s},{create:i});return u?this._verify({factorId:a.id,challengeId:u.challengeId,webauthn:{rpId:n,rpOrigins:r,type:u.webauthn.type,credential_response:u.webauthn.credential_response}}):{data:null,error:c}}catch(a){return ne(a)?{data:null,error:a}:{data:null,error:new us("Unexpected error in register",a)}}}}RC();const XC={url:Yk,storageKey:Gk,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Kk,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function tg(e,t,n){return await n()}const Ks={};class Eo{get jwks(){var t,n;return(n=(t=Ks[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){Ks[this.storageKey]=Object.assign(Object.assign({},Ks[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=Ks[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Ks[this.storageKey]=Object.assign(Object.assign({},Ks[this.storageKey]),{cachedAt:t})}constructor(t){var n,r,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},XC),t);if(this.storageKey=i.storageKey,this.instanceID=(n=Eo.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,Eo.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&vt()){const a=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(a),this.logDebugMessages&&console.trace(a)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new AC({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=NE(i.fetch),this.lock=i.lock||tg,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,i.lock?this.lock=i.lock:vt()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=OC:this.lock=tg,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new QC(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:SE()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Zm(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=Zm(this.memoryStorage)),vt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${_E}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let n={},r="none";if(vt()&&(n=uC(window.location.href),this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce")),vt()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:i}=await this._getSessionFromURL(n,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),tC(i)){const u=(t=i.details)===null||t===void 0?void 0:t.code;if(u==="identity_already_exists"||u==="identity_not_found"||u==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:a,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",a,"redirect type",l),await this._saveSession(a),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return ne(n)?this._returnResult({error:n}):this._returnResult({error:new us("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,s;try{const i=await ae(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:xn}),{data:a,error:l}=i;if(l||!a)return this._returnResult({data:{user:null,session:null},error:l});const u=a.session,c=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",u)),this._returnResult({data:{user:c,session:u},error:null})}catch(i){if(ne(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(t){var n,r,s;try{let i;if("email"in t){const{email:h,password:f,options:m}=t;let p=null,b=null;this.flowType==="pkce"&&([p,b]=await qs(this.storage,this.storageKey)),i=await ae(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:m==null?void 0:m.emailRedirectTo,body:{email:h,password:f,data:(n=m==null?void 0:m.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:p,code_challenge_method:b},xform:xn})}else if("phone"in t){const{phone:h,password:f,options:m}=t;i=await ae(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:h,password:f,data:(r=m==null?void 0:m.data)!==null&&r!==void 0?r:{},channel:(s=m==null?void 0:m.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:xn})}else throw new _l("You must provide either an email or phone number and a password");const{data:a,error:l}=i;if(l||!a)return this._returnResult({data:{user:null,session:null},error:l});const u=a.session,c=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",u)),this._returnResult({data:{user:c,session:u},error:null})}catch(i){if(ne(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(t){try{let n;if("email"in t){const{email:i,password:a,options:l}=t;n=await ae(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Xm})}else if("phone"in t){const{phone:i,password:a,options:l}=t;n=await ae(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Xm})}else throw new _l("You must provide either an email or phone number and a password");const{data:r,error:s}=n;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!r||!r.session||!r.user){const i=new Vs;return this._returnResult({data:{user:null,session:null},error:i})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(ne(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(t){var n,r,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;switch(n){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(t){var n,r,s,i,a,l,u,c,h,f,m;let p,b;if("message"in t)p=t.message,b=t.signature;else{const{chain:E,wallet:v,statement:g,options:y}=t;let x;if(vt())if(typeof v=="object")x=v;else{const U=window;if("ethereum"in U&&typeof U.ethereum=="object"&&"request"in U.ethereum&&typeof U.ethereum.request=="function")x=U.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof v!="object"||!(y!=null&&y.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");x=v}const S=new URL((n=y==null?void 0:y.url)!==null&&n!==void 0?n:window.location.href),P=await x.request({method:"eth_requestAccounts"}).then(U=>U).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!P||P.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const C=CE(P[0]);let M=(r=y==null?void 0:y.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!M){const U=await x.request({method:"eth_chainId"});M=PC(U)}const R={domain:S.host,address:C,statement:g,uri:S.href,version:"1",chainId:M,nonce:(s=y==null?void 0:y.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(a=(i=y==null?void 0:y.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&a!==void 0?a:new Date,expirationTime:(l=y==null?void 0:y.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(u=y==null?void 0:y.signInWithEthereum)===null||u===void 0?void 0:u.notBefore,requestId:(c=y==null?void 0:y.signInWithEthereum)===null||c===void 0?void 0:c.requestId,resources:(h=y==null?void 0:y.signInWithEthereum)===null||h===void 0?void 0:h.resources};p=jC(R),b=await x.request({method:"personal_sign",params:[LC(p),C]})}try{const{data:E,error:v}=await ae(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:p,signature:b},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(m=t.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:xn});if(v)throw v;if(!E||!E.session||!E.user){const g=new Vs;return this._returnResult({data:{user:null,session:null},error:g})}return E.session&&(await this._saveSession(E.session),await this._notifyAllSubscribers("SIGNED_IN",E.session)),this._returnResult({data:Object.assign({},E),error:v})}catch(E){if(ne(E))return this._returnResult({data:{user:null,session:null},error:E});throw E}}async signInWithSolana(t){var n,r,s,i,a,l,u,c,h,f,m,p;let b,E;if("message"in t)b=t.message,E=t.signature;else{const{chain:v,wallet:g,statement:y,options:x}=t;let S;if(vt())if(typeof g=="object")S=g;else{const C=window;if("solana"in C&&typeof C.solana=="object"&&("signIn"in C.solana&&typeof C.solana.signIn=="function"||"signMessage"in C.solana&&typeof C.solana.signMessage=="function"))S=C.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof g!="object"||!(x!=null&&x.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");S=g}const P=new URL((n=x==null?void 0:x.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in S&&S.signIn){const C=await S.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},x==null?void 0:x.signInWithSolana),{version:"1",domain:P.host,uri:P.href}),y?{statement:y}:null));let M;if(Array.isArray(C)&&C[0]&&typeof C[0]=="object")M=C[0];else if(C&&typeof C=="object"&&"signedMessage"in C&&"signature"in C)M=C;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in M&&"signature"in M&&(typeof M.signedMessage=="string"||M.signedMessage instanceof Uint8Array)&&M.signature instanceof Uint8Array)b=typeof M.signedMessage=="string"?M.signedMessage:new TextDecoder().decode(M.signedMessage),E=M.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in S)||typeof S.signMessage!="function"||!("publicKey"in S)||typeof S!="object"||!S.publicKey||!("toBase58"in S.publicKey)||typeof S.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");b=[`${P.host} wants you to sign in with your Solana account:`,S.publicKey.toBase58(),...y?["",y,""]:[""],"Version: 1",`URI: ${P.href}`,`Issued At: ${(s=(r=x==null?void 0:x.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=x==null?void 0:x.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${x.signInWithSolana.notBefore}`]:[],...!((a=x==null?void 0:x.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${x.signInWithSolana.expirationTime}`]:[],...!((l=x==null?void 0:x.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${x.signInWithSolana.chainId}`]:[],...!((u=x==null?void 0:x.signInWithSolana)===null||u===void 0)&&u.nonce?[`Nonce: ${x.signInWithSolana.nonce}`]:[],...!((c=x==null?void 0:x.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${x.signInWithSolana.requestId}`]:[],...!((f=(h=x==null?void 0:x.signInWithSolana)===null||h===void 0?void 0:h.resources)===null||f===void 0)&&f.length?["Resources",...x.signInWithSolana.resources.map(M=>`- ${M}`)]:[]].join(`
`);const C=await S.signMessage(new TextEncoder().encode(b),"utf8");if(!C||!(C instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");E=C}}try{const{data:v,error:g}=await ae(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:b,signature:ms(E)},!((m=t.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(p=t.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:xn});if(g)throw g;if(!v||!v.session||!v.user){const y=new Vs;return this._returnResult({data:{user:null,session:null},error:y})}return v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),this._returnResult({data:Object.assign({},v),error:g})}catch(v){if(ne(v))return this._returnResult({data:{user:null,session:null},error:v});throw v}}async _exchangeCodeForSession(t){const n=await ss(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:i,error:a}=await ae(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:xn});if(await mr(this.storage,`${this.storageKey}-code-verifier`),a)throw a;if(!i||!i.session||!i.user){const l=new Vs;return this._returnResult({data:{user:null,session:null,redirectType:null},error:l})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:a})}catch(i){if(ne(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(t){try{const{options:n,provider:r,token:s,access_token:i,nonce:a}=t,l=await ae(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:i,nonce:a,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:xn}),{data:u,error:c}=l;if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!u||!u.session||!u.user){const h=new Vs;return this._returnResult({data:{user:null,session:null},error:h})}return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),this._returnResult({data:u,error:c})}catch(n){if(ne(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(t){var n,r,s,i,a;try{if("email"in t){const{email:l,options:u}=t;let c=null,h=null;this.flowType==="pkce"&&([c,h]=await qs(this.storage,this.storageKey));const{error:f}=await ae(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(n=u==null?void 0:u.data)!==null&&n!==void 0?n:{},create_user:(r=u==null?void 0:u.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken},code_challenge:c,code_challenge_method:h},redirectTo:u==null?void 0:u.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}if("phone"in t){const{phone:l,options:u}=t,{data:c,error:h}=await ae(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=u==null?void 0:u.data)!==null&&s!==void 0?s:{},create_user:(i=u==null?void 0:u.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken},channel:(a=u==null?void 0:u.channel)!==null&&a!==void 0?a:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:h})}throw new _l("You must provide either an email or phone number.")}catch(l){if(ne(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async verifyOtp(t){var n,r;try{let s,i;"options"in t&&(s=(n=t.options)===null||n===void 0?void 0:n.redirectTo,i=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:a,error:l}=await ae(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:xn});if(l)throw l;if(!a)throw new Error("An error occurred on token verification.");const u=a.session,c=a.user;return u!=null&&u.access_token&&(await this._saveSession(u),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",u)),this._returnResult({data:{user:c,session:u},error:null})}catch(s){if(ne(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(t){var n,r,s;try{let i=null,a=null;this.flowType==="pkce"&&([i,a]=await qs(this.storage,this.storageKey));const l=await ae(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:a}),headers:this.headers,xform:NC});return this._returnResult(l)}catch(i){if(ne(i))return this._returnResult({data:null,error:i});throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new yn;const{error:s}=await ae(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(t){if(ne(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:s,options:i}=t,{error:a}=await ae(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:a})}else if("phone"in t){const{phone:r,type:s,options:i}=t,{data:a,error:l}=await ae(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:l})}throw new _l("You must provide either an email or phone number and a type")}catch(n){if(ne(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await ss(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<Zc:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const a=await ss(this.userStorage,this.storageKey+"-user");a!=null&&a.user?t.user=a.user:t.user=nd()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const a={value:this.suppressGetSessionWarning};t.user=_C(t.user,a),a.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await ae(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Sr}):await this._useSession(async n=>{var r,s,i;const{data:a,error:l}=n;if(l)throw l;return!(!((r=a.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new yn}:await ae(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=a.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Sr})})}catch(n){if(ne(n))return eC(n)&&(await this._removeSession(),await mr(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:s,error:i}=r;if(i)throw i;if(!s.session)throw new yn;const a=s.session;let l=null,u=null;this.flowType==="pkce"&&t.email!=null&&([l,u]=await qs(this.storage,this.storageKey));const{data:c,error:h}=await ae(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:u}),jwt:a.access_token,xform:Sr});if(h)throw h;return a.user=c.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),this._returnResult({data:{user:a.user},error:null})})}catch(r){if(ne(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new yn;const n=Date.now()/1e3;let r=n,s=!0,i=null;const{payload:a}=td(t.access_token);if(a.exp&&(r=a.exp,s=r<=n),s){const{data:l,error:u}=await this._callRefreshToken(t.refresh_token);if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:u}=await this._getUser(t.access_token);if(u)throw u;i={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(n){if(ne(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:a,error:l}=n;if(l)throw l;t=(r=a.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new yn;const{data:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(ne(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(t,n){try{if(!vt())throw new Tl("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Tl(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Wm("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Tl("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Wm("No code detected.");const{data:y,error:x}=await this._exchangeCodeForSession(t.code);if(x)throw x;const S=new URL(window.location.href);return S.searchParams.delete("code"),window.history.replaceState(window.history.state,"",S.toString()),{data:{session:y.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:i,refresh_token:a,expires_in:l,expires_at:u,token_type:c}=t;if(!i||!l||!a||!c)throw new Tl("No session defined in URL");const h=Math.round(Date.now()/1e3),f=parseInt(l);let m=h+f;u&&(m=parseInt(u));const p=m-h;p*1e3<=Xs&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${f}s`);const b=m-f;h-b>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",b,m,h):h-b<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",b,m,h);const{data:E,error:v}=await this._getUser(i);if(v)throw v;const g={provider_token:r,provider_refresh_token:s,access_token:i,expires_in:f,expires_at:m,refresh_token:a,token_type:c,user:E.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:g,redirectType:t.type},error:null})}catch(r){if(ne(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await ss(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return this._returnResult({error:i});const a=(r=s.session)===null||r===void 0?void 0:r.access_token;if(a){const{error:l}=await this.admin.signOut(a,t);if(l&&!(Zk(l)&&(l.status===404||l.status===401||l.status===403)))return this._returnResult({error:l})}return t!=="others"&&(await this._removeSession(),await mr(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const n=lC(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,s;try{const{data:{session:i},error:a}=n;if(a)throw a;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await qs(this.storage,this.storageKey,!0));try{return await ae(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(ne(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(n){if(ne(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var n;try{const{data:r,error:s}=await this._useSession(async i=>{var a,l,u,c,h;const{data:f,error:m}=i;if(m)throw m;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(a=t.options)===null||a===void 0?void 0:a.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(u=t.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:!0});return await ae(this.fetch,"GET",p,{headers:this.headers,jwt:(h=(c=f.session)===null||c===void 0?void 0:c.access_token)!==null&&h!==void 0?h:void 0})});if(s)throw s;return vt()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),this._returnResult({data:{provider:t.provider,url:r==null?void 0:r.url},error:null})}catch(r){if(ne(r))return this._returnResult({data:{provider:t.provider,url:null},error:r});throw r}}async linkIdentityIdToken(t){return await this._useSession(async n=>{var r;try{const{error:s,data:{session:i}}=n;if(s)throw s;const{options:a,provider:l,token:u,access_token:c,nonce:h}=t,f=await ae(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=i==null?void 0:i.access_token)!==null&&r!==void 0?r:void 0,body:{provider:l,id_token:u,access_token:c,nonce:h,link_identity:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:xn}),{data:m,error:p}=f;return p?this._returnResult({data:{user:null,session:null},error:p}):!m||!m.session||!m.user?this._returnResult({data:{user:null,session:null},error:new Vs}):(m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("USER_UPDATED",m.session)),this._returnResult({data:m,error:p}))}catch(s){if(ne(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,s;const{data:i,error:a}=n;if(a)throw a;return await ae(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(ne(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await hC(async s=>(s>0&&await dC(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await ae(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:xn})),(s,i)=>{const a=200*Math.pow(2,s);return i&&ed(i)&&Date.now()+a-r<Xs})}catch(r){if(this._debug(n,"error",r),ne(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),vt()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const s=await ss(this.storage,this.storageKey);if(s&&this.userStorage){let a=await ss(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:s.user},await Js(this.userStorage,this.storageKey+"-user",a)),s.user=(t=a==null?void 0:a.user)!==null&&t!==void 0?t:nd()}else if(s&&!s.user&&!s.user){const a=await ss(this.storage,this.storageKey+"-user");a&&(a!=null&&a.user)?(s.user=a.user,await mr(this.storage,this.storageKey+"-user"),await Js(this.storage,this.storageKey,s)):s.user=nd()}if(this._debug(r,"session from storage",s),!this._isValidSession(s)){this._debug(r,"session is not valid"),s!==null&&await this._removeSession();return}const i=((n=s.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Zc;if(this._debug(r,`session has${i?"":" not"} expired with margin of ${Zc}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:a}=await this._callRefreshToken(s.refresh_token);a&&(console.error(a),ed(a)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:l}=await this._getUser(s.access_token);!l&&(a!=null&&a.user)?(s.user=a.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(r,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(r,"error",s),console.error(s);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new yn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new ic;const{data:i,error:a}=await this._refreshAccessToken(t);if(a)throw a;if(!i.session)throw new yn;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={data:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(s,"error",i),ne(i)){const a={data:null,error:i};return ed(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(a),a}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,n,r=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const i=[],a=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,n)}catch(u){i.push(u)}});if(await Promise.all(a),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const n=Object.assign({},t),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await Js(this.userStorage,this.storageKey+"-user",{user:n.user});const s=Object.assign({},n);delete s.user;const i=Km(s);await Js(this.storage,this.storageKey,i)}else{const s=Km(n);await Js(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await mr(this.storage,this.storageKey),await mr(this.storage,this.storageKey+"-code-verifier"),await mr(this.storage,this.storageKey+"-user"),this.userStorage&&await mr(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&vt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Xs);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-t)/Xs);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Xs}ms, refresh threshold is ${Vh} ticks`),s<=Vh&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof kE)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!vt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,a]=await qs(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(a)}`});s.push(l.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);s.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?this._returnResult({data:null,error:i}):await ae(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(ne(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,s;const{data:i,error:a}=n;if(a)return this._returnResult({data:null,error:a});const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:u,error:c}=await ae(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return c?this._returnResult({data:null,error:c}):(t.factorType==="totp"&&u.type==="totp"&&(!((s=u==null?void 0:u.totp)===null||s===void 0)&&s.qr_code)&&(u.totp.qr_code=`data:image/svg+xml;utf-8,${u.totp.qr_code}`),this._returnResult({data:u,error:null}))})}catch(n){if(ne(n))return this._returnResult({data:null,error:n});throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return this._returnResult({data:null,error:i});const a=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?$C(t.webauthn.credential_response):zC(t.webauthn.credential_response)})}:{code:t.code}),{data:l,error:u}=await ae(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:a,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return u?this._returnResult({data:null,error:u}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),this._returnResult({data:l,error:u}))})}catch(n){if(ne(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return this._returnResult({data:null,error:i});const a=await ae(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});if(a.error)return a;const{data:l}=a;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:UC(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:HC(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(ne(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){var t;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const s={all:[],phone:[],totp:[],webauthn:[]};for(const i of(t=n==null?void 0:n.factors)!==null&&t!==void 0?t:[])s.all.push(i),i.status==="verified"&&s[i.factor_type].push(i);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){var t,n;const{data:{session:r},error:s}=await this.getSession();if(s)return this._returnResult({data:null,error:s});if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=td(r.access_token);let a=null;i.aal&&(a=i.aal);let l=a;((n=(t=r.user.factors)===null||t===void 0?void 0:t.filter(h=>h.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(l="aal2");const c=i.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:c},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async n=>{const{data:{session:r},error:s}=n;return s?this._returnResult({data:null,error:s}):r?await ae(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:r.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new yn})})}catch(n){if(ne(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(t,n){try{return await this._useSession(async r=>{const{data:{session:s},error:i}=r;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new yn});const a=await ae(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:l=>({data:l,error:null})});return a.data&&a.data.redirect_url&&vt()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(r){if(ne(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(t,n){try{return await this._useSession(async r=>{const{data:{session:s},error:i}=r;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new yn});const a=await ae(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:l=>({data:l,error:null})});return a.data&&a.data.redirect_url&&vt()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(r){if(ne(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(l=>l.kid===t);if(r)return r;const s=Date.now();if(r=this.jwks.keys.find(l=>l.kid===t),r&&this.jwks_cached_at+Xk>s)return r;const{data:i,error:a}=await ae(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,r=i.keys.find(l=>l.kid===t),!r)?null:r}async getClaims(t,n={}){try{let r=t;if(!r){const{data:p,error:b}=await this.getSession();if(b||!p.session)return this._returnResult({data:null,error:b});r=p.session.access_token}const{header:s,payload:i,signature:a,raw:{header:l,payload:u}}=td(r);n!=null&&n.allowExpired||bC(i.exp);const c=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!c){const{error:p}=await this.getUser(r);if(p)throw p;return{data:{claims:i,header:s,signature:a},error:null}}const h=EC(s.alg),f=await crypto.subtle.importKey("jwk",c,h,!0,["verify"]);if(!await crypto.subtle.verify(h,f,a,aC(`${l}.${u}`)))throw new Gh("Invalid JWT signature");return{data:{claims:i,header:s,signature:a},error:null}}catch(r){if(ne(r))return this._returnResult({data:null,error:r});throw r}}}Eo.nextInstanceID={};const JC=Eo;class ZC extends JC{constructor(t){super(t)}}class e3{constructor(t,n,r){var s,i,a;this.supabaseUrl=t,this.supabaseKey=n;const l=qk(t);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const u=`sb-${l.hostname.split(".")[0]}-auth-token`,c={db:Bk,realtime:Uk,auth:Object.assign(Object.assign({},Fk),{storageKey:u}),global:Mk},h=Vk(r??{},c);this.storageKey=(s=h.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=h.global.headers)!==null&&i!==void 0?i:{},h.accessToken?(this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(f,m)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(m)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((a=h.auth)!==null&&a!==void 0?a:{},this.headers,h.global.fetch),this.fetch=zk(n,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.rest=new YN(new URL("rest/v1",l).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),this.storage=new Lk(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),h.accessToken||this._listenForAuthEvents()}get functions(){return new WN(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t,n;if(this.accessToken)return await this.accessToken();const{data:r}=await this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,userStorage:i,storageKey:a,flowType:l,lock:u,debug:c,throwOnError:h},f,m){const p={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new ZC({url:this.authUrl.href,headers:Object.assign(Object.assign({},p),f),storageKey:a,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,userStorage:i,flowType:l,lock:u,debug:c,throwOnError:h,fetch:m,hasCustomAuthorizationHeader:Object.keys(this.headers).some(b=>b.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new ck(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const t3=(e,t,n)=>new e3(e,t,n);function n3(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}n3()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const r3="https://qgbvlymwsfxuysnzozfe.supabase.co",s3="sb_publishable_qoVBsXLQoR1Rr8p9AawmSg_vEw2dZCu",Ca=t3(r3,s3,{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0,storage:window.localStorage,flowType:"pkce"}}),Bs=Nb((e,t)=>({user:null,session:null,loading:!0,initialized:!1,initialize:async()=>{try{const{data:{session:n},error:r}=await Ca.auth.getSession();if(r)throw r;e({session:n,user:(n==null?void 0:n.user)??null,loading:!1,initialized:!0}),Ca.auth.onAuthStateChange((s,i)=>{e({session:i,user:(i==null?void 0:i.user)??null,loading:!1})})}catch(n){console.error("Error initializing auth:",n),e({loading:!1,initialized:!0})}},signInWithGoogle:async()=>{try{e({loading:!0});const{error:n}=await Ca.auth.signInWithOAuth({provider:"google",options:{redirectTo:`${window.location.origin}/dashboard`,queryParams:{access_type:"offline",prompt:"consent"}}});if(n)throw n}catch(n){throw console.error("Error signing in with Google:",n),e({loading:!1}),n}},signOut:async()=>{try{e({loading:!0});const{error:n}=await Ca.auth.signOut();if(n)throw n;e({user:null,session:null,loading:!1})}catch(n){throw console.error("Error signing out:",n),e({loading:!1}),n}}}));function i3({children:e}){const{initialize:t,initialized:n}=Bs();return A.useEffect(()=>{n||t()},[t,n]),o.jsx(o.Fragment,{children:e})}function ga({children:e}){const{user:t,loading:n}=Bs(),r=Ms();return n?o.jsx("div",{className:"min-h-screen flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-brand-600 mx-auto"}),o.jsx("p",{className:"mt-4 text-slate-600",children:"Loading..."})]})}):t?o.jsx(o.Fragment,{children:e}):o.jsx(uS,{to:"/login",state:{from:r},replace:!0})}const sd="http://13.212.167.212:8080/api";async function a3(){const{data:{session:e}}=await Ca.auth.getSession();return e!=null&&e.access_token?{Authorization:`Bearer ${e.access_token}`}:{}}function o3(e,t){const n=new URL(e,"http://ep-aware.local");return t&&Object.entries(t).forEach(([s,i])=>{i!==void 0&&i!==""&&n.searchParams.set(s,String(i))}),`${sd.endsWith("/")?sd.slice(0,-1):sd}${n.pathname}${n.search}`}async function ke(e,t={}){const{query:n,headers:r,body:s,...i}=t,a=o3(e,n),l=await a3(),u=new Headers(r);Object.entries(l).forEach(([f,m])=>{u.set(f,m)}),s&&!(s instanceof FormData)&&u.set("Content-Type","application/json");const c=await fetch(a,{...i,headers:u,body:(s instanceof FormData,s)});if(!c.ok){let f="Request failed";try{const m=await c.json();f=m.message??m.error??f}catch{const p=await c.text().catch(()=>"");p?f=p:f=`HTTP ${c.status}: ${c.statusText}`}throw new Error(f)}const h=c.headers.get("content-type");if(!h||!h.includes("application/json")){if(!await c.text())return{};throw new Error(`Expected JSON response but got: ${h}`)}try{return await c.json()}catch(f){throw new Error(`Failed to parse JSON response: ${f instanceof Error?f.message:"Unknown error"}`)}}function l3(e){return ke("/jobs",{method:"GET",query:e})}function u3(){return ke("/jobs/meta/filters",{method:"GET"})}function c3(e){return ke(`/jobs/${e}`,{method:"GET"})}function d3(){return ke("/profile",{method:"GET"})}function h3(e){return ke("/profile",{method:"PUT",body:JSON.stringify(e)})}function f3(e,t=!1){return ke(`/jobs/${e}/analyze`,{method:"POST",body:JSON.stringify({regenerate:t})})}function p3(e){return ke("/applications",{method:"POST",body:JSON.stringify(e)})}function m3(e){return ke("/hr/search",{method:"POST",body:JSON.stringify(e)})}function g3(e){return ke(`/hr/cache?company_domain=${encodeURIComponent(e)}`,{method:"GET"})}function ng(e){return ke("/hr/outreach/generate",{method:"POST",body:JSON.stringify(e)})}function y3(){return ke("/applications",{method:"GET"})}function Cu(){return ke("/knowledge-sources",{method:"GET"})}function rg(){return ke("/knowledge-sources/aggregate",{method:"GET"})}function x3(e){const t=new FormData;return t.append("file",e),ke("/knowledge-sources/upload",{method:"POST",body:t})}function b3(e){const t=new FormData;return t.append("file",e),ke("/knowledge-sources/upload-project",{method:"POST",body:t})}function E3(e){return ke("/knowledge-sources/linkedin",{method:"POST",body:JSON.stringify({url:e})})}function v3(e){return ke("/knowledge-sources/github",{method:"POST",body:JSON.stringify({url:e})})}function _3(e){return ke("/knowledge-sources/website",{method:"POST",body:JSON.stringify({url:e})})}function T3(e){return ke("/knowledge-sources/text",{method:"POST",body:JSON.stringify({content:e})})}function sg(e){return ke(`/knowledge-sources/${e}`,{method:"DELETE"})}function N0(){return ke("/preferences",{method:"GET"})}function w3(){return ke("/preferences/predict",{method:"POST"})}function S3(e){return ke("/preferences",{method:"PUT",body:JSON.stringify(e)})}function N3(e,t){return ke(`/generate/resume/${e}`,{method:"POST",body:JSON.stringify(t||{})})}function k3(e,t){return ke(`/generate/cover-letter/${e}`,{method:"POST",body:JSON.stringify(t||{})})}function ig(e){return ke(`/generate/${e}/materials`,{method:"GET"})}function C3(e,t){return ke(`/generate/${e}`,{method:"PATCH",body:JSON.stringify({content:t})})}function A3(){const{user:e}=Bs(),t=Zr(),[n,r]=A.useState(!1);A.useEffect(()=>{e&&s()},[e]);const s=async()=>{r(!0);try{const{sources:i}=await Cu();i.length===0?t("/knowledge-base"):t("/dashboard")}catch(i){console.error("Error checking profile:",i),t("/knowledge-base")}finally{r(!1)}};return e&&n?o.jsx("div",{className:"flex min-h-screen items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"mb-4 h-12 w-12 animate-spin rounded-full border-4 border-blue-600 border-t-transparent mx-auto"}),o.jsx("p",{className:"text-gray-600",children:"Loading your profile..."})]})}):o.jsxs("section",{className:"mx-auto flex max-w-6xl flex-col gap-10 px-6 py-16 md:flex-row md:items-center",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-sm font-semibold uppercase tracking-wide text-brand-600",children:"Your personal Chief Talent Officer"}),o.jsx("h1",{className:"mt-4 text-4xl font-bold text-slate-900 sm:text-5xl",children:"Context-aware AI that knows you deeply"}),o.jsx("p",{className:"mt-6 max-w-xl text-lg text-slate-600",children:"Add your knowledge sourcesresume, LinkedIn, GitHub, and moreand let our AI deeply understand your unique background to find perfectly tailored jobs and craft personalized resumes, cover letters, and HR outreach."}),o.jsx("div",{className:"mt-8 flex flex-wrap gap-4",children:e?o.jsxs(o.Fragment,{children:[o.jsx(st,{to:"/dashboard",className:"rounded-lg bg-brand-600 px-6 py-3 text-sm font-semibold text-white shadow-sm transition-colors hover:bg-brand-700 hover:text-white z-10",children:"Go to Dashboard"}),o.jsx(st,{to:"/jobs",className:"rounded-lg border border-slate-300 px-6 py-3 text-sm font-semibold text-slate-700 transition-colors hover:border-brand-300 hover:text-brand-600",children:"Browse Jobs"})]}):o.jsxs(o.Fragment,{children:[o.jsx(st,{to:"/login",className:"rounded-lg bg-brand-600 px-6 py-3 text-sm font-semibold text-white shadow-sm transition-colors hover:bg-brand-700 hover:text-white z-10",children:"Get Started"}),o.jsx(st,{to:"/login",className:"rounded-lg border border-slate-300 px-6 py-3 text-sm font-semibold text-slate-700 transition-colors hover:border-brand-300 hover:text-brand-600",children:"Sign In"})]})})]}),o.jsxs("div",{className:"flex-1 rounded-3xl border border-brand-100 bg-brand-50 p-8 shadow-inner",children:[o.jsx("p",{className:"text-sm font-semibold text-brand-700",children:"Platform Highlights"}),o.jsxs("ul",{className:"mt-4 space-y-4 text-sm text-brand-900",children:[o.jsx("li",{children:"- AI-powered job matching based on your complete professional profile"}),o.jsx("li",{children:"- Generate tailored resumes and cover letters for each application"}),o.jsx("li",{children:"- Direct HR contact search to increase your success rate"})]}),o.jsx("p",{className:"mt-6 text-xs uppercase tracking-wide text-brand-600",children:"Your Personal Chief Talent Officer"})]})]})}function I3(){const e=Zr(),{user:t,signInWithGoogle:n,loading:r}=Bs();A.useEffect(()=>{t&&e("/knowledge-base")},[t,e]);const s=async()=>{try{await n()}catch(i){console.error("Login failed:",i),alert("Failed to sign in with Google. Please try again.")}};return o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50",children:o.jsxs("div",{className:"max-w-md w-full space-y-8 p-8 bg-white rounded-lg shadow-lg",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("h1",{className:"text-3xl font-bold text-brand-600",children:"CTO"}),o.jsx("p",{className:"mt-2 text-sm text-slate-600",children:"Your Personal Chief Talent Officer"}),o.jsx("p",{className:"mt-3 text-xs text-slate-500",children:"Sign in to access context-aware job matching and personalized career materials"})]}),o.jsx("div",{className:"mt-8",children:o.jsxs("button",{onClick:s,disabled:r,className:"w-full flex items-center justify-center gap-3 px-4 py-3 border border-slate-300 rounded-lg shadow-sm bg-white hover:bg-slate-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-brand-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[o.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[o.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),o.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),o.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),o.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),o.jsx("span",{className:"text-sm font-medium text-slate-700",children:r?"Signing in...":"Continue with Google"})]})}),o.jsx("div",{className:"mt-6 text-center text-xs text-slate-500",children:o.jsxs("p",{children:["By signing in, you agree to our"," ",o.jsx(st,{to:"/terms",className:"text-brand-600 hover:text-brand-700 underline",children:"Terms of Service"})," ","and"," ",o.jsx(st,{to:"/privacy",className:"text-brand-600 hover:text-brand-700 underline",children:"Privacy Policy"})]})})]})})}function O3(){return o.jsx("div",{className:"min-h-screen bg-slate-50 py-12",children:o.jsx("div",{className:"mx-auto max-w-4xl px-6",children:o.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-8",children:[o.jsx(st,{to:"/login",className:"text-sm text-brand-600 hover:text-brand-700 mb-6 inline-block",children:" Back to Login"}),o.jsx("h1",{className:"text-3xl font-bold text-slate-900 mb-2",children:"Terms of Service"}),o.jsx("p",{className:"text-sm text-slate-500 mb-8",children:"Last updated: November 9, 2025"}),o.jsxs("div",{className:"prose prose-slate max-w-none",children:[o.jsxs("section",{className:"mb-8",children:[o.jsx("h2",{className:"text-xl font-semibold text-slate-900 mb-3",children:"1. Acceptance of Terms"}),o.jsx("p",{className:"text-slate-600 mb-4",children:"By accessing and using CTO (Chief Talent Officer), you accept and agree to be bound by the terms and provision of this agreement. If you do not agree to these terms, please do not use our service."})]}),o.jsxs("section",{className:"mb-8",children:[o.jsx("h2",{className:"text-xl font-semibold text-slate-900 mb-3",children:"2. Description of Service"}),o.jsx("p",{className:"text-slate-600 mb-4",children:"CTO is an AI-powered job matching platform that helps users find relevant job opportunities and create personalized application materials. Our service includes:"}),o.jsxs("ul",{className:"list-disc pl-6 text-slate-600 space-y-2 mb-4",children:[o.jsx("li",{children:"Job recommendations based on your profile and preferences"}),o.jsx("li",{children:"AI-generated resumes and cover letters"}),o.jsx("li",{children:"HR outreach message generation"}),o.jsx("li",{children:"Knowledge base management for your professional information"})]})]}),o.jsxs("section",{className:"mb-8",children:[o.jsx("h2",{className:"text-xl font-semibold text-slate-900 mb-3",children:"3. User Accounts"}),o.jsx("p",{className:"text-slate-600 mb-4",children:"You are responsible for maintaining the confidentiality of your account credentials. You agree to accept responsibility for all activities that occur under your account. You must notify us immediately of any unauthorized use of your account."})]}),o.jsxs("section",{className:"mb-8",children:[o.jsx("h2",{className:"text-xl font-semibold text-slate-900 mb-3",children:"4. User Content"}),o.jsx("p",{className:"text-slate-600 mb-4",children:"You retain ownership of all content you upload to CTO, including resumes, project information, and other professional materials. By uploading content, you grant us a license to use, store, and process this content solely for the purpose of providing our services to you."})]}),o.jsxs("section",{className:"mb-8",children:[o.jsx("h2",{className:"text-xl font-semibold text-slate-900 mb-3",children:"5. AI-Generated Content"}),o.jsx("p",{className:"text-slate-600 mb-4",children:"Our service uses artificial intelligence to generate resumes, cover letters, and other materials. While we strive for accuracy and quality, you are responsible for reviewing and verifying all AI-generated content before use. We make no guarantees regarding the success of job applications made using our service."})]}),o.jsxs("section",{className:"mb-8",children:[o.jsx("h2",{className:"text-xl font-semibold text-slate-900 mb-3",children:"6. Acceptable Use"}),o.jsx("p",{className:"text-slate-600 mb-4",children:"You agree not to:"}),o.jsxs("ul",{className:"list-disc pl-6 text-slate-600 space-y-2 mb-4",children:[o.jsx("li",{children:"Use the service for any illegal purpose"}),o.jsx("li",{children:"Upload false or misleading information"}),o.jsx("li",{children:"Attempt to gain unauthorized access to our systems"}),o.jsx("li",{children:"Use automated systems to access the service in ways that send more requests than a human could reasonably produce"}),o.jsx("li",{children:"Interfere with or disrupt the service or servers"})]})]}),o.jsxs("section",{className:"mb-8",children:[o.jsx("h2",{className:"text-xl font-semibold text-slate-900 mb-3",children:"7. Termination"}),o.jsx("p",{className:"text-slate-600 mb-4",children:"We reserve the right to terminate or suspend your account at any time, with or without notice, for conduct that we believe violates these Terms of Service or is harmful to other users, us, or third parties, or for any other reason."})]}),o.jsxs("section",{className:"mb-8",children:[o.jsx("h2",{className:"text-xl font-semibold text-slate-900 mb-3",children:"8. Disclaimer of Warranties"}),o.jsx("p",{className:"text-slate-600 mb-4",children:'The service is provided "as is" without warranties of any kind, either express or implied. We do not guarantee that the service will be uninterrupted, secure, or error-free.'})]}),o.jsxs("section",{className:"mb-8",children:[o.jsx("h2",{className:"text-xl font-semibold text-slate-900 mb-3",children:"9. Limitation of Liability"}),o.jsx("p",{className:"text-slate-600 mb-4",children:"To the maximum extent permitted by law, CTO shall not be liable for any indirect, incidental, special, consequential, or punitive damages resulting from your use of or inability to use the service."})]}),o.jsxs("section",{className:"mb-8",children:[o.jsx("h2",{className:"text-xl font-semibold text-slate-900 mb-3",children:"10. Changes to Terms"}),o.jsx("p",{className:"text-slate-600 mb-4",children:"We reserve the right to modify these terms at any time. We will notify users of any material changes. Your continued use of the service after such modifications constitutes your acceptance of the updated terms."})]}),o.jsxs("section",{className:"mb-8",children:[o.jsx("h2",{className:"text-xl font-semibold text-slate-900 mb-3",children:"11. Contact Information"}),o.jsx("p",{className:"text-slate-600 mb-4",children:"If you have any questions about these Terms of Service, please contact us through the platform."})]})]})]})})})}function R3(){return o.jsx("div",{className:"min-h-screen bg-slate-50 py-12",children:o.jsx("div",{className:"mx-auto max-w-4xl px-6",children:o.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-8",children:[o.jsx(st,{to:"/login",className:"text-sm text-brand-600 hover:text-brand-700 mb-6 inline-block",children:" Back to Login"}),o.jsx("h1",{className:"text-3xl font-bold text-slate-900 mb-2",children:"Privacy Policy"}),o.jsx("p",{className:"text-sm text-slate-500 mb-8",children:"Last updated: November 9, 2025"}),o.jsxs("div",{className:"prose prose-slate max-w-none",children:[o.jsxs("section",{className:"mb-8",children:[o.jsx("h2",{className:"text-xl font-semibold text-slate-900 mb-3",children:"1. Introduction"}),o.jsx("p",{className:"text-slate-600 mb-4",children:'CTO ("we," "our," or "us") is committed to protecting your privacy. This Privacy Policy explains how we collect, use, disclose, and safeguard your information when you use our service.'})]}),o.jsxs("section",{className:"mb-8",children:[o.jsx("h2",{className:"text-xl font-semibold text-slate-900 mb-3",children:"2. Information We Collect"}),o.jsx("h3",{className:"text-lg font-semibold text-slate-800 mb-2 mt-4",children:"2.1 Information You Provide"}),o.jsx("p",{className:"text-slate-600 mb-4",children:"We collect information that you voluntarily provide to us, including:"}),o.jsxs("ul",{className:"list-disc pl-6 text-slate-600 space-y-2 mb-4",children:[o.jsx("li",{children:"Account information (name, email address from Google authentication)"}),o.jsx("li",{children:"Professional information (resumes, work experience, education, skills)"}),o.jsx("li",{children:"Project information and portfolio links"}),o.jsx("li",{children:"LinkedIn, GitHub, and other professional profile URLs"}),o.jsx("li",{children:"Job preferences and interests"})]}),o.jsx("h3",{className:"text-lg font-semibold text-slate-800 mb-2 mt-4",children:"2.2 Automatically Collected Information"}),o.jsx("p",{className:"text-slate-600 mb-4",children:"When you use our service, we may automatically collect:"}),o.jsxs("ul",{className:"list-disc pl-6 text-slate-600 space-y-2 mb-4",children:[o.jsx("li",{children:"Usage data (pages visited, features used, time spent)"}),o.jsx("li",{children:"Device information (browser type, operating system)"}),o.jsx("li",{children:"Log data (IP address, access times, errors)"})]})]}),o.jsxs("section",{className:"mb-8",children:[o.jsx("h2",{className:"text-xl font-semibold text-slate-900 mb-3",children:"3. How We Use Your Information"}),o.jsx("p",{className:"text-slate-600 mb-4",children:"We use the information we collect to:"}),o.jsxs("ul",{className:"list-disc pl-6 text-slate-600 space-y-2 mb-4",children:[o.jsx("li",{children:"Provide and maintain our job matching service"}),o.jsx("li",{children:"Generate personalized resumes, cover letters, and outreach messages"}),o.jsx("li",{children:"Match you with relevant job opportunities"}),o.jsx("li",{children:"Improve and optimize our AI algorithms"}),o.jsx("li",{children:"Communicate with you about your account and our services"}),o.jsx("li",{children:"Analyze usage patterns to enhance user experience"}),o.jsx("li",{children:"Detect and prevent fraud or abuse"})]})]}),o.jsxs("section",{className:"mb-8",children:[o.jsx("h2",{className:"text-xl font-semibold text-slate-900 mb-3",children:"4. AI Processing"}),o.jsx("p",{className:"text-slate-600 mb-4",children:"We use artificial intelligence and large language models to process your information. Your data may be sent to third-party AI providers (such as OpenAI) to generate personalized content. These providers are bound by their own privacy policies and data processing agreements."})]}),o.jsxs("section",{className:"mb-8",children:[o.jsx("h2",{className:"text-xl font-semibold text-slate-900 mb-3",children:"5. Information Sharing"}),o.jsx("p",{className:"text-slate-600 mb-4",children:"We do not sell your personal information. We may share your information in the following circumstances:"}),o.jsxs("ul",{className:"list-disc pl-6 text-slate-600 space-y-2 mb-4",children:[o.jsxs("li",{children:[o.jsx("strong",{children:"With your consent:"})," When you explicitly choose to share information (e.g., applying to jobs)"]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Service providers:"})," With third-party vendors who perform services on our behalf (AI providers, hosting services)"]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Legal requirements:"})," When required by law or to protect our rights"]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Business transfers:"})," In connection with a merger, acquisition, or sale of assets"]})]})]}),o.jsxs("section",{className:"mb-8",children:[o.jsx("h2",{className:"text-xl font-semibold text-slate-900 mb-3",children:"6. Data Security"}),o.jsx("p",{className:"text-slate-600 mb-4",children:"We implement appropriate technical and organizational security measures to protect your information. However, no method of transmission over the Internet or electronic storage is 100% secure. While we strive to protect your data, we cannot guarantee absolute security."})]}),o.jsxs("section",{className:"mb-8",children:[o.jsx("h2",{className:"text-xl font-semibold text-slate-900 mb-3",children:"7. Data Retention"}),o.jsx("p",{className:"text-slate-600 mb-4",children:"We retain your information for as long as your account is active or as needed to provide you services. You can request deletion of your account and associated data at any time."})]}),o.jsxs("section",{className:"mb-8",children:[o.jsx("h2",{className:"text-xl font-semibold text-slate-900 mb-3",children:"8. Your Rights"}),o.jsx("p",{className:"text-slate-600 mb-4",children:"Depending on your location, you may have the following rights:"}),o.jsxs("ul",{className:"list-disc pl-6 text-slate-600 space-y-2 mb-4",children:[o.jsx("li",{children:"Access your personal information"}),o.jsx("li",{children:"Correct inaccurate or incomplete information"}),o.jsx("li",{children:"Delete your information"}),o.jsx("li",{children:"Object to or restrict processing of your information"}),o.jsx("li",{children:"Data portability"}),o.jsx("li",{children:"Withdraw consent"})]}),o.jsx("p",{className:"text-slate-600 mb-4",children:"To exercise these rights, please contact us through the platform."})]}),o.jsxs("section",{className:"mb-8",children:[o.jsx("h2",{className:"text-xl font-semibold text-slate-900 mb-3",children:"9. Cookies and Tracking"}),o.jsx("p",{className:"text-slate-600 mb-4",children:"We use cookies and similar tracking technologies to maintain your session and improve your experience. You can control cookies through your browser settings, but this may limit some functionality."})]}),o.jsxs("section",{className:"mb-8",children:[o.jsx("h2",{className:"text-xl font-semibold text-slate-900 mb-3",children:"10. Third-Party Links"}),o.jsx("p",{className:"text-slate-600 mb-4",children:"Our service may contain links to third-party websites (job boards, company websites). We are not responsible for the privacy practices of these external sites. We encourage you to review their privacy policies."})]}),o.jsxs("section",{className:"mb-8",children:[o.jsx("h2",{className:"text-xl font-semibold text-slate-900 mb-3",children:"11. Children's Privacy"}),o.jsx("p",{className:"text-slate-600 mb-4",children:"Our service is not intended for users under the age of 18. We do not knowingly collect information from children."})]}),o.jsxs("section",{className:"mb-8",children:[o.jsx("h2",{className:"text-xl font-semibold text-slate-900 mb-3",children:"12. Changes to This Policy"}),o.jsx("p",{className:"text-slate-600 mb-4",children:'We may update this Privacy Policy from time to time. We will notify you of any material changes by posting the new policy on this page and updating the "Last updated" date.'})]}),o.jsxs("section",{className:"mb-8",children:[o.jsx("h2",{className:"text-xl font-semibold text-slate-900 mb-3",children:"13. Contact Us"}),o.jsx("p",{className:"text-slate-600 mb-4",children:"If you have questions or concerns about this Privacy Policy or our data practices, please contact us through the platform."})]})]})]})})})}/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P3=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),L3=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase()),ag=e=>{const t=L3(e);return t.charAt(0).toUpperCase()+t.slice(1)},IE=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim(),j3=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var D3={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M3=A.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:a,...l},u)=>A.createElement("svg",{ref:u,...D3,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:IE("lucide",s),...!i&&!j3(l)&&{"aria-hidden":"true"},...l},[...a.map(([c,h])=>A.createElement(c,h)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Me=(e,t)=>{const n=A.forwardRef(({className:r,...s},i)=>A.createElement(M3,{ref:i,iconNode:t,className:IE(`lucide-${P3(ag(e))}`,`lucide-${e}`,r),...s}));return n.displayName=ag(e),n};/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B3=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],OE=Me("award",B3);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F3=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],k0=Me("briefcase",F3);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U3=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],H3=Me("building-2",U3);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $3=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],z3=Me("chevron-down",$3);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W3=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],V3=Me("chevron-up",W3);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q3=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],RE=Me("circle-check-big",q3);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y3=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],G3=Me("circle-check",Y3);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K3=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Q3=Me("circle-x",K3);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X3=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],C0=Me("clock",X3);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J3=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Z3=Me("dollar-sign",J3);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eA=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],tA=Me("download",eA);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nA=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],nr=Me("file-text",nA);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rA=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],sA=Me("folder-open",rA);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iA=[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]],og=Me("github",iA);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aA=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],oA=Me("globe",aA);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lA=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],PE=Me("graduation-cap",lA);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uA=[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]],cA=Me("linkedin",uA);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dA=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],hA=Me("map-pin",dA);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fA=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],pA=Me("plus",fA);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mA=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Kh=Me("refresh-cw",mA);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gA=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],Au=Me("sparkles",gA);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yA=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],xA=Me("trash-2",yA);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bA=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],EA=Me("trending-up",bA);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vA=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],LE=Me("user",vA);function _A({steps:e,isActive:t,onComplete:n,onSkip:r}){const[s,i]=A.useState(0),[a,l]=A.useState({top:0,left:0});if(A.useEffect(()=>{if(!t||s>=e.length)return;const p=()=>{const b=e[s],E=document.querySelector(b.target);if(!E)return;const v=E.getBoundingClientRect();let g=0,y=0;switch(b.position){case"bottom":g=v.bottom+window.scrollY+20,y=v.left+window.scrollX+v.width/2;break;case"top":g=v.top+window.scrollY-20,y=v.left+window.scrollX+v.width/2;break;case"right":g=v.top+window.scrollY+v.height/2,y=v.right+window.scrollX+20;break;case"left":g=v.top+window.scrollY+v.height/2,y=v.left+window.scrollX-20;break}l({top:g,left:y}),E.classList.add("tour-highlight")};return p(),window.addEventListener("resize",p),window.addEventListener("scroll",p),()=>{window.removeEventListener("resize",p),window.removeEventListener("scroll",p),document.querySelectorAll(".tour-highlight").forEach(b=>{b.classList.remove("tour-highlight")})}},[s,e,t]),!t||s>=e.length)return null;const u=e[s],c=s===e.length-1,h=()=>{c?n():i(s+1)},f=()=>{s>0&&i(s-1)},m=()=>{const p={position:"absolute",zIndex:9999};switch(u.position){case"bottom":return{...p,top:`${a.top}px`,left:`${a.left}px`,transform:"translateX(-50%)"};case"top":return{...p,top:`${a.top}px`,left:`${a.left}px`,transform:"translate(-50%, -100%)"};case"right":return{...p,top:`${a.top}px`,left:`${a.left}px`,transform:"translateY(-50%)"};case"left":return{...p,top:`${a.top}px`,left:`${a.left}px`,transform:"translate(-100%, -50%)"}}};return o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"fixed inset-0 bg-black/50 z-[9998]",onClick:r}),o.jsxs("div",{style:m(),className:"bg-white rounded-xl shadow-2xl border border-slate-200 p-6 max-w-sm w-full animate-in fade-in zoom-in duration-200",children:[o.jsxs("div",{className:"flex items-start justify-between mb-3",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:u.title}),o.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:["Step ",s+1," of ",e.length]})]}),o.jsx("button",{onClick:r,className:"text-slate-400 hover:text-slate-600 transition-colors",title:"Skip tour",children:o.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),o.jsx("p",{className:"text-sm text-slate-600 mb-6 leading-relaxed",children:u.content}),o.jsxs("div",{className:"flex items-center justify-between gap-3",children:[o.jsx("button",{onClick:r,className:"text-sm text-slate-500 hover:text-slate-700 font-medium transition-colors",children:"Skip tour"}),o.jsxs("div",{className:"flex gap-2",children:[s>0&&o.jsx("button",{onClick:f,className:"px-4 py-2 text-sm font-medium text-slate-700 border border-slate-300 rounded-lg hover:bg-slate-50 transition-colors",children:"Previous"}),o.jsx("button",{onClick:h,className:"px-4 py-2 text-sm font-medium text-white bg-brand-600 rounded-lg hover:bg-brand-700 transition-colors",children:c?"Got it!":"Next"})]})]}),o.jsx("div",{className:`absolute w-0 h-0 ${u.position==="bottom"?"border-l-8 border-l-transparent border-r-8 border-r-transparent border-b-8 border-b-white -top-2 left-1/2 -translate-x-1/2":u.position==="top"?"border-l-8 border-l-transparent border-r-8 border-r-transparent border-t-8 border-t-white -bottom-2 left-1/2 -translate-x-1/2":u.position==="right"?"border-t-8 border-t-transparent border-b-8 border-b-transparent border-r-8 border-r-white -left-2 top-1/2 -translate-y-1/2":"border-t-8 border-t-transparent border-b-8 border-b-transparent border-l-8 border-l-white -right-2 top-1/2 -translate-y-1/2"}`})]}),o.jsx("style",{children:`
        .tour-highlight {
          position: relative;
          z-index: 9999;
          box-shadow: 0 0 0 4px rgba(59, 130, 246, 0.6), 0 0 20px 8px rgba(59, 130, 246, 0.3) !important;
          border-radius: 8px;
          background-color: white;
        }
      `})]})}const lg={name:""},pt=Nb()((e,t)=>({basicInfo:lg,applications:[],education:[],experiences:[],isLoading:!1,error:null,hasCompletedOnboarding:!1,setBasicInfo:n=>e(r=>({basicInfo:{...r.basicInfo,...n}})),setProfile:n=>e(()=>({profile:{...n,skills:n.skills??[]}})),mergeProfile:n=>e(r=>{var i;const s=[...new Set([...((i=r.profile)==null?void 0:i.skills)??[],...n.skills??[]])];return{profile:{...r.profile,...n,skills:s}}}),parsedProfile:void 0,setParsedProfile:n=>e({parsedProfile:n}),addApplication:n=>e(r=>({applications:[n,...r.applications]})),setApplications:n=>e({applications:n}),resetApplications:()=>e({applications:[]}),setEducation:n=>e({education:n}),setExperiences:n=>e({experiences:n}),loadProfileFromDB:async()=>{if(!t().isLoading){e({isLoading:!0,error:null});try{const n=await d3();e(n?{profile:{id:n.id,name:n.name,gender:n.gender,nationality:n.nationality,educationLevel:n.educationLevel,educationInstitution:n.educationInstitution,certifications:n.certifications,yearsExperience:n.yearsExperience,skills:n.skills||[],expectedSalarySGD:n.expectedSalarySGD,plan:n.plan||"freemium",latestCompassScore:n.latestCompassScore||null},basicInfo:{name:n.name||"",gender:n.gender,nationality:n.nationality},isLoading:!1}:{isLoading:!1})}catch(n){e({error:n instanceof Error?n.message:"Failed to load profile",isLoading:!1})}}},saveProfileToDB:async()=>{const{profile:n}=t();if(!n){e({error:"No profile to save"});return}e({isLoading:!0,error:null});try{const r=await h3({name:n.name,gender:n.gender,nationality:n.nationality,educationLevel:n.educationLevel,educationInstitution:n.educationInstitution,certifications:n.certifications,yearsExperience:n.yearsExperience,skills:n.skills,expectedSalarySGD:n.expectedSalarySGD,plan:n.plan});e({profile:{...n,id:r.id,...r},isLoading:!1})}catch(r){e({error:r instanceof Error?r.message:"Failed to save profile",isLoading:!1})}},clearNonActivatedProfile:()=>{const{profile:n}=t();n&&(!n.id||n.id==="local-user")&&e({profile:void 0,basicInfo:lg})},completeOnboarding:()=>{e({hasCompletedOnboarding:!0})}}));function TA(){const[e,t]=A.useState([]),[n,r]=A.useState(null),[s,i]=A.useState(null),[a,l]=A.useState(!0),[u,c]=A.useState(!1),[h,f]=A.useState(null),[m,p]=A.useState(!1),[b,E]=A.useState(0),[v,g]=A.useState(!1),[y,x]=A.useState(!1),[S,P]=A.useState(!1),[C,M]=A.useState(!1),[R,U]=A.useState(!1),B=pt(j=>j.hasCompletedOnboarding),$=pt(j=>j.completeOnboarding),Q=pt(j=>j.loadProfileFromDB),[ie,be]=A.useState(!1);A.useEffect(()=>{!a&&e.length===0&&!B&&be(!0)},[a,e.length,B]),A.useEffect(()=>{se()},[]),A.useEffect(()=>{if(!e.some(k=>k.processing_status==="pending"||k.processing_status==="processing"))return;const G=setInterval(()=>{Cu().then(k=>{t(k.sources)}).catch(console.error)},3e3);return()=>clearInterval(G)},[e]),A.useEffect(()=>{const j=e.filter(G=>G.processing_status==="completed").length;if(console.log(`[AGGREGATION EFFECT] Current: ${j}, Stored: ${b}, isAggregating: ${v}`),j===0){console.log("[AGGREGATION EFFECT] No completed sources, skipping aggregation"),g(!1);return}if(j>0&&j!==b){console.log(`[AGGREGATION EFFECT] Completed sources changed: ${b}  ${j}, fetching updated aggregated profile...`),E(j),g(!0);const G=s==null?void 0:s.updated_at;console.log(`[AGGREGATION EFFECT] Starting poll, current profile timestamp: ${G}`);const k=async(ce=0)=>{var it,pe,at;try{const Be=await rg(),ot=(it=Be.aggregated_profile)==null?void 0:it.updated_at,Pt=((at=(pe=Be.aggregated_profile)==null?void 0:pe.sources)==null?void 0:at.length)||0;console.log(`[POLL ${ce+1}] Profile timestamp: ${ot}, sources: ${Pt}, expecting ${j} sources`);const rn=ot&&ot!==G;rn||Pt===j?(console.log(`[POLL ${ce+1}]  Got updated aggregated profile (timestamp: ${rn?"changed":"same"}, sources: ${Pt})`),i(Be.aggregated_profile),g(!1),console.log("[POLL] Reloading profile to sync skills..."),Q().catch(hr=>{console.error("[POLL] Failed to reload profile:",hr)})):ce<20?(console.log(`[POLL ${ce+1}]  Waiting for profile update...`),setTimeout(()=>k(ce+1),3e3)):(console.warn(`[POLL ${ce+1}]  Timed out waiting for aggregated profile update (waited ${ce*3}s), using current profile`),i(Be.aggregated_profile),g(!1),console.log("[POLL] Reloading profile after timeout..."),Q().catch(hr=>{console.error("[POLL] Failed to reload profile:",hr)}))}catch(Be){console.error(`[POLL ${ce+1}] Error:`,Be),ce<20?setTimeout(()=>k(ce+1),3e3):(console.error("[POLL] Failed to fetch aggregated profile after multiple attempts"),g(!1))}};console.log("[AGGREGATION EFFECT] Starting poll in 2 seconds..."),setTimeout(()=>k(),2e3)}},[e,b]);const se=async()=>{l(!0);try{const[j,G,k]=await Promise.all([Cu(),N0(),rg()]),ce=j.sources.filter(pe=>pe.source_type==="resume");if(ce.length>1){ce.sort((Be,ot)=>new Date(ot.created_at).getTime()-new Date(Be.created_at).getTime());const pe=ce.slice(1);await Promise.all(pe.map(Be=>sg(Be.id)));const at=j.sources.filter(Be=>!pe.find(ot=>ot.id===Be.id));t(at)}else t(j.sources);console.log("Preferences data received:",G),console.log("Preferences object:",G.preferences),r(G.preferences),i(k.aggregated_profile);const it=j.sources.filter(pe=>pe.processing_status==="completed").length;it!==b&&E(it)}catch(j){f(j instanceof Error?j.message:"Failed to load data"),g(!1)}finally{l(!1)}},_e=async j=>{if(confirm("Are you sure you want to delete this source?"))try{console.log("[DELETE] Setting isAggregating=true"),g(!0),await sg(j),console.log("[DELETE] API call completed, updating sources list"),t(e.filter(G=>G.id!==j)),console.log("[DELETE] Sources updated, useEffect should fire to poll for new profile")}catch(G){console.error("[DELETE] Error:",G),f(G instanceof Error?G.message:"Failed to delete source"),g(!1)}},we=async()=>{c(!0),f(null);try{const{preferences:j}=await w3();r(j)}catch(j){f(j instanceof Error?j.message:"Failed to predict preferences")}finally{c(!1)}},Y=async j=>{try{const{preferences:G}=await S3(j);r(G)}catch(G){f(G instanceof Error?G.message:"Failed to update preferences")}};if(a)return o.jsx("div",{className:"flex min-h-screen items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx(Kh,{className:"mx-auto mb-4 h-12 w-12 animate-spin text-blue-600"}),o.jsx("p",{className:"text-gray-600",children:"Loading your knowledge base..."})]})});const ee=e.filter(j=>j.processing_status==="completed"),w=e.filter(j=>j.processing_status==="processing"||j.processing_status==="pending");return o.jsxs("div",{className:"mx-auto max-w-6xl px-6 py-8",children:[o.jsxs("div",{className:"mb-8",children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Knowledge Base"}),o.jsx("p",{className:"mt-2 text-gray-600",children:"Manage your sources and preferences to get the best job recommendations."})]}),h&&o.jsx("div",{className:"mb-6 rounded-lg border border-red-200 bg-red-50 p-4 text-red-700",children:h}),o.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[o.jsxs("div",{className:"lg:col-span-2",children:[o.jsxs("div",{className:"mb-6 grid gap-4 sm:grid-cols-3",children:[o.jsx(id,{label:"Total Sources",value:e.length,icon:o.jsx(nr,{className:"h-5 w-5"}),color:"blue"}),o.jsx(id,{label:"Completed",value:ee.length,icon:o.jsx(RE,{className:"h-5 w-5"}),color:"green"}),o.jsx(id,{label:"Processing",value:w.length,icon:o.jsx(C0,{className:"h-5 w-5"}),color:"yellow"})]}),o.jsxs("button",{"data-tour":"add-source-button",onClick:()=>p(!0),className:"mb-6 flex w-full items-center justify-center space-x-2 rounded-lg border-2 border-dashed border-gray-300 bg-white py-4 text-gray-600 transition hover:border-blue-400 hover:bg-blue-50 hover:text-blue-600",children:[o.jsx(pA,{className:"h-5 w-5"}),o.jsx("span",{className:"font-medium",children:"Add New Source"})]}),o.jsxs("div",{className:"mb-6 space-y-4","data-tour":"sources-section",children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Your Sources"}),e.length===0?o.jsxs("div",{className:"rounded-lg border-2 border-dashed border-gray-300 bg-gray-50 p-12 text-center",children:[o.jsx(nr,{className:"mx-auto mb-4 h-12 w-12 text-gray-400"}),o.jsx("p",{className:"text-gray-600",children:"No sources yet. Add your first source to get started!"})]}):e.map(j=>o.jsx(wA,{source:j,onDelete:_e},j.id))]}),(s&&s.name||v)&&o.jsxs("div",{className:"relative rounded-lg border border-gray-200 bg-gradient-to-br from-blue-50 to-indigo-50 p-6 shadow-sm","data-tour":"aggregated-profile",children:[v&&o.jsx("div",{className:"absolute inset-0 z-10 flex items-center justify-center rounded-lg bg-white/80 backdrop-blur-sm",children:o.jsxs("div",{className:"text-center",children:[o.jsx(Kh,{className:"mx-auto mb-2 h-8 w-8 animate-spin text-blue-600"}),o.jsx("p",{className:"text-sm font-medium text-blue-700",children:"Merging sources with AI..."}),o.jsx("p",{className:"text-xs text-blue-600 mt-1",children:"This may take a few seconds"})]})}),o.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Unified Profile"}),o.jsx(LE,{className:"h-5 w-5 text-blue-600"})]}),s&&s.name?o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"mb-2 text-lg font-semibold text-gray-900",children:s.name}),o.jsxs("div",{className:"space-y-1 text-sm text-gray-700",children:[s.email&&o.jsxs("p",{children:[" ",s.email]}),s.phone&&o.jsxs("p",{children:[" ",s.phone]}),s.location&&o.jsxs("p",{children:[" ",s.location]})]})]}),s.summary&&o.jsxs("div",{children:[o.jsx("h4",{className:"mb-1 text-sm font-semibold text-gray-700",children:"Summary"}),o.jsx("p",{className:"text-sm text-gray-600",children:s.summary})]}),s.skills.length>0&&o.jsxs("div",{children:[o.jsxs("h4",{className:"mb-2 text-sm font-semibold text-gray-700",children:["Skills (",s.skills.length,")"]}),o.jsx("div",{className:"flex flex-wrap gap-1",children:(y?s.skills:s.skills.slice(0,15)).map((j,G)=>o.jsx("span",{className:"rounded-full bg-blue-100 px-2 py-1 text-xs text-blue-700",children:j},G))}),s.skills.length>15&&o.jsx("button",{onClick:()=>x(!y),className:"mt-2 text-xs text-blue-600 hover:text-blue-800 font-medium",children:y?"- Show less":`+ Show all ${s.skills.length} skills`})]}),s.experience.length>0&&o.jsxs("div",{children:[o.jsxs("h4",{className:"mb-2 flex items-center space-x-2 text-sm font-semibold text-gray-700",children:[o.jsx(k0,{className:"h-4 w-4"}),o.jsxs("span",{children:["Experience (",s.experience.length," positions)"]})]}),o.jsx("div",{className:"space-y-2",children:(S?s.experience:s.experience.slice(0,3)).map((j,G)=>o.jsxs("div",{className:"rounded-lg bg-white p-3 text-sm",children:[o.jsx("p",{className:"font-medium text-gray-900",children:j.job_title||j.title}),o.jsx("p",{className:"text-gray-600",children:j.company}),j.duration&&o.jsx("p",{className:"text-xs text-gray-500",children:j.duration})]},G))}),s.experience.length>3&&o.jsx("button",{onClick:()=>P(!S),className:"mt-2 text-xs text-blue-600 hover:text-blue-800 font-medium",children:S?"- Show less":`+ Show all ${s.experience.length} positions`})]}),s.education.length>0&&o.jsxs("div",{children:[o.jsxs("h4",{className:"mb-2 flex items-center space-x-2 text-sm font-semibold text-gray-700",children:[o.jsx(PE,{className:"h-4 w-4"}),o.jsxs("span",{children:["Education (",s.education.length,")"]})]}),o.jsx("div",{className:"space-y-2",children:(C?s.education:s.education.slice(0,3)).map((j,G)=>o.jsxs("div",{className:"rounded-lg bg-white p-3 text-sm",children:[o.jsx("p",{className:"font-medium text-gray-900",children:j.degree||j.field_of_study}),o.jsx("p",{className:"text-gray-600",children:j.institution})]},G))}),s.education.length>3&&o.jsx("button",{onClick:()=>M(!C),className:"mt-2 text-xs text-blue-600 hover:text-blue-800 font-medium",children:C?"- Show less":`+ Show all ${s.education.length} entries`})]}),s.projects&&s.projects.length>0&&o.jsxs("div",{children:[o.jsxs("h4",{className:"mb-2 flex items-center space-x-2 text-sm font-semibold text-gray-700",children:[o.jsx(OE,{className:"h-4 w-4"}),o.jsxs("span",{children:["Projects (",s.projects.length,")"]})]}),o.jsx("div",{className:"space-y-2",children:(R?s.projects:s.projects.slice(0,3)).map((j,G)=>o.jsxs("div",{className:"rounded-lg bg-white p-3 text-sm",children:[o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsx("p",{className:"font-medium text-gray-900",children:j.name}),j.url&&o.jsx("a",{href:j.url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800",onClick:k=>k.stopPropagation(),children:o.jsx(og,{className:"h-4 w-4"})})]}),j.description&&o.jsx("p",{className:"text-xs text-gray-600 mt-1",children:j.description}),j.technologies&&j.technologies.length>0&&o.jsxs("div",{className:"mt-1 flex flex-wrap gap-1",children:[j.technologies.slice(0,5).map((k,ce)=>o.jsx("span",{className:"rounded bg-gray-100 px-1.5 py-0.5 text-xs text-gray-700",children:k},ce)),j.technologies.length>5&&o.jsxs("span",{className:"text-xs text-gray-500",children:["+",j.technologies.length-5," more"]})]})]},G))}),s.projects.length>3&&o.jsx("button",{onClick:()=>U(!R),className:"mt-2 text-xs text-blue-600 hover:text-blue-800 font-medium",children:R?"- Show less":`+ Show all ${s.projects.length} projects`})]})]}):o.jsx("div",{className:"text-center text-gray-500 py-8",children:o.jsx("p",{children:"Processing your profile..."})})]})]}),o.jsx("div",{children:o.jsxs("div",{className:"mb-6 rounded-lg border border-gray-200 bg-white p-6 shadow-sm",children:[o.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Your Interests"}),o.jsx(Au,{className:"h-5 w-5 text-purple-600"})]}),n&&(n.predicted_industries||n.predicted_roles||n.predicted_companies)?o.jsxs("div",{className:"space-y-6",children:[n.predicted_industries&&n.predicted_industries.length>0&&o.jsx(od,{title:"Industries",predictions:n.predicted_industries,confirmed:n.confirmed_industries||[],onUpdate:j=>Y({confirmed_industries:j}),color:"purple"}),n.predicted_roles&&n.predicted_roles.length>0&&o.jsx(od,{title:"Roles",predictions:n.predicted_roles,confirmed:n.confirmed_roles||[],onUpdate:j=>Y({confirmed_roles:j}),color:"blue"}),n.predicted_companies&&n.predicted_companies.length>0&&o.jsx(od,{title:"Companies",predictions:n.predicted_companies,confirmed:n.confirmed_companies||[],onUpdate:j=>Y({confirmed_companies:j}),color:"green"}),o.jsxs("div",{className:"border-t border-gray-200 pt-4 space-y-2",children:[o.jsx(st,{to:"/dashboard",className:"relative w-full flex items-center justify-center rounded-lg bg-brand-600 px-4 py-2 text-sm font-medium text-white transition-colors hover:bg-brand-700 hover:text-white",children:o.jsx("span",{className:"relative z-10",children:"Dashboard"})}),o.jsx("button",{onClick:we,disabled:u||ee.length===0,className:"w-full rounded-lg border border-purple-600 px-4 py-2 text-sm font-medium text-purple-600 transition hover:bg-purple-50 disabled:opacity-50",children:u?"Re-analyzing...":"Re-analyze Profile"}),o.jsx("p",{className:"mt-2 text-xs text-center text-gray-500",children:"Generate fresh predictions from your sources"})]})]}):o.jsxs("div",{className:"text-center",children:[o.jsx("p",{className:"mb-4 text-sm text-gray-600",children:"Let AI analyze your profile and suggest career interests."}),o.jsx("button",{onClick:we,disabled:u||ee.length===0,className:"w-full rounded-lg bg-purple-600 px-4 py-2 text-sm font-medium text-white transition hover:bg-purple-700 disabled:opacity-50",children:u?"Analyzing...":"Analyze My Profile"}),ee.length===0&&o.jsx("p",{className:"mt-2 text-xs text-gray-500",children:"Add at least one completed source first"})]})]})})]}),m&&o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 p-4",children:o.jsxs("div",{className:"w-full max-w-4xl max-h-[90vh] overflow-y-auto rounded-lg bg-white p-8 shadow-xl",children:[o.jsxs("div",{className:"mb-6",children:[o.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:"Add New Source"}),o.jsx("p",{className:"mt-2 text-gray-600",children:"Import your profile from multiple sources to get better recommendations"})]}),h&&o.jsx("div",{className:"mb-6 rounded-lg bg-red-50 border border-red-200 p-4 text-red-700",children:h}),o.jsxs("div",{className:"mb-8 grid gap-6 md:grid-cols-2",children:[o.jsxs("div",{className:"rounded-lg border-2 border-dashed border-gray-300 bg-white p-6 transition hover:border-blue-400",children:[o.jsxs("div",{className:"mb-3 flex items-center space-x-3",children:[o.jsx("div",{className:"text-blue-600",children:o.jsx(nr,{className:"h-6 w-6"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-gray-900",children:"Upload Resume/CV"}),o.jsx("p",{className:"text-sm text-gray-500",children:"PDF or DOCX format"})]})]}),o.jsxs("label",{className:"block",children:[o.jsx("input",{type:"file",accept:".pdf,.doc,.docx",onChange:async j=>{var k;const G=(k=j.target.files)==null?void 0:k[0];if(G){c(!0),f(null);try{await x3(G),g(!0),await se(),p(!1)}catch(ce){f(ce instanceof Error?ce.message:"Failed to upload file"),g(!1)}finally{c(!1)}j.target.value=""}},disabled:u,className:"hidden"}),o.jsx("div",{className:"cursor-pointer rounded-lg bg-blue-50 py-3 text-center text-sm font-medium text-blue-600 transition hover:bg-blue-100",children:u?"Uploading...":"Choose File"})]})]}),o.jsxs("div",{className:"rounded-lg border border-gray-200 p-4",children:[o.jsxs("div",{className:"mb-3 flex items-center space-x-3",children:[o.jsx("div",{className:"text-purple-600",children:o.jsx(sA,{className:"h-6 w-6"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-gray-900",children:"Upload Project Document"}),o.jsx("p",{className:"text-sm text-gray-500",children:"Project docs, proposals, reports (PDF or DOCX)"})]})]}),o.jsxs("label",{className:"block",children:[o.jsx("input",{type:"file",accept:".pdf,.doc,.docx",onChange:async j=>{var k;const G=(k=j.target.files)==null?void 0:k[0];if(G){c(!0),f(null);try{await b3(G),g(!0),await se(),p(!1)}catch(ce){f(ce instanceof Error?ce.message:"Failed to upload project document"),g(!1)}finally{c(!1)}j.target.value=""}},disabled:u,className:"hidden"}),o.jsx("div",{className:"cursor-pointer rounded-lg bg-purple-50 py-3 text-center text-sm font-medium text-purple-600 transition hover:bg-purple-100",children:u?"Uploading...":"Choose File"})]})]}),o.jsx(ad,{icon:o.jsx(cA,{className:"h-6 w-6"}),title:"LinkedIn Profile",description:"Enter your profile URL",placeholder:"https://linkedin.com/in/yourname",buttonText:"Add LinkedIn",onSubmit:async j=>{if(j.trim()){c(!0),f(null);try{await E3(j),g(!0),await se(),p(!1)}catch(G){f(G instanceof Error?G.message:"Failed to add LinkedIn"),g(!1)}finally{c(!1)}}},disabled:u}),o.jsx(ad,{icon:o.jsx(og,{className:"h-6 w-6"}),title:"GitHub Profile",description:"Username or profile URL",placeholder:"github.com/username or just username",buttonText:"Add GitHub",onSubmit:async j=>{if(j.trim()){c(!0),f(null);try{console.log("[ADD GITHUB] Starting..."),await v3(j),console.log("[ADD GITHUB] API call completed, setting isAggregating=true"),g(!0),await se(),console.log("[ADD GITHUB] loadData completed"),p(!1)}catch(G){console.error("[ADD GITHUB] Error:",G),f(G instanceof Error?G.message:"Failed to add GitHub"),g(!1)}finally{c(!1)}}},disabled:u}),o.jsx(ad,{icon:o.jsx(oA,{className:"h-6 w-6"}),title:"Personal Website",description:"Portfolio, blog, or project page",placeholder:"https://yourwebsite.com",buttonText:"Add Website",onSubmit:async j=>{if(j.trim()){c(!0),f(null);try{await _3(j),g(!0),await se(),p(!1)}catch(G){f(G instanceof Error?G.message:"Failed to add website"),g(!1)}finally{c(!1)}}},disabled:u}),o.jsx("div",{className:"md:col-span-2",children:o.jsx(SA,{icon:o.jsx(nr,{className:"h-6 w-6"}),title:"Additional Context",description:"Add any other relevant information",placeholder:"Tell us about skills, projects, achievements not captured elsewhere...",buttonText:"Add Context",onSubmit:async j=>{if(j.trim()){c(!0),f(null);try{await T3(j),g(!0),await se(),p(!1)}catch(G){f(G instanceof Error?G.message:"Failed to add context"),g(!1)}finally{c(!1)}}},disabled:u})})]}),o.jsx("div",{className:"flex justify-end",children:o.jsx("button",{onClick:()=>{p(!1),f(null)},disabled:u,className:"rounded-lg border border-gray-300 px-6 py-2 text-gray-700 transition hover:bg-gray-50 disabled:opacity-50",children:"Cancel"})})]})}),o.jsx(_A,{steps:[{target:'[data-tour="add-source-button"]',title:"Welcome to Your Knowledge Base!",content:"Start by adding your first knowledge source. Upload your resume, connect LinkedIn, or add project documents to build your professional profile.",position:"bottom"},{target:'[data-tour="sources-section"]',title:"Track Your Sources",content:"All your uploaded sources will appear here. You can view, delete, and manage them at any time.",position:"top"},{target:'[data-tour="aggregated-profile"]',title:"Your AI-Powered Profile",content:"Once you add sources, our AI will automatically analyze and aggregate your professional information here.",position:"top"}],isActive:ie,onComplete:()=>{be(!1),$()},onSkip:()=>{be(!1),$()}})]})}function id({label:e,value:t,icon:n,color:r}){const s={blue:"bg-blue-100 text-blue-600",green:"bg-green-100 text-green-600",yellow:"bg-yellow-100 text-yellow-600",red:"bg-red-100 text-red-600"};return o.jsx("div",{className:"rounded-lg border border-gray-200 bg-white p-4 shadow-sm",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-600",children:e}),o.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t})]}),o.jsx("div",{className:`rounded-full p-3 ${s[r]}`,children:n})]})})}function wA({source:e,onDelete:t}){const[n,r]=A.useState(!1),s={pending:o.jsx(C0,{className:"h-5 w-5 text-yellow-500"}),processing:o.jsx(Kh,{className:"h-5 w-5 animate-spin text-blue-500"}),completed:o.jsx(RE,{className:"h-5 w-5 text-green-500"}),failed:o.jsx(Q3,{className:"h-5 w-5 text-red-500"})},i={resume:"Resume",linkedin:"LinkedIn",github:"GitHub",personal_website:"Website",manual_text:"Manual Text",project_document:"Document",portfolio:"Portfolio",other_document:"Document"},a=e.parsed_data,l=a&&e.processing_status==="completed";return o.jsxs("div",{className:"rounded-lg border border-gray-200 bg-white shadow-sm transition hover:shadow-md",children:[o.jsx("div",{className:"p-4",children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"mb-2 flex items-center space-x-2",children:[o.jsx("span",{className:"text-lg font-semibold",children:i[e.source_type]}),s[e.processing_status]]}),e.source_identifier&&o.jsx("p",{className:"mb-2 text-sm text-gray-600 truncate",children:e.source_identifier}),o.jsxs("div",{className:"flex items-center space-x-4 text-xs text-gray-500",children:[o.jsxs("span",{children:["Added ",new Date(e.created_at).toLocaleDateString()]}),o.jsx("span",{className:"capitalize",children:e.processing_status})]}),e.error_message&&o.jsxs("p",{className:"mt-2 text-xs text-red-600",children:["Error: ",e.error_message]})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[l&&o.jsx("button",{onClick:()=>r(!n),className:"rounded-lg p-2 text-gray-400 transition hover:bg-gray-50 hover:text-gray-600",title:"View parsed data",children:n?o.jsx(V3,{className:"h-4 w-4"}):o.jsx(z3,{className:"h-4 w-4"})}),o.jsx("button",{onClick:()=>t(e.id),className:"rounded-lg p-2 text-gray-400 transition hover:bg-red-50 hover:text-red-600",title:"Delete source",children:o.jsx(xA,{className:"h-4 w-4"})})]})]})}),n&&l&&o.jsxs("div",{className:"border-t border-gray-200 bg-gray-50 p-4",children:[o.jsx("h4",{className:"mb-3 text-sm font-semibold text-gray-700",children:"Parsed Information"}),o.jsxs("div",{className:"space-y-4",children:[(a.name||a.email||a.phone)&&o.jsxs("div",{children:[o.jsxs("div",{className:"mb-2 flex items-center space-x-2 text-xs font-semibold text-gray-600",children:[o.jsx(LE,{className:"h-4 w-4"}),o.jsx("span",{children:"CONTACT"})]}),o.jsxs("div",{className:"space-y-1 text-sm",children:[a.name&&o.jsxs("p",{children:[o.jsx("span",{className:"font-medium",children:"Name:"})," ",a.name]}),a.email&&o.jsxs("p",{children:[o.jsx("span",{className:"font-medium",children:"Email:"})," ",a.email]}),a.phone&&o.jsxs("p",{children:[o.jsx("span",{className:"font-medium",children:"Phone:"})," ",a.phone]}),a.location&&o.jsxs("p",{children:[o.jsx("span",{className:"font-medium",children:"Location:"})," ",a.location]})]})]}),a.skills&&a.skills.length>0&&o.jsxs("div",{children:[o.jsxs("div",{className:"mb-2 flex items-center space-x-2 text-xs font-semibold text-gray-600",children:[o.jsx(OE,{className:"h-4 w-4"}),o.jsxs("span",{children:["SKILLS (",a.skills.length,")"]})]}),o.jsxs("div",{className:"flex flex-wrap gap-1",children:[a.skills.slice(0,10).map((u,c)=>o.jsx("span",{className:"rounded-full bg-blue-100 px-2 py-1 text-xs text-blue-700",children:u},c)),a.skills.length>10&&o.jsxs("span",{className:"rounded-full bg-gray-100 px-2 py-1 text-xs text-gray-600",children:["+",a.skills.length-10," more"]})]})]}),a.experience&&a.experience.length>0&&o.jsxs("div",{children:[o.jsxs("div",{className:"mb-2 flex items-center space-x-2 text-xs font-semibold text-gray-600",children:[o.jsx(k0,{className:"h-4 w-4"}),o.jsxs("span",{children:["EXPERIENCE (",a.experience.length,")"]})]}),o.jsxs("div",{className:"space-y-2",children:[a.experience.slice(0,3).map((u,c)=>o.jsxs("div",{className:"text-sm",children:[o.jsx("p",{className:"font-medium",children:u.job_title||u.title}),o.jsx("p",{className:"text-gray-600",children:u.company}),u.duration&&o.jsx("p",{className:"text-xs text-gray-500",children:u.duration})]},c)),a.experience.length>3&&o.jsxs("p",{className:"text-xs text-gray-500",children:["+",a.experience.length-3," more positions"]})]})]}),a.education&&a.education.length>0&&o.jsxs("div",{children:[o.jsxs("div",{className:"mb-2 flex items-center space-x-2 text-xs font-semibold text-gray-600",children:[o.jsx(PE,{className:"h-4 w-4"}),o.jsxs("span",{children:["EDUCATION (",a.education.length,")"]})]}),o.jsx("div",{className:"space-y-2",children:a.education.slice(0,2).map((u,c)=>o.jsxs("div",{className:"text-sm",children:[o.jsx("p",{className:"font-medium",children:u.degree||u.field_of_study}),o.jsx("p",{className:"text-gray-600",children:u.institution})]},c))})]}),a.summary&&o.jsxs("div",{children:[o.jsx("div",{className:"mb-2 text-xs font-semibold text-gray-600",children:"SUMMARY"}),o.jsx("p",{className:"text-sm text-gray-700 line-clamp-3",children:a.summary})]})]})]})]})}function ad({icon:e,title:t,description:n,placeholder:r,buttonText:s,onSubmit:i,disabled:a}){const[l,u]=A.useState(""),c=()=>{i(l),u("")};return o.jsxs("div",{className:"rounded-lg border-2 border-dashed border-gray-300 bg-white p-6 transition hover:border-blue-400",children:[o.jsxs("div",{className:"mb-3 flex items-center space-x-3",children:[o.jsx("div",{className:"text-blue-600",children:e}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-gray-900",children:t}),o.jsx("p",{className:"text-sm text-gray-500",children:n})]})]}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsx("input",{type:"text",value:l,onChange:h=>u(h.target.value),onKeyPress:h=>h.key==="Enter"&&!a&&l.trim()&&c(),placeholder:r,disabled:a,className:"flex-1 rounded-lg border border-gray-300 px-3 py-2 text-sm focus:border-blue-500 focus:outline-none disabled:bg-gray-100"}),o.jsx("button",{onClick:c,disabled:a||!l.trim(),className:"rounded-lg bg-blue-600 px-4 py-2 text-sm font-medium text-white transition hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:a?"Adding...":s})]})]})}function SA({icon:e,title:t,description:n,placeholder:r,buttonText:s,onSubmit:i,disabled:a}){const[l,u]=A.useState(""),c=()=>{i(l),u("")};return o.jsxs("div",{className:"rounded-lg border-2 border-dashed border-gray-300 bg-white p-6 transition hover:border-blue-400",children:[o.jsxs("div",{className:"mb-3 flex items-center space-x-3",children:[o.jsx("div",{className:"text-blue-600",children:e}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-gray-900",children:t}),o.jsx("p",{className:"text-sm text-gray-500",children:n})]})]}),o.jsx("textarea",{value:l,onChange:h=>u(h.target.value),placeholder:r,disabled:a,rows:4,className:"w-full rounded-lg border border-gray-300 px-3 py-2 text-sm focus:border-blue-500 focus:outline-none disabled:bg-gray-100"}),o.jsx("button",{onClick:c,disabled:a||!l.trim(),className:"mt-2 w-full rounded-lg bg-blue-600 px-4 py-2 text-sm font-medium text-white transition hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:a?"Adding...":s})]})}function od({title:e,predictions:t,confirmed:n,onUpdate:r,color:s="blue"}){const[i,a]=A.useState(n||[]);A.useEffect(()=>{a(n||[])},[n]);const l=h=>{const f=i.includes(h)?i.filter(m=>m!==h):[...i,h];a(f),r(f)},c={purple:{selected:"border-purple-500 bg-purple-50 text-purple-800",unselected:"border-gray-200 bg-white text-gray-700 hover:border-purple-300 hover:bg-purple-50",check:"text-purple-600"},blue:{selected:"border-blue-500 bg-blue-50 text-blue-800",unselected:"border-gray-200 bg-white text-gray-700 hover:border-blue-300 hover:bg-blue-50",check:"text-blue-600"},green:{selected:"border-green-500 bg-green-50 text-green-800",unselected:"border-gray-200 bg-white text-gray-700 hover:border-green-300 hover:bg-green-50",check:"text-green-600"}}[s];return o.jsxs("div",{children:[o.jsx("h4",{className:"mb-2 text-sm font-medium text-gray-700",children:e}),o.jsx("div",{className:"flex flex-wrap gap-2",children:t.slice(0,5).map(h=>{const f=i.includes(h.name);return o.jsxs("button",{onClick:()=>l(h.name),className:`group flex items-center space-x-1.5 rounded-full border-2 px-3 py-1 text-xs font-medium transition ${f?c.selected:c.unselected}`,title:`${h.reasoning} (${Math.round(h.confidence*100)}% confidence)`,children:[o.jsx("span",{children:h.name}),f&&o.jsx(G3,{className:`h-3 w-3 ${c.check}`})]},h.name)})}),i.length>0&&o.jsxs("p",{className:"mt-2 text-xs text-gray-500",children:[i.length," selected"]})]})}function jE({job:e,actionable:t=!0}){return o.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-6 shadow-card transition hover:-translate-y-1 hover:shadow-lg",children:[o.jsx("div",{className:"flex items-start justify-between gap-4",children:o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-sm uppercase tracking-wide text-slate-500",children:e.company}),o.jsx("h3",{className:"mt-1 text-xl font-semibold text-slate-900",children:e.title}),o.jsxs("p",{className:"mt-2 text-sm text-slate-600",children:[e.location,"  ",e.industry]})]})}),o.jsx("p",{className:"mt-4 line-clamp-3 text-sm text-slate-600",children:e.description}),o.jsxs("div",{className:"mt-4 flex flex-wrap gap-2",children:[e.title.toLowerCase().includes("intern")&&o.jsx("span",{className:"inline-flex items-center rounded-full bg-blue-100 px-2.5 py-0.5 text-xs font-semibold text-blue-700",children:"Internship"}),!e.title.toLowerCase().includes("intern")&&o.jsx("span",{className:"inline-flex items-center rounded-full bg-green-100 px-2.5 py-0.5 text-xs font-semibold text-green-700",children:"Full-time"}),e.requirements&&e.requirements.filter(n=>!["internship","full-time","part-time","contract"].includes(n.toLowerCase())).map(n=>o.jsx("span",{className:"inline-flex items-center rounded-full bg-purple-100 px-2.5 py-0.5 text-xs font-medium text-purple-700",children:n},n))]}),t&&o.jsx("div",{className:"mt-6 flex justify-end",children:o.jsx(st,{to:`/jobs/${e.id}`,className:"relative z-10 rounded-lg bg-brand-600 px-4 py-2 text-sm font-medium text-white shadow-sm transition-all hover:bg-brand-700 hover:shadow-md hover:text-white active:scale-95",children:"View Details"})})]})}function Iu({title:e,description:t,action:n}){return o.jsxs("div",{className:"flex flex-col items-center justify-center rounded-2xl border border-slate-200 bg-white p-10 text-center",children:[o.jsx("h3",{className:"text-lg font-semibold text-slate-800",children:e}),o.jsx("p",{className:"mt-2 max-w-md text-sm text-slate-500",children:t}),n&&o.jsx("div",{className:"mt-4",children:n})]})}function DE(e){var t;return e?JSON.stringify({plan:e.plan,educationLevel:e.educationLevel,skills:(t=e.skills)==null?void 0:t.slice().sort()}):"none"}function ME(e){const t=pt(r=>r.profile),n=A.useMemo(()=>DE(t),[t]);return bu({queryKey:["jobs",e,n],queryFn:()=>l3(e)})}function NA(e){const t=pt(r=>r.profile),n=A.useMemo(()=>DE(t),[t]);return bu({queryKey:["job",e,n],queryFn:()=>c3(e??""),enabled:!!e})}function kA(){var h,f,m,p,b,E;const e=Zr();pt(v=>v.profile);const{data:t,isLoading:n}=ME({limit:50}),[r,s]=A.useState([]),[i,a]=A.useState(null),[l,u]=A.useState(!0);A.useEffect(()=>{(async()=>{try{const g=await Cu();if(s(g.sources),g.sources.length===0){e("/knowledge-base");return}try{const y=await N0();a(y.preferences)}catch{console.log("No preferences yet")}}catch(g){console.error("Error loading data:",g)}finally{u(!1)}})()},[e]);const c=A.useMemo(()=>{if(!(t!=null&&t.items)||!i)return(t==null?void 0:t.items.slice(0,10))||[];const v=i.confirmed_industries||[],g=i.confirmed_roles||[],y=i.confirmed_companies||[];return v.length===0&&g.length===0&&y.length===0?t.items.slice(0,10):t.items.map(S=>{let P=0;return g.some(M=>{const R=M.toLowerCase(),U=S.title.toLowerCase();return U.includes(R)||R.includes(U)})&&P++,y.some(M=>{const R=M.toLowerCase(),U=S.company.toLowerCase();return U.includes(R)||R.includes(U)})&&P++,v.some(M=>{var U;const R=M.toLowerCase();if((U=S.requirements)!=null&&U.some(B=>{const $=B.toLowerCase();return $.includes(R)||R.includes($)}))return!0;if(S.industry){const B=S.industry.toLowerCase();return B.includes(R)||R.includes(B)}return!1})&&P++,{job:S,matchCount:P}}).sort((S,P)=>P.matchCount-S.matchCount).slice(0,10).map(({job:S})=>S)},[t,i]);return l?o.jsx("div",{className:"mx-auto max-w-6xl px-6 py-12",children:o.jsx("div",{className:"flex items-center justify-center py-20",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"inline-block h-8 w-8 animate-spin rounded-full border-4 border-solid border-brand-600 border-r-transparent"}),o.jsx("p",{className:"mt-4 text-sm text-slate-500",children:"Loading your dashboard..."})]})})}):o.jsxs("div",{className:"mx-auto max-w-7xl px-6 py-12",children:[o.jsxs("div",{className:"mb-8",children:[o.jsx("h2",{className:"text-3xl font-semibold text-slate-900",children:"Dashboard"}),o.jsx("p",{className:"mt-2 text-sm text-slate-500",children:"Your personalized job recommendation hub."})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8",children:[o.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsx("div",{className:"rounded-xl border border-slate-200 bg-white p-6 shadow-sm",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"rounded-lg bg-indigo-100 p-3",children:o.jsx(nr,{className:"h-6 w-6 text-indigo-600"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-slate-500",children:"Knowledge Sources"}),o.jsx("p",{className:"text-2xl font-semibold text-slate-900",children:r.length})]})]})}),o.jsx("div",{className:"rounded-xl border border-slate-200 bg-white p-6 shadow-sm",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"rounded-lg bg-purple-100 p-3",children:o.jsx(k0,{className:"h-6 w-6 text-purple-600"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-slate-500",children:"Top Matches"}),o.jsx("p",{className:"text-2xl font-semibold text-slate-900",children:c.length})]})]})}),o.jsx("div",{className:"rounded-xl border border-slate-200 bg-white p-6 shadow-sm",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"rounded-lg bg-green-100 p-3",children:o.jsx(EA,{className:"h-6 w-6 text-green-600"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-slate-500",children:"Profile Status"}),o.jsx("p",{className:"text-sm font-semibold text-green-600",children:"Active"})]})]})})]}),o.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-6 shadow-sm",children:[o.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Top Job Matches"}),o.jsx("p",{className:"text-sm text-slate-500",children:i&&((h=i.confirmed_industries)!=null&&h.length||(f=i.confirmed_roles)!=null&&f.length||(m=i.confirmed_companies)!=null&&m.length)?"Based on your interests":"Based on your knowledge base profile"})]}),o.jsx(st,{to:"/jobs",className:"text-sm font-medium text-brand-600 hover:text-brand-700",children:"View all "})]}),n&&o.jsxs("div",{className:"py-8 text-center",children:[o.jsx("div",{className:"inline-block h-6 w-6 animate-spin rounded-full border-4 border-solid border-brand-600 border-r-transparent"}),o.jsx("p",{className:"mt-2 text-sm text-slate-500",children:"Loading recommendations..."})]}),!n&&c.length===0&&o.jsx(Iu,{title:"No matches yet",description:"Try adding more knowledge sources or explore the full job list."}),o.jsx("div",{className:"space-y-4",children:c.map(v=>o.jsx(jE,{job:v},v.id))})]})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"rounded-xl border border-slate-200 bg-gradient-to-br from-blue-50 to-indigo-50 p-6 shadow-sm",children:[o.jsxs("div",{className:"mb-4 flex items-center gap-2",children:[o.jsx(Au,{className:"h-5 w-5 text-blue-600"}),o.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Your Interests"})]}),i&&((p=i.confirmed_industries)!=null&&p.length||(b=i.confirmed_roles)!=null&&b.length||(E=i.confirmed_companies)!=null&&E.length)?o.jsxs("div",{className:"space-y-4",children:[i.confirmed_industries&&i.confirmed_industries.length>0&&o.jsxs("div",{children:[o.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-slate-500 mb-2",children:"Industries"}),o.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.confirmed_industries.slice(0,5).map((v,g)=>o.jsx("span",{className:"inline-flex items-center rounded-full bg-blue-100 px-3 py-1 text-xs font-medium text-blue-700",children:v},g)),i.confirmed_industries.length>5&&o.jsxs("span",{className:"text-xs text-slate-500",children:["+",i.confirmed_industries.length-5," more"]})]})]}),i.confirmed_roles&&i.confirmed_roles.length>0&&o.jsxs("div",{children:[o.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-slate-500 mb-2",children:"Roles"}),o.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.confirmed_roles.slice(0,5).map((v,g)=>o.jsx("span",{className:"inline-flex items-center rounded-full bg-indigo-100 px-3 py-1 text-xs font-medium text-indigo-700",children:v},g)),i.confirmed_roles.length>5&&o.jsxs("span",{className:"text-xs text-slate-500",children:["+",i.confirmed_roles.length-5," more"]})]})]}),i.confirmed_companies&&i.confirmed_companies.length>0&&o.jsxs("div",{children:[o.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-slate-500 mb-2",children:"Target Companies"}),o.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.confirmed_companies.slice(0,5).map((v,g)=>o.jsx("span",{className:"inline-flex items-center rounded-full bg-purple-100 px-3 py-1 text-xs font-medium text-purple-700",children:v},g)),i.confirmed_companies.length>5&&o.jsxs("span",{className:"text-xs text-slate-500",children:["+",i.confirmed_companies.length-5," more"]})]})]}),o.jsx("div",{className:"pt-3 border-t border-blue-200",children:o.jsx(st,{to:"/knowledge-base",className:"text-xs font-medium text-blue-600 hover:text-blue-700",children:"Update your interests "})})]}):o.jsxs("div",{className:"text-center py-4",children:[o.jsx("p",{className:"text-sm text-slate-600 mb-3",children:"Let AI analyze your profile to predict your ideal roles and industries."}),o.jsxs(st,{to:"/knowledge-base",className:"inline-flex items-center gap-1 rounded-lg bg-purple-600 px-4 py-2 text-sm font-medium text-white hover:bg-purple-700",children:[o.jsx(Au,{className:"h-4 w-4"}),"Generate Predictions"]})]})]}),o.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-6 shadow-sm",children:[o.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Your Profile"}),o.jsxs("div",{className:"space-y-3",children:[r.slice(0,5).map(v=>o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("div",{className:`mt-0.5 rounded-md p-1.5 ${v.source_type==="resume"||v.source_type==="linkedin"?"bg-blue-100 text-blue-600":v.source_type==="github"?"bg-slate-100 text-slate-600":"bg-purple-100 text-purple-600"}`,children:o.jsx(nr,{className:"h-3 w-3"})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"text-sm font-medium text-slate-900 truncate capitalize",children:v.source_type.replace("_"," ")}),o.jsx("p",{className:"text-xs text-slate-500",children:new Date(v.created_at).toLocaleDateString()})]})]},v.id)),r.length>5&&o.jsxs("p",{className:"text-xs text-slate-500 pt-2",children:["+",r.length-5," more sources"]})]}),o.jsx(st,{to:"/knowledge-base",className:"mt-4 block text-center text-sm font-medium text-brand-600 hover:text-brand-700",children:"Manage sources "})]})]})]})]})}function ug({label:e,options:t,selected:n,onChange:r,placeholder:s="Select options..."}){const[i,a]=A.useState(!1),[l,u]=A.useState(""),c=A.useRef(null);A.useEffect(()=>{function p(b){c.current&&!c.current.contains(b.target)&&a(!1)}return document.addEventListener("mousedown",p),()=>document.removeEventListener("mousedown",p)},[]);const h=t.filter(p=>p.toLowerCase().includes(l.toLowerCase())),f=p=>{n.includes(p)?r(n.filter(b=>b!==p)):r([...n,p])},m=()=>{r([]),u("")};return o.jsxs("div",{className:"relative",ref:c,children:[o.jsx("label",{className:"block text-xs font-semibold uppercase tracking-wide text-slate-500 mb-2",children:e}),o.jsxs("button",{type:"button",onClick:()=>a(!i),className:"w-full rounded-lg border border-slate-300 bg-white px-3 py-2 text-left text-sm flex items-center justify-between hover:border-slate-400 transition-colors",children:[o.jsx("span",{className:n.length===0?"text-slate-400":"text-slate-900",children:n.length===0?s:n.length===1?n[0]:`${n.length} selected`}),o.jsx("svg",{className:`h-4 w-4 text-slate-400 transition-transform ${i?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),i&&o.jsxs("div",{className:"absolute z-50 mt-1 w-full rounded-lg border border-slate-300 bg-white shadow-lg",children:[o.jsx("div",{className:"border-b border-slate-200 p-2",children:o.jsx("input",{type:"text",value:l,onChange:p=>u(p.target.value),placeholder:"Search...",className:"w-full rounded border border-slate-300 px-2 py-1 text-sm focus:border-brand-500 focus:outline-none focus:ring-1 focus:ring-brand-500",onClick:p=>p.stopPropagation()})}),o.jsx("div",{className:"max-h-60 overflow-y-auto",children:h.length===0?o.jsx("div",{className:"px-3 py-2 text-sm text-slate-400",children:"No options found"}):o.jsx(o.Fragment,{children:h.map(p=>o.jsxs("label",{className:"flex items-center gap-2 px-3 py-2 hover:bg-slate-50 cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:n.includes(p),onChange:()=>f(p),className:"h-4 w-4 rounded border-slate-300 text-brand-600 focus:ring-brand-500"}),o.jsx("span",{className:"text-sm text-slate-700",children:p})]},p))})}),n.length>0&&o.jsx("div",{className:"border-t border-slate-200 p-2",children:o.jsxs("button",{type:"button",onClick:m,className:"w-full rounded bg-slate-100 px-3 py-1 text-sm font-medium text-slate-700 hover:bg-slate-200 transition-colors",children:["Clear all (",n.length,")"]})})]})]})}const wl={search:"",tags:[],company:[]},cg=50;function CA(){var C,M,R;const e=Zr(),t=pt(U=>U.profile),[n,r]=A.useState(wl),[s,i]=A.useState(wl),[a,l]=A.useState(1),[u,c]=A.useState(!0);A.useEffect(()=>{(!t||!t.id||t.id==="local-user"||!t.skills||t.skills.length===0)&&e("/knowledge-base")},[t,e]);const{data:h}=bu({queryKey:["user-preferences"],queryFn:N0,retry:!1}),f=h==null?void 0:h.preferences;f&&((C=f.confirmed_industries)!=null&&C.length||(M=f.confirmed_roles)!=null&&M.length||((R=f.confirmed_companies)==null||R.length));const{data:m}=bu({queryKey:["job-filters"],queryFn:u3}),{data:p,isLoading:b}=ME({search:s.search,tags:s.tags.join(","),company:s.company.join(","),page:a,pageSize:cg});A.useEffect(()=>{l(1)},[s]);const E=U=>{U.preventDefault(),i(n)},v=()=>{r(wl),i(wl),l(1)},g=A.useCallback(U=>{if(!f)return{matches:!1,reasons:[],matchCount:0};const B=f.confirmed_roles||[],$=f.confirmed_companies||[],Q=f.confirmed_industries||[],ie=new Set,be=B.some(w=>{const j=w.toLowerCase().includes(U.title.toLowerCase())||U.title.toLowerCase().includes(w.toLowerCase());return j&&ie.add(w),j}),se=$.some(w=>{const j=w.toLowerCase().includes(U.company.toLowerCase())||U.company.toLowerCase().includes(w.toLowerCase());return j&&ie.add(w),j}),_e=Q.some(w=>{const j=(U.requirements||[]).some(G=>w.toLowerCase().includes(G.toLowerCase())||G.toLowerCase().includes(w.toLowerCase()));return j&&ie.add(w),j}),we=Q.some(w=>{const j=w.toLowerCase().includes(U.industry.toLowerCase())||U.industry.toLowerCase().includes(w.toLowerCase());return j&&ie.add(w),j}),Y=Array.from(ie);return{matches:be||se||_e||we,reasons:Y,matchCount:Y.length}},[f]),y=(p==null?void 0:p.items)||[],x=(p==null?void 0:p.totalPages)||0,S=y.length?(a-1)*cg+1:0,P=y.length?S+y.length-1:0;return o.jsxs("div",{className:"mx-auto max-w-6xl px-6 py-12",children:[o.jsxs("div",{className:"mb-8",children:[o.jsx("h2",{className:"text-3xl font-semibold text-slate-900",children:"Browse Jobs"}),o.jsx("p",{className:"mt-2 text-sm text-slate-500",children:"Filter by keywords, company, or tags to find your perfect match."})]}),o.jsxs("form",{onSubmit:E,className:"grid gap-4 rounded-2xl border border-slate-200 bg-white p-6 shadow-card md:grid-cols-3",children:[o.jsxs("div",{className:"md:col-span-1",children:[o.jsx("label",{className:"block text-xs font-semibold uppercase tracking-wide text-slate-500",children:"Search"}),o.jsx("input",{type:"text",value:n.search,onChange:U=>r(B=>({...B,search:U.target.value})),placeholder:"e.g. data, product, fintech",className:"mt-2 w-full rounded-lg border border-slate-300 px-3 py-2 text-sm"})]}),o.jsx(ug,{label:"Company",options:(m==null?void 0:m.companies)||[],selected:n.company,onChange:U=>r(B=>({...B,company:U})),placeholder:"All companies"}),o.jsx(ug,{label:"Tags",options:(m==null?void 0:m.tags)||[],selected:n.tags,onChange:U=>r(B=>({...B,tags:U})),placeholder:"All tags"}),o.jsxs("div",{className:"flex items-end gap-3 md:col-span-3",children:[o.jsx("button",{type:"submit",className:"inline-flex items-center rounded-lg bg-brand-600 px-5 py-2 text-sm font-medium text-white shadow-sm transition hover:bg-brand-700",children:"Apply filters"}),o.jsx("button",{type:"button",onClick:v,className:"inline-flex items-center rounded-lg border border-slate-300 bg-white px-5 py-2 text-sm font-medium text-slate-700 shadow-sm transition hover:bg-slate-50",children:"Reset"})]})]}),o.jsxs("div",{className:"mt-10 grid gap-6",children:[b&&o.jsx("p",{className:"text-sm text-slate-500",children:"Loading results..."}),p&&p.items.length===0&&o.jsx(Iu,{title:"No jobs matched your filters",description:"Try widening your filters or updating your preferences in the Knowledge Base."}),y.map(U=>{const B=g(U);return o.jsxs("div",{className:"relative",children:[B.matches&&B.matchCount>0&&o.jsxs("div",{className:"mb-2 flex flex-wrap items-center gap-2 rounded-lg bg-gradient-to-r from-blue-50 to-indigo-50 border border-blue-200 px-4 py-2.5",children:[o.jsx(Au,{className:"h-4 w-4 text-blue-600"}),o.jsx("span",{className:"text-sm font-semibold text-blue-900",children:"Matches your interests:"}),B.reasons.map(($,Q)=>o.jsx("span",{className:"inline-flex items-center rounded-full bg-white border border-blue-200 px-3 py-1 text-xs font-medium text-blue-700 shadow-sm",children:$},Q))]}),o.jsx(jE,{job:U})]},U.id)})]}),p&&p.items.length>0&&x>1&&o.jsxs("div",{className:"mt-8 flex items-center justify-between border-t border-slate-200 pt-6",children:[o.jsxs("div",{className:"text-sm text-slate-600",children:["Showing ",S,"-",P," of ",p.total," results"]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("button",{type:"button",onClick:()=>l(U=>Math.max(1,U-1)),disabled:a===1,className:"inline-flex items-center rounded-lg border border-slate-300 bg-white px-3 py-2 text-sm font-medium text-slate-700 shadow-sm transition hover:bg-slate-50 disabled:opacity-50 disabled:cursor-not-allowed",children:[o.jsx("svg",{className:"h-4 w-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Previous"]}),o.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:Math.min(5,x)},(U,B)=>{let $;return x<=5||a<=3?$=B+1:a>=x-2?$=x-4+B:$=a-2+B,o.jsx("button",{type:"button",onClick:()=>l($),className:`inline-flex items-center justify-center rounded-lg px-3 py-2 text-sm font-medium transition min-w-[40px] ${a===$?"bg-brand-600 text-white shadow-sm":"border border-slate-300 bg-white text-slate-700 hover:bg-slate-50"}`,children:$},$)})}),o.jsxs("button",{type:"button",onClick:()=>l(U=>Math.min(x,U+1)),disabled:a===x,className:"inline-flex items-center rounded-lg border border-slate-300 bg-white px-3 py-2 text-sm font-medium text-slate-700 shadow-sm transition hover:bg-slate-50 disabled:opacity-50 disabled:cursor-not-allowed",children:["Next",o.jsx("svg",{className:"h-4 w-4 ml-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})]})]})}function dg(e){const t=[],n=String(e||"");let r=n.indexOf(","),s=0,i=!1;for(;!i;){r===-1&&(r=n.length,i=!0);const a=n.slice(s,r).trim();(a||!i)&&t.push(a),s=r+1,r=n.indexOf(",",s)}return t}function BE(e,t){const n={};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const AA=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,IA=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,OA={};function hg(e,t){return(OA.jsx?IA:AA).test(e)}const RA=/[ \t\n\f\r]/g;function PA(e){return typeof e=="object"?e.type==="text"?fg(e.value):!1:fg(e)}function fg(e){return e.replace(RA,"")===""}let Mo=class{constructor(t,n,r){this.normal=n,this.property=t,r&&(this.space=r)}};Mo.prototype.normal={};Mo.prototype.property={};Mo.prototype.space=void 0;function FE(e,t){const n={},r={};for(const s of e)Object.assign(n,s.property),Object.assign(r,s.normal);return new Mo(n,r,t)}function vo(e){return e.toLowerCase()}let Wt=class{constructor(t,n){this.attribute=n,this.property=t}};Wt.prototype.attribute="";Wt.prototype.booleanish=!1;Wt.prototype.boolean=!1;Wt.prototype.commaOrSpaceSeparated=!1;Wt.prototype.commaSeparated=!1;Wt.prototype.defined=!1;Wt.prototype.mustUseProperty=!1;Wt.prototype.number=!1;Wt.prototype.overloadedBoolean=!1;Wt.prototype.property="";Wt.prototype.spaceSeparated=!1;Wt.prototype.space=void 0;let LA=0;const he=Fs(),Ke=Fs(),Qh=Fs(),V=Fs(),Ae=Fs(),bi=Fs(),qt=Fs();function Fs(){return 2**++LA}const Xh=Object.freeze(Object.defineProperty({__proto__:null,boolean:he,booleanish:Ke,commaOrSpaceSeparated:qt,commaSeparated:bi,number:V,overloadedBoolean:Qh,spaceSeparated:Ae},Symbol.toStringTag,{value:"Module"})),ld=Object.keys(Xh);let A0=class extends Wt{constructor(t,n,r,s){let i=-1;if(super(t,n),pg(this,"space",s),typeof r=="number")for(;++i<ld.length;){const a=ld[i];pg(this,ld[i],(r&Xh[a])===Xh[a])}}};A0.prototype.defined=!0;function pg(e,t,n){n&&(e[t]=n)}function ea(e){const t={},n={};for(const[r,s]of Object.entries(e.properties)){const i=new A0(r,e.transform(e.attributes||{},r),s,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(i.mustUseProperty=!0),t[r]=i,n[vo(r)]=r,n[vo(i.attribute)]=r}return new Mo(t,n,e.space)}const UE=ea({properties:{ariaActiveDescendant:null,ariaAtomic:Ke,ariaAutoComplete:null,ariaBusy:Ke,ariaChecked:Ke,ariaColCount:V,ariaColIndex:V,ariaColSpan:V,ariaControls:Ae,ariaCurrent:null,ariaDescribedBy:Ae,ariaDetails:null,ariaDisabled:Ke,ariaDropEffect:Ae,ariaErrorMessage:null,ariaExpanded:Ke,ariaFlowTo:Ae,ariaGrabbed:Ke,ariaHasPopup:null,ariaHidden:Ke,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Ae,ariaLevel:V,ariaLive:null,ariaModal:Ke,ariaMultiLine:Ke,ariaMultiSelectable:Ke,ariaOrientation:null,ariaOwns:Ae,ariaPlaceholder:null,ariaPosInSet:V,ariaPressed:Ke,ariaReadOnly:Ke,ariaRelevant:null,ariaRequired:Ke,ariaRoleDescription:Ae,ariaRowCount:V,ariaRowIndex:V,ariaRowSpan:V,ariaSelected:Ke,ariaSetSize:V,ariaSort:null,ariaValueMax:V,ariaValueMin:V,ariaValueNow:V,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function HE(e,t){return t in e?e[t]:t}function $E(e,t){return HE(e,t.toLowerCase())}const jA=ea({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:bi,acceptCharset:Ae,accessKey:Ae,action:null,allow:null,allowFullScreen:he,allowPaymentRequest:he,allowUserMedia:he,alt:null,as:null,async:he,autoCapitalize:null,autoComplete:Ae,autoFocus:he,autoPlay:he,blocking:Ae,capture:null,charSet:null,checked:he,cite:null,className:Ae,cols:V,colSpan:null,content:null,contentEditable:Ke,controls:he,controlsList:Ae,coords:V|bi,crossOrigin:null,data:null,dateTime:null,decoding:null,default:he,defer:he,dir:null,dirName:null,disabled:he,download:Qh,draggable:Ke,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:he,formTarget:null,headers:Ae,height:V,hidden:Qh,high:V,href:null,hrefLang:null,htmlFor:Ae,httpEquiv:Ae,id:null,imageSizes:null,imageSrcSet:null,inert:he,inputMode:null,integrity:null,is:null,isMap:he,itemId:null,itemProp:Ae,itemRef:Ae,itemScope:he,itemType:Ae,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:he,low:V,manifest:null,max:null,maxLength:V,media:null,method:null,min:null,minLength:V,multiple:he,muted:he,name:null,nonce:null,noModule:he,noValidate:he,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:he,optimum:V,pattern:null,ping:Ae,placeholder:null,playsInline:he,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:he,referrerPolicy:null,rel:Ae,required:he,reversed:he,rows:V,rowSpan:V,sandbox:Ae,scope:null,scoped:he,seamless:he,selected:he,shadowRootClonable:he,shadowRootDelegatesFocus:he,shadowRootMode:null,shape:null,size:V,sizes:null,slot:null,span:V,spellCheck:Ke,src:null,srcDoc:null,srcLang:null,srcSet:null,start:V,step:null,style:null,tabIndex:V,target:null,title:null,translate:null,type:null,typeMustMatch:he,useMap:null,value:Ke,width:V,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Ae,axis:null,background:null,bgColor:null,border:V,borderColor:null,bottomMargin:V,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:he,declare:he,event:null,face:null,frame:null,frameBorder:null,hSpace:V,leftMargin:V,link:null,longDesc:null,lowSrc:null,marginHeight:V,marginWidth:V,noResize:he,noHref:he,noShade:he,noWrap:he,object:null,profile:null,prompt:null,rev:null,rightMargin:V,rules:null,scheme:null,scrolling:Ke,standby:null,summary:null,text:null,topMargin:V,valueType:null,version:null,vAlign:null,vLink:null,vSpace:V,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:he,disableRemotePlayback:he,prefix:null,property:null,results:V,security:null,unselectable:null},space:"html",transform:$E}),DA=ea({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:qt,accentHeight:V,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:V,amplitude:V,arabicForm:null,ascent:V,attributeName:null,attributeType:null,azimuth:V,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:V,by:null,calcMode:null,capHeight:V,className:Ae,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:V,diffuseConstant:V,direction:null,display:null,dur:null,divisor:V,dominantBaseline:null,download:he,dx:null,dy:null,edgeMode:null,editable:null,elevation:V,enableBackground:null,end:null,event:null,exponent:V,externalResourcesRequired:null,fill:null,fillOpacity:V,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:bi,g2:bi,glyphName:bi,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:V,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:V,horizOriginX:V,horizOriginY:V,id:null,ideographic:V,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:V,k:V,k1:V,k2:V,k3:V,k4:V,kernelMatrix:qt,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:V,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:V,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:V,overlineThickness:V,paintOrder:null,panose1:null,path:null,pathLength:V,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Ae,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:V,pointsAtY:V,pointsAtZ:V,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:qt,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:qt,rev:qt,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:qt,requiredFeatures:qt,requiredFonts:qt,requiredFormats:qt,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:V,specularExponent:V,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:V,strikethroughThickness:V,string:null,stroke:null,strokeDashArray:qt,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:V,strokeOpacity:V,strokeWidth:null,style:null,surfaceScale:V,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:qt,tabIndex:V,tableValues:null,target:null,targetX:V,targetY:V,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:qt,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:V,underlineThickness:V,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:V,values:null,vAlphabetic:V,vMathematical:V,vectorEffect:null,vHanging:V,vIdeographic:V,version:null,vertAdvY:V,vertOriginX:V,vertOriginY:V,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:V,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:HE}),zE=ea({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),WE=ea({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:$E}),VE=ea({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),MA={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},BA=/[A-Z]/g,mg=/-[a-z]/g,FA=/^data[-\w.:]+$/i;function I0(e,t){const n=vo(t);let r=t,s=Wt;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&FA.test(t)){if(t.charAt(4)==="-"){const i=t.slice(5).replace(mg,HA);r="data"+i.charAt(0).toUpperCase()+i.slice(1)}else{const i=t.slice(4);if(!mg.test(i)){let a=i.replace(BA,UA);a.charAt(0)!=="-"&&(a="-"+a),t="data"+a}}s=A0}return new s(r,t)}function UA(e){return"-"+e.toLowerCase()}function HA(e){return e.charAt(1).toUpperCase()}const ac=FE([UE,jA,zE,WE,VE],"html"),ta=FE([UE,DA,zE,WE,VE],"svg");function gg(e){const t=String(e||"").trim();return t?t.split(/[ \t\n\r\f]+/g):[]}function qE(e){return e.join(" ").trim()}var O0={},yg=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,$A=/\n/g,zA=/^\s*/,WA=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,VA=/^:\s*/,qA=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,YA=/^[;\s]*/,GA=/^\s+|\s+$/g,KA=`
`,xg="/",bg="*",cs="",QA="comment",XA="declaration";function JA(e,t){if(typeof e!="string")throw new TypeError("First argument must be a string");if(!e)return[];t=t||{};var n=1,r=1;function s(b){var E=b.match($A);E&&(n+=E.length);var v=b.lastIndexOf(KA);r=~v?b.length-v:r+b.length}function i(){var b={line:n,column:r};return function(E){return E.position=new a(b),c(),E}}function a(b){this.start=b,this.end={line:n,column:r},this.source=t.source}a.prototype.content=e;function l(b){var E=new Error(t.source+":"+n+":"+r+": "+b);if(E.reason=b,E.filename=t.source,E.line=n,E.column=r,E.source=e,!t.silent)throw E}function u(b){var E=b.exec(e);if(E){var v=E[0];return s(v),e=e.slice(v.length),E}}function c(){u(zA)}function h(b){var E;for(b=b||[];E=f();)E!==!1&&b.push(E);return b}function f(){var b=i();if(!(xg!=e.charAt(0)||bg!=e.charAt(1))){for(var E=2;cs!=e.charAt(E)&&(bg!=e.charAt(E)||xg!=e.charAt(E+1));)++E;if(E+=2,cs===e.charAt(E-1))return l("End of comment missing");var v=e.slice(2,E-2);return r+=2,s(v),e=e.slice(E),r+=2,b({type:QA,comment:v})}}function m(){var b=i(),E=u(WA);if(E){if(f(),!u(VA))return l("property missing ':'");var v=u(qA),g=b({type:XA,property:Eg(E[0].replace(yg,cs)),value:v?Eg(v[0].replace(yg,cs)):cs});return u(YA),g}}function p(){var b=[];h(b);for(var E;E=m();)E!==!1&&(b.push(E),h(b));return b}return c(),p()}function Eg(e){return e?e.replace(GA,cs):cs}var ZA=JA,e6=Yl&&Yl.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(O0,"__esModule",{value:!0});O0.default=n6;const t6=e6(ZA);function n6(e,t){let n=null;if(!e||typeof e!="string")return n;const r=(0,t6.default)(e),s=typeof t=="function";return r.forEach(i=>{if(i.type!=="declaration")return;const{property:a,value:l}=i;s?t(a,l,i):l&&(n=n||{},n[a]=l)}),n}var oc={};Object.defineProperty(oc,"__esModule",{value:!0});oc.camelCase=void 0;var r6=/^--[a-zA-Z0-9_-]+$/,s6=/-([a-z])/g,i6=/^[^-]+$/,a6=/^-(webkit|moz|ms|o|khtml)-/,o6=/^-(ms)-/,l6=function(e){return!e||i6.test(e)||r6.test(e)},u6=function(e,t){return t.toUpperCase()},vg=function(e,t){return"".concat(t,"-")},c6=function(e,t){return t===void 0&&(t={}),l6(e)?e:(e=e.toLowerCase(),t.reactCompat?e=e.replace(o6,vg):e=e.replace(a6,vg),e.replace(s6,u6))};oc.camelCase=c6;var d6=Yl&&Yl.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},h6=d6(O0),f6=oc;function Jh(e,t){var n={};return!e||typeof e!="string"||(0,h6.default)(e,function(r,s){r&&s&&(n[(0,f6.camelCase)(r,t)]=s)}),n}Jh.default=Jh;var p6=Jh;const m6=ju(p6),lc=YE("end"),Wn=YE("start");function YE(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function g6(e){const t=Wn(e),n=lc(e);if(t&&n)return{start:t,end:n}}function $a(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?_g(e.position):"start"in e||"end"in e?_g(e):"line"in e||"column"in e?Zh(e):""}function Zh(e){return Tg(e&&e.line)+":"+Tg(e&&e.column)}function _g(e){return Zh(e&&e.start)+"-"+Zh(e&&e.end)}function Tg(e){return e&&typeof e=="number"?e:1}class wt extends Error{constructor(t,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let s="",i={},a=!1;if(n&&("line"in n&&"column"in n?i={place:n}:"start"in n&&"end"in n?i={place:n}:"type"in n?i={ancestors:[n],place:n.position}:i={...n}),typeof t=="string"?s=t:!i.cause&&t&&(a=!0,s=t.message,i.cause=t),!i.ruleId&&!i.source&&typeof r=="string"){const u=r.indexOf(":");u===-1?i.ruleId=r:(i.source=r.slice(0,u),i.ruleId=r.slice(u+1))}if(!i.place&&i.ancestors&&i.ancestors){const u=i.ancestors[i.ancestors.length-1];u&&(i.place=u.position)}const l=i.place&&"start"in i.place?i.place.start:i.place;this.ancestors=i.ancestors||void 0,this.cause=i.cause||void 0,this.column=l?l.column:void 0,this.fatal=void 0,this.file="",this.message=s,this.line=l?l.line:void 0,this.name=$a(i.place)||"1:1",this.place=i.place||void 0,this.reason=this.message,this.ruleId=i.ruleId||void 0,this.source=i.source||void 0,this.stack=a&&i.cause&&typeof i.cause.stack=="string"?i.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}wt.prototype.file="";wt.prototype.name="";wt.prototype.reason="";wt.prototype.message="";wt.prototype.stack="";wt.prototype.column=void 0;wt.prototype.line=void 0;wt.prototype.ancestors=void 0;wt.prototype.cause=void 0;wt.prototype.fatal=void 0;wt.prototype.place=void 0;wt.prototype.ruleId=void 0;wt.prototype.source=void 0;const R0={}.hasOwnProperty,y6=new Map,x6=/[A-Z]/g,b6=new Set(["table","tbody","thead","tfoot","tr"]),E6=new Set(["td","th"]),GE="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function v6(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let r;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=A6(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=C6(n,t.jsx,t.jsxs)}const s={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?ta:ac,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},i=KE(s,e,void 0);return i&&typeof i!="string"?i:s.create(e,s.Fragment,{children:i||void 0},void 0)}function KE(e,t,n){if(t.type==="element")return _6(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return T6(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return S6(e,t,n);if(t.type==="mdxjsEsm")return w6(e,t);if(t.type==="root")return N6(e,t,n);if(t.type==="text")return k6(e,t)}function _6(e,t,n){const r=e.schema;let s=r;t.tagName.toLowerCase()==="svg"&&r.space==="html"&&(s=ta,e.schema=s),e.ancestors.push(t);const i=XE(e,t.tagName,!1),a=I6(e,t);let l=L0(e,t);return b6.has(t.tagName)&&(l=l.filter(function(u){return typeof u=="string"?!PA(u):!0})),QE(e,a,i,t),P0(a,l),e.ancestors.pop(),e.schema=r,e.create(t,i,a,n)}function T6(e,t){if(t.data&&t.data.estree&&e.evaluater){const r=t.data.estree.body[0];return r.type,e.evaluater.evaluateExpression(r.expression)}_o(e,t.position)}function w6(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);_o(e,t.position)}function S6(e,t,n){const r=e.schema;let s=r;t.name==="svg"&&r.space==="html"&&(s=ta,e.schema=s),e.ancestors.push(t);const i=t.name===null?e.Fragment:XE(e,t.name,!0),a=O6(e,t),l=L0(e,t);return QE(e,a,i,t),P0(a,l),e.ancestors.pop(),e.schema=r,e.create(t,i,a,n)}function N6(e,t,n){const r={};return P0(r,L0(e,t)),e.create(t,e.Fragment,r,n)}function k6(e,t){return t.value}function QE(e,t,n,r){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=r)}function P0(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function C6(e,t,n){return r;function r(s,i,a,l){const c=Array.isArray(a.children)?n:t;return l?c(i,a,l):c(i,a)}}function A6(e,t){return n;function n(r,s,i,a){const l=Array.isArray(i.children),u=Wn(r);return t(s,i,a,l,{columnNumber:u?u.column-1:void 0,fileName:e,lineNumber:u?u.line:void 0},void 0)}}function I6(e,t){const n={};let r,s;for(s in t.properties)if(s!=="children"&&R0.call(t.properties,s)){const i=R6(e,s,t.properties[s]);if(i){const[a,l]=i;e.tableCellAlignToStyle&&a==="align"&&typeof l=="string"&&E6.has(t.tagName)?r=l:n[a]=l}}if(r){const i=n.style||(n.style={});i[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function O6(e,t){const n={};for(const r of t.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&e.evaluater){const i=r.data.estree.body[0];i.type;const a=i.expression;a.type;const l=a.properties[0];l.type,Object.assign(n,e.evaluater.evaluateExpression(l.argument))}else _o(e,t.position);else{const s=r.name;let i;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&e.evaluater){const l=r.value.data.estree.body[0];l.type,i=e.evaluater.evaluateExpression(l.expression)}else _o(e,t.position);else i=r.value===null?!0:r.value;n[s]=i}return n}function L0(e,t){const n=[];let r=-1;const s=e.passKeys?new Map:y6;for(;++r<t.children.length;){const i=t.children[r];let a;if(e.passKeys){const u=i.type==="element"?i.tagName:i.type==="mdxJsxFlowElement"||i.type==="mdxJsxTextElement"?i.name:void 0;if(u){const c=s.get(u)||0;a=u+"-"+c,s.set(u,c+1)}}const l=KE(e,i,a);l!==void 0&&n.push(l)}return n}function R6(e,t,n){const r=I0(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?BE(n):qE(n)),r.property==="style"){let s=typeof n=="object"?n:P6(e,String(n));return e.stylePropertyNameCase==="css"&&(s=L6(s)),["style",s]}return[e.elementAttributeNameCase==="react"&&r.space?MA[r.property]||r.property:r.attribute,n]}}function P6(e,t){try{return m6(t,{reactCompat:!0})}catch(n){if(e.ignoreInvalidStyle)return{};const r=n,s=new wt("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw s.file=e.filePath||void 0,s.url=GE+"#cannot-parse-style-attribute",s}}function XE(e,t,n){let r;if(!n)r={type:"Literal",value:t};else if(t.includes(".")){const s=t.split(".");let i=-1,a;for(;++i<s.length;){const l=hg(s[i])?{type:"Identifier",name:s[i]}:{type:"Literal",value:s[i]};a=a?{type:"MemberExpression",object:a,property:l,computed:!!(i&&l.type==="Literal"),optional:!1}:l}r=a}else r=hg(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(r.type==="Literal"){const s=r.value;return R0.call(e.components,s)?e.components[s]:s}if(e.evaluater)return e.evaluater.evaluateExpression(r);_o(e)}function _o(e,t){const n=new wt("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=GE+"#cannot-handle-mdx-estrees-without-createevaluater",n}function L6(e){const t={};let n;for(n in e)R0.call(e,n)&&(t[j6(n)]=e[n]);return t}function j6(e){let t=e.replace(x6,D6);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function D6(e){return"-"+e.toLowerCase()}const ud={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},M6={};function B6(e,t){const n=M6,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,s=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return JE(e,r,s)}function JE(e,t,n){if(F6(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return wg(e.children,t,n)}return Array.isArray(e)?wg(e,t,n):""}function wg(e,t,n){const r=[];let s=-1;for(;++s<e.length;)r[s]=JE(e[s],t,n);return r.join("")}function F6(e){return!!(e&&typeof e=="object")}const Sg=document.createElement("i");function j0(e){const t="&"+e+";";Sg.innerHTML=t;const n=Sg.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function zn(e,t,n,r){const s=e.length;let i=0,a;if(t<0?t=-t>s?0:s+t:t=t>s?s:t,n=n>0?n:0,r.length<1e4)a=Array.from(r),a.unshift(t,n),e.splice(...a);else for(n&&e.splice(t,n);i<r.length;)a=r.slice(i,i+1e4),a.unshift(t,0),e.splice(...a),i+=1e4,t+=1e4}function un(e,t){return e.length>0?(zn(e,e.length,0,t),e):t}const Ng={}.hasOwnProperty;function U6(e){const t={};let n=-1;for(;++n<e.length;)H6(t,e[n]);return t}function H6(e,t){let n;for(n in t){const s=(Ng.call(e,n)?e[n]:void 0)||(e[n]={}),i=t[n];let a;if(i)for(a in i){Ng.call(s,a)||(s[a]=[]);const l=i[a];$6(s[a],Array.isArray(l)?l:l?[l]:[])}}}function $6(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);zn(e,0,0,r)}function ZE(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function Ei(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Fn=ns(/[A-Za-z]/),Jt=ns(/[\dA-Za-z]/),z6=ns(/[#-'*+\--9=?A-Z^-~]/);function ef(e){return e!==null&&(e<32||e===127)}const tf=ns(/\d/),W6=ns(/[\dA-Fa-f]/),V6=ns(/[!-/:-@[-`{-~]/);function oe(e){return e!==null&&e<-2}function zt(e){return e!==null&&(e<0||e===32)}function Te(e){return e===-2||e===-1||e===32}const q6=ns(new RegExp("\\p{P}|\\p{S}","u")),Y6=ns(/\s/);function ns(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function na(e){const t=[];let n=-1,r=0,s=0;for(;++n<e.length;){const i=e.charCodeAt(n);let a="";if(i===37&&Jt(e.charCodeAt(n+1))&&Jt(e.charCodeAt(n+2)))s=2;else if(i<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(i))||(a=String.fromCharCode(i));else if(i>55295&&i<57344){const l=e.charCodeAt(n+1);i<56320&&l>56319&&l<57344?(a=String.fromCharCode(i,l),s=1):a=""}else a=String.fromCharCode(i);a&&(t.push(e.slice(r,n),encodeURIComponent(a)),r=n+s+1,a=""),s&&(n+=s,s=0)}return t.join("")+e.slice(r)}function Re(e,t,n,r){const s=r?r-1:Number.POSITIVE_INFINITY;let i=0;return a;function a(u){return Te(u)?(e.enter(n),l(u)):t(u)}function l(u){return Te(u)&&i++<s?(e.consume(u),l):(e.exit(n),t(u))}}const G6={tokenize:K6};function K6(e){const t=e.attempt(this.parser.constructs.contentInitial,r,s);let n;return t;function r(l){if(l===null){e.consume(l);return}return e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),Re(e,t,"linePrefix")}function s(l){return e.enter("paragraph"),i(l)}function i(l){const u=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=u),n=u,a(l)}function a(l){if(l===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(l);return}return oe(l)?(e.consume(l),e.exit("chunkText"),i):(e.consume(l),a)}}const Q6={tokenize:X6},kg={tokenize:J6};function X6(e){const t=this,n=[];let r=0,s,i,a;return l;function l(x){if(r<n.length){const S=n[r];return t.containerState=S[1],e.attempt(S[0].continuation,u,c)(x)}return c(x)}function u(x){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,s&&y();const S=t.events.length;let P=S,C;for(;P--;)if(t.events[P][0]==="exit"&&t.events[P][1].type==="chunkFlow"){C=t.events[P][1].end;break}g(r);let M=S;for(;M<t.events.length;)t.events[M][1].end={...C},M++;return zn(t.events,P+1,0,t.events.slice(S)),t.events.length=M,c(x)}return l(x)}function c(x){if(r===n.length){if(!s)return m(x);if(s.currentConstruct&&s.currentConstruct.concrete)return b(x);t.interrupt=!!(s.currentConstruct&&!s._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(kg,h,f)(x)}function h(x){return s&&y(),g(r),m(x)}function f(x){return t.parser.lazy[t.now().line]=r!==n.length,a=t.now().offset,b(x)}function m(x){return t.containerState={},e.attempt(kg,p,b)(x)}function p(x){return r++,n.push([t.currentConstruct,t.containerState]),m(x)}function b(x){if(x===null){s&&y(),g(0),e.consume(x);return}return s=s||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:s,contentType:"flow",previous:i}),E(x)}function E(x){if(x===null){v(e.exit("chunkFlow"),!0),g(0),e.consume(x);return}return oe(x)?(e.consume(x),v(e.exit("chunkFlow")),r=0,t.interrupt=void 0,l):(e.consume(x),E)}function v(x,S){const P=t.sliceStream(x);if(S&&P.push(null),x.previous=i,i&&(i.next=x),i=x,s.defineSkip(x.start),s.write(P),t.parser.lazy[x.start.line]){let C=s.events.length;for(;C--;)if(s.events[C][1].start.offset<a&&(!s.events[C][1].end||s.events[C][1].end.offset>a))return;const M=t.events.length;let R=M,U,B;for(;R--;)if(t.events[R][0]==="exit"&&t.events[R][1].type==="chunkFlow"){if(U){B=t.events[R][1].end;break}U=!0}for(g(r),C=M;C<t.events.length;)t.events[C][1].end={...B},C++;zn(t.events,R+1,0,t.events.slice(M)),t.events.length=C}}function g(x){let S=n.length;for(;S-- >x;){const P=n[S];t.containerState=P[1],P[0].exit.call(t,e)}n.length=x}function y(){s.write([null]),i=void 0,s=void 0,t.containerState._closeFlow=void 0}}function J6(e,t,n){return Re(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function Cg(e){if(e===null||zt(e)||Y6(e))return 1;if(q6(e))return 2}function D0(e,t,n){const r=[];let s=-1;for(;++s<e.length;){const i=e[s].resolveAll;i&&!r.includes(i)&&(t=i(t,n),r.push(i))}return t}const nf={name:"attention",resolveAll:Z6,tokenize:e4};function Z6(e,t){let n=-1,r,s,i,a,l,u,c,h;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;u=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const f={...e[r][1].end},m={...e[n][1].start};Ag(f,-u),Ag(m,u),a={type:u>1?"strongSequence":"emphasisSequence",start:f,end:{...e[r][1].end}},l={type:u>1?"strongSequence":"emphasisSequence",start:{...e[n][1].start},end:m},i={type:u>1?"strongText":"emphasisText",start:{...e[r][1].end},end:{...e[n][1].start}},s={type:u>1?"strong":"emphasis",start:{...a.start},end:{...l.end}},e[r][1].end={...a.start},e[n][1].start={...l.end},c=[],e[r][1].end.offset-e[r][1].start.offset&&(c=un(c,[["enter",e[r][1],t],["exit",e[r][1],t]])),c=un(c,[["enter",s,t],["enter",a,t],["exit",a,t],["enter",i,t]]),c=un(c,D0(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),c=un(c,[["exit",i,t],["enter",l,t],["exit",l,t],["exit",s,t]]),e[n][1].end.offset-e[n][1].start.offset?(h=2,c=un(c,[["enter",e[n][1],t],["exit",e[n][1],t]])):h=0,zn(e,r-1,n-r+3,c),n=r+c.length-h-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function e4(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,s=Cg(r);let i;return a;function a(u){return i=u,e.enter("attentionSequence"),l(u)}function l(u){if(u===i)return e.consume(u),l;const c=e.exit("attentionSequence"),h=Cg(u),f=!h||h===2&&s||n.includes(u),m=!s||s===2&&h||n.includes(r);return c._open=!!(i===42?f:f&&(s||!m)),c._close=!!(i===42?m:m&&(h||!f)),t(u)}}function Ag(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const t4={name:"autolink",tokenize:n4};function n4(e,t,n){let r=0;return s;function s(p){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(p),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),i}function i(p){return Fn(p)?(e.consume(p),a):p===64?n(p):c(p)}function a(p){return p===43||p===45||p===46||Jt(p)?(r=1,l(p)):c(p)}function l(p){return p===58?(e.consume(p),r=0,u):(p===43||p===45||p===46||Jt(p))&&r++<32?(e.consume(p),l):(r=0,c(p))}function u(p){return p===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(p),e.exit("autolinkMarker"),e.exit("autolink"),t):p===null||p===32||p===60||ef(p)?n(p):(e.consume(p),u)}function c(p){return p===64?(e.consume(p),h):z6(p)?(e.consume(p),c):n(p)}function h(p){return Jt(p)?f(p):n(p)}function f(p){return p===46?(e.consume(p),r=0,h):p===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(p),e.exit("autolinkMarker"),e.exit("autolink"),t):m(p)}function m(p){if((p===45||Jt(p))&&r++<63){const b=p===45?m:f;return e.consume(p),b}return n(p)}}const uc={partial:!0,tokenize:r4};function r4(e,t,n){return r;function r(i){return Te(i)?Re(e,s,"linePrefix")(i):s(i)}function s(i){return i===null||oe(i)?t(i):n(i)}}const e2={continuation:{tokenize:i4},exit:a4,name:"blockQuote",tokenize:s4};function s4(e,t,n){const r=this;return s;function s(a){if(a===62){const l=r.containerState;return l.open||(e.enter("blockQuote",{_container:!0}),l.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(a),e.exit("blockQuoteMarker"),i}return n(a)}function i(a){return Te(a)?(e.enter("blockQuotePrefixWhitespace"),e.consume(a),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(a))}}function i4(e,t,n){const r=this;return s;function s(a){return Te(a)?Re(e,i,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a):i(a)}function i(a){return e.attempt(e2,t,n)(a)}}function a4(e){e.exit("blockQuote")}const t2={name:"characterEscape",tokenize:o4};function o4(e,t,n){return r;function r(i){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(i),e.exit("escapeMarker"),s}function s(i){return V6(i)?(e.enter("characterEscapeValue"),e.consume(i),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(i)}}const n2={name:"characterReference",tokenize:l4};function l4(e,t,n){const r=this;let s=0,i,a;return l;function l(f){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(f),e.exit("characterReferenceMarker"),u}function u(f){return f===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(f),e.exit("characterReferenceMarkerNumeric"),c):(e.enter("characterReferenceValue"),i=31,a=Jt,h(f))}function c(f){return f===88||f===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(f),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),i=6,a=W6,h):(e.enter("characterReferenceValue"),i=7,a=tf,h(f))}function h(f){if(f===59&&s){const m=e.exit("characterReferenceValue");return a===Jt&&!j0(r.sliceSerialize(m))?n(f):(e.enter("characterReferenceMarker"),e.consume(f),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return a(f)&&s++<i?(e.consume(f),h):n(f)}}const Ig={partial:!0,tokenize:c4},Og={concrete:!0,name:"codeFenced",tokenize:u4};function u4(e,t,n){const r=this,s={partial:!0,tokenize:P};let i=0,a=0,l;return u;function u(C){return c(C)}function c(C){const M=r.events[r.events.length-1];return i=M&&M[1].type==="linePrefix"?M[2].sliceSerialize(M[1],!0).length:0,l=C,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),h(C)}function h(C){return C===l?(a++,e.consume(C),h):a<3?n(C):(e.exit("codeFencedFenceSequence"),Te(C)?Re(e,f,"whitespace")(C):f(C))}function f(C){return C===null||oe(C)?(e.exit("codeFencedFence"),r.interrupt?t(C):e.check(Ig,E,S)(C)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),m(C))}function m(C){return C===null||oe(C)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),f(C)):Te(C)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),Re(e,p,"whitespace")(C)):C===96&&C===l?n(C):(e.consume(C),m)}function p(C){return C===null||oe(C)?f(C):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),b(C))}function b(C){return C===null||oe(C)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),f(C)):C===96&&C===l?n(C):(e.consume(C),b)}function E(C){return e.attempt(s,S,v)(C)}function v(C){return e.enter("lineEnding"),e.consume(C),e.exit("lineEnding"),g}function g(C){return i>0&&Te(C)?Re(e,y,"linePrefix",i+1)(C):y(C)}function y(C){return C===null||oe(C)?e.check(Ig,E,S)(C):(e.enter("codeFlowValue"),x(C))}function x(C){return C===null||oe(C)?(e.exit("codeFlowValue"),y(C)):(e.consume(C),x)}function S(C){return e.exit("codeFenced"),t(C)}function P(C,M,R){let U=0;return B;function B(se){return C.enter("lineEnding"),C.consume(se),C.exit("lineEnding"),$}function $(se){return C.enter("codeFencedFence"),Te(se)?Re(C,Q,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(se):Q(se)}function Q(se){return se===l?(C.enter("codeFencedFenceSequence"),ie(se)):R(se)}function ie(se){return se===l?(U++,C.consume(se),ie):U>=a?(C.exit("codeFencedFenceSequence"),Te(se)?Re(C,be,"whitespace")(se):be(se)):R(se)}function be(se){return se===null||oe(se)?(C.exit("codeFencedFence"),M(se)):R(se)}}}function c4(e,t,n){const r=this;return s;function s(a){return a===null?n(a):(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),i)}function i(a){return r.parser.lazy[r.now().line]?n(a):t(a)}}const cd={name:"codeIndented",tokenize:h4},d4={partial:!0,tokenize:f4};function h4(e,t,n){const r=this;return s;function s(c){return e.enter("codeIndented"),Re(e,i,"linePrefix",5)(c)}function i(c){const h=r.events[r.events.length-1];return h&&h[1].type==="linePrefix"&&h[2].sliceSerialize(h[1],!0).length>=4?a(c):n(c)}function a(c){return c===null?u(c):oe(c)?e.attempt(d4,a,u)(c):(e.enter("codeFlowValue"),l(c))}function l(c){return c===null||oe(c)?(e.exit("codeFlowValue"),a(c)):(e.consume(c),l)}function u(c){return e.exit("codeIndented"),t(c)}}function f4(e,t,n){const r=this;return s;function s(a){return r.parser.lazy[r.now().line]?n(a):oe(a)?(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),s):Re(e,i,"linePrefix",5)(a)}function i(a){const l=r.events[r.events.length-1];return l&&l[1].type==="linePrefix"&&l[2].sliceSerialize(l[1],!0).length>=4?t(a):oe(a)?s(a):n(a)}}const p4={name:"codeText",previous:g4,resolve:m4,tokenize:y4};function m4(e){let t=e.length-4,n=3,r,s;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)s===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(s=r):(r===t||e[r][1].type==="lineEnding")&&(e[s][1].type="codeTextData",r!==s+2&&(e[s][1].end=e[r-1][1].end,e.splice(s+2,r-s-2),t-=r-s-2,r=s+2),s=void 0);return e}function g4(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function y4(e,t,n){let r=0,s,i;return a;function a(f){return e.enter("codeText"),e.enter("codeTextSequence"),l(f)}function l(f){return f===96?(e.consume(f),r++,l):(e.exit("codeTextSequence"),u(f))}function u(f){return f===null?n(f):f===32?(e.enter("space"),e.consume(f),e.exit("space"),u):f===96?(i=e.enter("codeTextSequence"),s=0,h(f)):oe(f)?(e.enter("lineEnding"),e.consume(f),e.exit("lineEnding"),u):(e.enter("codeTextData"),c(f))}function c(f){return f===null||f===32||f===96||oe(f)?(e.exit("codeTextData"),u(f)):(e.consume(f),c)}function h(f){return f===96?(e.consume(f),s++,h):s===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(f)):(i.type="codeTextData",c(f))}}class x4{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,n,r){const s=n||0;this.setCursor(Math.trunc(t));const i=this.right.splice(this.right.length-s,Number.POSITIVE_INFINITY);return r&&ya(this.left,r),i.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),ya(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),ya(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);ya(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);ya(this.left,n.reverse())}}}function ya(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function r2(e){const t={};let n=-1,r,s,i,a,l,u,c;const h=new x4(e);for(;++n<h.length;){for(;n in t;)n=t[n];if(r=h.get(n),n&&r[1].type==="chunkFlow"&&h.get(n-1)[1].type==="listItemPrefix"&&(u=r[1]._tokenizer.events,i=0,i<u.length&&u[i][1].type==="lineEndingBlank"&&(i+=2),i<u.length&&u[i][1].type==="content"))for(;++i<u.length&&u[i][1].type!=="content";)u[i][1].type==="chunkText"&&(u[i][1]._isInFirstContentOfListItem=!0,i++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,b4(h,n)),n=t[n],c=!0);else if(r[1]._container){for(i=n,s=void 0;i--;)if(a=h.get(i),a[1].type==="lineEnding"||a[1].type==="lineEndingBlank")a[0]==="enter"&&(s&&(h.get(s)[1].type="lineEndingBlank"),a[1].type="lineEnding",s=i);else if(!(a[1].type==="linePrefix"||a[1].type==="listItemIndent"))break;s&&(r[1].end={...h.get(s)[1].start},l=h.slice(s,n),l.unshift(r),h.splice(s,n-s+1,l))}}return zn(e,0,Number.POSITIVE_INFINITY,h.slice(0)),!c}function b4(e,t){const n=e.get(t)[1],r=e.get(t)[2];let s=t-1;const i=[];let a=n._tokenizer;a||(a=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(a._contentTypeTextTrailing=!0));const l=a.events,u=[],c={};let h,f,m=-1,p=n,b=0,E=0;const v=[E];for(;p;){for(;e.get(++s)[1]!==p;);i.push(s),p._tokenizer||(h=r.sliceStream(p),p.next||h.push(null),f&&a.defineSkip(p.start),p._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=!0),a.write(h),p._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=void 0)),f=p,p=p.next}for(p=n;++m<l.length;)l[m][0]==="exit"&&l[m-1][0]==="enter"&&l[m][1].type===l[m-1][1].type&&l[m][1].start.line!==l[m][1].end.line&&(E=m+1,v.push(E),p._tokenizer=void 0,p.previous=void 0,p=p.next);for(a.events=[],p?(p._tokenizer=void 0,p.previous=void 0):v.pop(),m=v.length;m--;){const g=l.slice(v[m],v[m+1]),y=i.pop();u.push([y,y+g.length-1]),e.splice(y,2,g)}for(u.reverse(),m=-1;++m<u.length;)c[b+u[m][0]]=b+u[m][1],b+=u[m][1]-u[m][0]-1;return c}const E4={resolve:_4,tokenize:T4},v4={partial:!0,tokenize:w4};function _4(e){return r2(e),e}function T4(e,t){let n;return r;function r(l){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),s(l)}function s(l){return l===null?i(l):oe(l)?e.check(v4,a,i)(l):(e.consume(l),s)}function i(l){return e.exit("chunkContent"),e.exit("content"),t(l)}function a(l){return e.consume(l),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,s}}function w4(e,t,n){const r=this;return s;function s(a){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),Re(e,i,"linePrefix")}function i(a){if(a===null||oe(a))return n(a);const l=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&l&&l[1].type==="linePrefix"&&l[2].sliceSerialize(l[1],!0).length>=4?t(a):e.interrupt(r.parser.constructs.flow,n,t)(a)}}function s2(e,t,n,r,s,i,a,l,u){const c=u||Number.POSITIVE_INFINITY;let h=0;return f;function f(g){return g===60?(e.enter(r),e.enter(s),e.enter(i),e.consume(g),e.exit(i),m):g===null||g===32||g===41||ef(g)?n(g):(e.enter(r),e.enter(a),e.enter(l),e.enter("chunkString",{contentType:"string"}),E(g))}function m(g){return g===62?(e.enter(i),e.consume(g),e.exit(i),e.exit(s),e.exit(r),t):(e.enter(l),e.enter("chunkString",{contentType:"string"}),p(g))}function p(g){return g===62?(e.exit("chunkString"),e.exit(l),m(g)):g===null||g===60||oe(g)?n(g):(e.consume(g),g===92?b:p)}function b(g){return g===60||g===62||g===92?(e.consume(g),p):p(g)}function E(g){return!h&&(g===null||g===41||zt(g))?(e.exit("chunkString"),e.exit(l),e.exit(a),e.exit(r),t(g)):h<c&&g===40?(e.consume(g),h++,E):g===41?(e.consume(g),h--,E):g===null||g===32||g===40||ef(g)?n(g):(e.consume(g),g===92?v:E)}function v(g){return g===40||g===41||g===92?(e.consume(g),E):E(g)}}function i2(e,t,n,r,s,i){const a=this;let l=0,u;return c;function c(p){return e.enter(r),e.enter(s),e.consume(p),e.exit(s),e.enter(i),h}function h(p){return l>999||p===null||p===91||p===93&&!u||p===94&&!l&&"_hiddenFootnoteSupport"in a.parser.constructs?n(p):p===93?(e.exit(i),e.enter(s),e.consume(p),e.exit(s),e.exit(r),t):oe(p)?(e.enter("lineEnding"),e.consume(p),e.exit("lineEnding"),h):(e.enter("chunkString",{contentType:"string"}),f(p))}function f(p){return p===null||p===91||p===93||oe(p)||l++>999?(e.exit("chunkString"),h(p)):(e.consume(p),u||(u=!Te(p)),p===92?m:f)}function m(p){return p===91||p===92||p===93?(e.consume(p),l++,f):f(p)}}function a2(e,t,n,r,s,i){let a;return l;function l(m){return m===34||m===39||m===40?(e.enter(r),e.enter(s),e.consume(m),e.exit(s),a=m===40?41:m,u):n(m)}function u(m){return m===a?(e.enter(s),e.consume(m),e.exit(s),e.exit(r),t):(e.enter(i),c(m))}function c(m){return m===a?(e.exit(i),u(a)):m===null?n(m):oe(m)?(e.enter("lineEnding"),e.consume(m),e.exit("lineEnding"),Re(e,c,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),h(m))}function h(m){return m===a||m===null||oe(m)?(e.exit("chunkString"),c(m)):(e.consume(m),m===92?f:h)}function f(m){return m===a||m===92?(e.consume(m),h):h(m)}}function za(e,t){let n;return r;function r(s){return oe(s)?(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),n=!0,r):Te(s)?Re(e,r,n?"linePrefix":"lineSuffix")(s):t(s)}}const S4={name:"definition",tokenize:k4},N4={partial:!0,tokenize:C4};function k4(e,t,n){const r=this;let s;return i;function i(p){return e.enter("definition"),a(p)}function a(p){return i2.call(r,e,l,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(p)}function l(p){return s=Ei(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),p===58?(e.enter("definitionMarker"),e.consume(p),e.exit("definitionMarker"),u):n(p)}function u(p){return zt(p)?za(e,c)(p):c(p)}function c(p){return s2(e,h,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(p)}function h(p){return e.attempt(N4,f,f)(p)}function f(p){return Te(p)?Re(e,m,"whitespace")(p):m(p)}function m(p){return p===null||oe(p)?(e.exit("definition"),r.parser.defined.push(s),t(p)):n(p)}}function C4(e,t,n){return r;function r(l){return zt(l)?za(e,s)(l):n(l)}function s(l){return a2(e,i,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(l)}function i(l){return Te(l)?Re(e,a,"whitespace")(l):a(l)}function a(l){return l===null||oe(l)?t(l):n(l)}}const A4={name:"hardBreakEscape",tokenize:I4};function I4(e,t,n){return r;function r(i){return e.enter("hardBreakEscape"),e.consume(i),s}function s(i){return oe(i)?(e.exit("hardBreakEscape"),t(i)):n(i)}}const O4={name:"headingAtx",resolve:R4,tokenize:P4};function R4(e,t){let n=e.length-2,r=3,s,i;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(s={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},i={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},zn(e,r,n-r+1,[["enter",s,t],["enter",i,t],["exit",i,t],["exit",s,t]])),e}function P4(e,t,n){let r=0;return s;function s(h){return e.enter("atxHeading"),i(h)}function i(h){return e.enter("atxHeadingSequence"),a(h)}function a(h){return h===35&&r++<6?(e.consume(h),a):h===null||zt(h)?(e.exit("atxHeadingSequence"),l(h)):n(h)}function l(h){return h===35?(e.enter("atxHeadingSequence"),u(h)):h===null||oe(h)?(e.exit("atxHeading"),t(h)):Te(h)?Re(e,l,"whitespace")(h):(e.enter("atxHeadingText"),c(h))}function u(h){return h===35?(e.consume(h),u):(e.exit("atxHeadingSequence"),l(h))}function c(h){return h===null||h===35||zt(h)?(e.exit("atxHeadingText"),l(h)):(e.consume(h),c)}}const L4=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],Rg=["pre","script","style","textarea"],j4={concrete:!0,name:"htmlFlow",resolveTo:B4,tokenize:F4},D4={partial:!0,tokenize:H4},M4={partial:!0,tokenize:U4};function B4(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function F4(e,t,n){const r=this;let s,i,a,l,u;return c;function c(k){return h(k)}function h(k){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(k),f}function f(k){return k===33?(e.consume(k),m):k===47?(e.consume(k),i=!0,E):k===63?(e.consume(k),s=3,r.interrupt?t:w):Fn(k)?(e.consume(k),a=String.fromCharCode(k),v):n(k)}function m(k){return k===45?(e.consume(k),s=2,p):k===91?(e.consume(k),s=5,l=0,b):Fn(k)?(e.consume(k),s=4,r.interrupt?t:w):n(k)}function p(k){return k===45?(e.consume(k),r.interrupt?t:w):n(k)}function b(k){const ce="CDATA[";return k===ce.charCodeAt(l++)?(e.consume(k),l===ce.length?r.interrupt?t:Q:b):n(k)}function E(k){return Fn(k)?(e.consume(k),a=String.fromCharCode(k),v):n(k)}function v(k){if(k===null||k===47||k===62||zt(k)){const ce=k===47,it=a.toLowerCase();return!ce&&!i&&Rg.includes(it)?(s=1,r.interrupt?t(k):Q(k)):L4.includes(a.toLowerCase())?(s=6,ce?(e.consume(k),g):r.interrupt?t(k):Q(k)):(s=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(k):i?y(k):x(k))}return k===45||Jt(k)?(e.consume(k),a+=String.fromCharCode(k),v):n(k)}function g(k){return k===62?(e.consume(k),r.interrupt?t:Q):n(k)}function y(k){return Te(k)?(e.consume(k),y):B(k)}function x(k){return k===47?(e.consume(k),B):k===58||k===95||Fn(k)?(e.consume(k),S):Te(k)?(e.consume(k),x):B(k)}function S(k){return k===45||k===46||k===58||k===95||Jt(k)?(e.consume(k),S):P(k)}function P(k){return k===61?(e.consume(k),C):Te(k)?(e.consume(k),P):x(k)}function C(k){return k===null||k===60||k===61||k===62||k===96?n(k):k===34||k===39?(e.consume(k),u=k,M):Te(k)?(e.consume(k),C):R(k)}function M(k){return k===u?(e.consume(k),u=null,U):k===null||oe(k)?n(k):(e.consume(k),M)}function R(k){return k===null||k===34||k===39||k===47||k===60||k===61||k===62||k===96||zt(k)?P(k):(e.consume(k),R)}function U(k){return k===47||k===62||Te(k)?x(k):n(k)}function B(k){return k===62?(e.consume(k),$):n(k)}function $(k){return k===null||oe(k)?Q(k):Te(k)?(e.consume(k),$):n(k)}function Q(k){return k===45&&s===2?(e.consume(k),_e):k===60&&s===1?(e.consume(k),we):k===62&&s===4?(e.consume(k),j):k===63&&s===3?(e.consume(k),w):k===93&&s===5?(e.consume(k),ee):oe(k)&&(s===6||s===7)?(e.exit("htmlFlowData"),e.check(D4,G,ie)(k)):k===null||oe(k)?(e.exit("htmlFlowData"),ie(k)):(e.consume(k),Q)}function ie(k){return e.check(M4,be,G)(k)}function be(k){return e.enter("lineEnding"),e.consume(k),e.exit("lineEnding"),se}function se(k){return k===null||oe(k)?ie(k):(e.enter("htmlFlowData"),Q(k))}function _e(k){return k===45?(e.consume(k),w):Q(k)}function we(k){return k===47?(e.consume(k),a="",Y):Q(k)}function Y(k){if(k===62){const ce=a.toLowerCase();return Rg.includes(ce)?(e.consume(k),j):Q(k)}return Fn(k)&&a.length<8?(e.consume(k),a+=String.fromCharCode(k),Y):Q(k)}function ee(k){return k===93?(e.consume(k),w):Q(k)}function w(k){return k===62?(e.consume(k),j):k===45&&s===2?(e.consume(k),w):Q(k)}function j(k){return k===null||oe(k)?(e.exit("htmlFlowData"),G(k)):(e.consume(k),j)}function G(k){return e.exit("htmlFlow"),t(k)}}function U4(e,t,n){const r=this;return s;function s(a){return oe(a)?(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),i):n(a)}function i(a){return r.parser.lazy[r.now().line]?n(a):t(a)}}function H4(e,t,n){return r;function r(s){return e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),e.attempt(uc,t,n)}}const $4={name:"htmlText",tokenize:z4};function z4(e,t,n){const r=this;let s,i,a;return l;function l(w){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(w),u}function u(w){return w===33?(e.consume(w),c):w===47?(e.consume(w),P):w===63?(e.consume(w),x):Fn(w)?(e.consume(w),R):n(w)}function c(w){return w===45?(e.consume(w),h):w===91?(e.consume(w),i=0,b):Fn(w)?(e.consume(w),y):n(w)}function h(w){return w===45?(e.consume(w),p):n(w)}function f(w){return w===null?n(w):w===45?(e.consume(w),m):oe(w)?(a=f,we(w)):(e.consume(w),f)}function m(w){return w===45?(e.consume(w),p):f(w)}function p(w){return w===62?_e(w):w===45?m(w):f(w)}function b(w){const j="CDATA[";return w===j.charCodeAt(i++)?(e.consume(w),i===j.length?E:b):n(w)}function E(w){return w===null?n(w):w===93?(e.consume(w),v):oe(w)?(a=E,we(w)):(e.consume(w),E)}function v(w){return w===93?(e.consume(w),g):E(w)}function g(w){return w===62?_e(w):w===93?(e.consume(w),g):E(w)}function y(w){return w===null||w===62?_e(w):oe(w)?(a=y,we(w)):(e.consume(w),y)}function x(w){return w===null?n(w):w===63?(e.consume(w),S):oe(w)?(a=x,we(w)):(e.consume(w),x)}function S(w){return w===62?_e(w):x(w)}function P(w){return Fn(w)?(e.consume(w),C):n(w)}function C(w){return w===45||Jt(w)?(e.consume(w),C):M(w)}function M(w){return oe(w)?(a=M,we(w)):Te(w)?(e.consume(w),M):_e(w)}function R(w){return w===45||Jt(w)?(e.consume(w),R):w===47||w===62||zt(w)?U(w):n(w)}function U(w){return w===47?(e.consume(w),_e):w===58||w===95||Fn(w)?(e.consume(w),B):oe(w)?(a=U,we(w)):Te(w)?(e.consume(w),U):_e(w)}function B(w){return w===45||w===46||w===58||w===95||Jt(w)?(e.consume(w),B):$(w)}function $(w){return w===61?(e.consume(w),Q):oe(w)?(a=$,we(w)):Te(w)?(e.consume(w),$):U(w)}function Q(w){return w===null||w===60||w===61||w===62||w===96?n(w):w===34||w===39?(e.consume(w),s=w,ie):oe(w)?(a=Q,we(w)):Te(w)?(e.consume(w),Q):(e.consume(w),be)}function ie(w){return w===s?(e.consume(w),s=void 0,se):w===null?n(w):oe(w)?(a=ie,we(w)):(e.consume(w),ie)}function be(w){return w===null||w===34||w===39||w===60||w===61||w===96?n(w):w===47||w===62||zt(w)?U(w):(e.consume(w),be)}function se(w){return w===47||w===62||zt(w)?U(w):n(w)}function _e(w){return w===62?(e.consume(w),e.exit("htmlTextData"),e.exit("htmlText"),t):n(w)}function we(w){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(w),e.exit("lineEnding"),Y}function Y(w){return Te(w)?Re(e,ee,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(w):ee(w)}function ee(w){return e.enter("htmlTextData"),a(w)}}const M0={name:"labelEnd",resolveAll:Y4,resolveTo:G4,tokenize:K4},W4={tokenize:Q4},V4={tokenize:X4},q4={tokenize:J4};function Y4(e){let t=-1;const n=[];for(;++t<e.length;){const r=e[t][1];if(n.push(e[t]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const s=r.type==="labelImage"?4:2;r.type="data",t+=s}}return e.length!==n.length&&zn(e,0,e.length,n),e}function G4(e,t){let n=e.length,r=0,s,i,a,l;for(;n--;)if(s=e[n][1],i){if(s.type==="link"||s.type==="labelLink"&&s._inactive)break;e[n][0]==="enter"&&s.type==="labelLink"&&(s._inactive=!0)}else if(a){if(e[n][0]==="enter"&&(s.type==="labelImage"||s.type==="labelLink")&&!s._balanced&&(i=n,s.type!=="labelLink")){r=2;break}}else s.type==="labelEnd"&&(a=n);const u={type:e[i][1].type==="labelLink"?"link":"image",start:{...e[i][1].start},end:{...e[e.length-1][1].end}},c={type:"label",start:{...e[i][1].start},end:{...e[a][1].end}},h={type:"labelText",start:{...e[i+r+2][1].end},end:{...e[a-2][1].start}};return l=[["enter",u,t],["enter",c,t]],l=un(l,e.slice(i+1,i+r+3)),l=un(l,[["enter",h,t]]),l=un(l,D0(t.parser.constructs.insideSpan.null,e.slice(i+r+4,a-3),t)),l=un(l,[["exit",h,t],e[a-2],e[a-1],["exit",c,t]]),l=un(l,e.slice(a+1)),l=un(l,[["exit",u,t]]),zn(e,i,e.length,l),e}function K4(e,t,n){const r=this;let s=r.events.length,i,a;for(;s--;)if((r.events[s][1].type==="labelImage"||r.events[s][1].type==="labelLink")&&!r.events[s][1]._balanced){i=r.events[s][1];break}return l;function l(m){return i?i._inactive?f(m):(a=r.parser.defined.includes(Ei(r.sliceSerialize({start:i.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(m),e.exit("labelMarker"),e.exit("labelEnd"),u):n(m)}function u(m){return m===40?e.attempt(W4,h,a?h:f)(m):m===91?e.attempt(V4,h,a?c:f)(m):a?h(m):f(m)}function c(m){return e.attempt(q4,h,f)(m)}function h(m){return t(m)}function f(m){return i._balanced=!0,n(m)}}function Q4(e,t,n){return r;function r(f){return e.enter("resource"),e.enter("resourceMarker"),e.consume(f),e.exit("resourceMarker"),s}function s(f){return zt(f)?za(e,i)(f):i(f)}function i(f){return f===41?h(f):s2(e,a,l,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(f)}function a(f){return zt(f)?za(e,u)(f):h(f)}function l(f){return n(f)}function u(f){return f===34||f===39||f===40?a2(e,c,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(f):h(f)}function c(f){return zt(f)?za(e,h)(f):h(f)}function h(f){return f===41?(e.enter("resourceMarker"),e.consume(f),e.exit("resourceMarker"),e.exit("resource"),t):n(f)}}function X4(e,t,n){const r=this;return s;function s(l){return i2.call(r,e,i,a,"reference","referenceMarker","referenceString")(l)}function i(l){return r.parser.defined.includes(Ei(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(l):n(l)}function a(l){return n(l)}}function J4(e,t,n){return r;function r(i){return e.enter("reference"),e.enter("referenceMarker"),e.consume(i),e.exit("referenceMarker"),s}function s(i){return i===93?(e.enter("referenceMarker"),e.consume(i),e.exit("referenceMarker"),e.exit("reference"),t):n(i)}}const Z4={name:"labelStartImage",resolveAll:M0.resolveAll,tokenize:eI};function eI(e,t,n){const r=this;return s;function s(l){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(l),e.exit("labelImageMarker"),i}function i(l){return l===91?(e.enter("labelMarker"),e.consume(l),e.exit("labelMarker"),e.exit("labelImage"),a):n(l)}function a(l){return l===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(l):t(l)}}const tI={name:"labelStartLink",resolveAll:M0.resolveAll,tokenize:nI};function nI(e,t,n){const r=this;return s;function s(a){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(a),e.exit("labelMarker"),e.exit("labelLink"),i}function i(a){return a===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(a):t(a)}}const dd={name:"lineEnding",tokenize:rI};function rI(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),Re(e,t,"linePrefix")}}const zl={name:"thematicBreak",tokenize:sI};function sI(e,t,n){let r=0,s;return i;function i(c){return e.enter("thematicBreak"),a(c)}function a(c){return s=c,l(c)}function l(c){return c===s?(e.enter("thematicBreakSequence"),u(c)):r>=3&&(c===null||oe(c))?(e.exit("thematicBreak"),t(c)):n(c)}function u(c){return c===s?(e.consume(c),r++,u):(e.exit("thematicBreakSequence"),Te(c)?Re(e,l,"whitespace")(c):l(c))}}const jt={continuation:{tokenize:lI},exit:cI,name:"list",tokenize:oI},iI={partial:!0,tokenize:dI},aI={partial:!0,tokenize:uI};function oI(e,t,n){const r=this,s=r.events[r.events.length-1];let i=s&&s[1].type==="linePrefix"?s[2].sliceSerialize(s[1],!0).length:0,a=0;return l;function l(p){const b=r.containerState.type||(p===42||p===43||p===45?"listUnordered":"listOrdered");if(b==="listUnordered"?!r.containerState.marker||p===r.containerState.marker:tf(p)){if(r.containerState.type||(r.containerState.type=b,e.enter(b,{_container:!0})),b==="listUnordered")return e.enter("listItemPrefix"),p===42||p===45?e.check(zl,n,c)(p):c(p);if(!r.interrupt||p===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),u(p)}return n(p)}function u(p){return tf(p)&&++a<10?(e.consume(p),u):(!r.interrupt||a<2)&&(r.containerState.marker?p===r.containerState.marker:p===41||p===46)?(e.exit("listItemValue"),c(p)):n(p)}function c(p){return e.enter("listItemMarker"),e.consume(p),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||p,e.check(uc,r.interrupt?n:h,e.attempt(iI,m,f))}function h(p){return r.containerState.initialBlankLine=!0,i++,m(p)}function f(p){return Te(p)?(e.enter("listItemPrefixWhitespace"),e.consume(p),e.exit("listItemPrefixWhitespace"),m):n(p)}function m(p){return r.containerState.size=i+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(p)}}function lI(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(uc,s,i);function s(l){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,Re(e,t,"listItemIndent",r.containerState.size+1)(l)}function i(l){return r.containerState.furtherBlankLines||!Te(l)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,a(l)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(aI,t,a)(l))}function a(l){return r.containerState._closeFlow=!0,r.interrupt=void 0,Re(e,e.attempt(jt,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(l)}}function uI(e,t,n){const r=this;return Re(e,s,"listItemIndent",r.containerState.size+1);function s(i){const a=r.events[r.events.length-1];return a&&a[1].type==="listItemIndent"&&a[2].sliceSerialize(a[1],!0).length===r.containerState.size?t(i):n(i)}}function cI(e){e.exit(this.containerState.type)}function dI(e,t,n){const r=this;return Re(e,s,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function s(i){const a=r.events[r.events.length-1];return!Te(i)&&a&&a[1].type==="listItemPrefixWhitespace"?t(i):n(i)}}const Pg={name:"setextUnderline",resolveTo:hI,tokenize:fI};function hI(e,t){let n=e.length,r,s,i;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(s=n)}else e[n][1].type==="content"&&e.splice(n,1),!i&&e[n][1].type==="definition"&&(i=n);const a={type:"setextHeading",start:{...e[r][1].start},end:{...e[e.length-1][1].end}};return e[s][1].type="setextHeadingText",i?(e.splice(s,0,["enter",a,t]),e.splice(i+1,0,["exit",e[r][1],t]),e[r][1].end={...e[i][1].end}):e[r][1]=a,e.push(["exit",a,t]),e}function fI(e,t,n){const r=this;let s;return i;function i(c){let h=r.events.length,f;for(;h--;)if(r.events[h][1].type!=="lineEnding"&&r.events[h][1].type!=="linePrefix"&&r.events[h][1].type!=="content"){f=r.events[h][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||f)?(e.enter("setextHeadingLine"),s=c,a(c)):n(c)}function a(c){return e.enter("setextHeadingLineSequence"),l(c)}function l(c){return c===s?(e.consume(c),l):(e.exit("setextHeadingLineSequence"),Te(c)?Re(e,u,"lineSuffix")(c):u(c))}function u(c){return c===null||oe(c)?(e.exit("setextHeadingLine"),t(c)):n(c)}}const pI={tokenize:mI};function mI(e){const t=this,n=e.attempt(uc,r,e.attempt(this.parser.constructs.flowInitial,s,Re(e,e.attempt(this.parser.constructs.flow,s,e.attempt(E4,s)),"linePrefix")));return n;function r(i){if(i===null){e.consume(i);return}return e.enter("lineEndingBlank"),e.consume(i),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function s(i){if(i===null){e.consume(i);return}return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const gI={resolveAll:l2()},yI=o2("string"),xI=o2("text");function o2(e){return{resolveAll:l2(e==="text"?bI:void 0),tokenize:t};function t(n){const r=this,s=this.parser.constructs[e],i=n.attempt(s,a,l);return a;function a(h){return c(h)?i(h):l(h)}function l(h){if(h===null){n.consume(h);return}return n.enter("data"),n.consume(h),u}function u(h){return c(h)?(n.exit("data"),i(h)):(n.consume(h),u)}function c(h){if(h===null)return!0;const f=s[h];let m=-1;if(f)for(;++m<f.length;){const p=f[m];if(!p.previous||p.previous.call(r,r.previous))return!0}return!1}}}function l2(e){return t;function t(n,r){let s=-1,i;for(;++s<=n.length;)i===void 0?n[s]&&n[s][1].type==="data"&&(i=s,s++):(!n[s]||n[s][1].type!=="data")&&(s!==i+2&&(n[i][1].end=n[s-1][1].end,n.splice(i+2,s-i-2),s=i+2),i=void 0);return e?e(n,r):n}}function bI(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],s=t.sliceStream(r);let i=s.length,a=-1,l=0,u;for(;i--;){const c=s[i];if(typeof c=="string"){for(a=c.length;c.charCodeAt(a-1)===32;)l++,a--;if(a)break;a=-1}else if(c===-2)u=!0,l++;else if(c!==-1){i++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(l=0),l){const c={type:n===e.length||u||l<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:i?a:r.start._bufferIndex+a,_index:r.start._index+i,line:r.end.line,column:r.end.column-l,offset:r.end.offset-l},end:{...r.end}};r.end={...c.start},r.start.offset===r.end.offset?Object.assign(r,c):(e.splice(n,0,["enter",c,t],["exit",c,t]),n+=2)}n++}return e}const EI={42:jt,43:jt,45:jt,48:jt,49:jt,50:jt,51:jt,52:jt,53:jt,54:jt,55:jt,56:jt,57:jt,62:e2},vI={91:S4},_I={[-2]:cd,[-1]:cd,32:cd},TI={35:O4,42:zl,45:[Pg,zl],60:j4,61:Pg,95:zl,96:Og,126:Og},wI={38:n2,92:t2},SI={[-5]:dd,[-4]:dd,[-3]:dd,33:Z4,38:n2,42:nf,60:[t4,$4],91:tI,92:[A4,t2],93:M0,95:nf,96:p4},NI={null:[nf,gI]},kI={null:[42,95]},CI={null:[]},AI=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:kI,contentInitial:vI,disable:CI,document:EI,flow:TI,flowInitial:_I,insideSpan:NI,string:wI,text:SI},Symbol.toStringTag,{value:"Module"}));function II(e,t,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const s={},i=[];let a=[],l=[];const u={attempt:M(P),check:M(C),consume:y,enter:x,exit:S,interrupt:M(C,{interrupt:!0})},c={code:null,containerState:{},defineSkip:E,events:[],now:b,parser:e,previous:null,sliceSerialize:m,sliceStream:p,write:f};let h=t.tokenize.call(c,u);return t.resolveAll&&i.push(t),c;function f($){return a=un(a,$),v(),a[a.length-1]!==null?[]:(R(t,0),c.events=D0(i,c.events,c),c.events)}function m($,Q){return RI(p($),Q)}function p($){return OI(a,$)}function b(){const{_bufferIndex:$,_index:Q,line:ie,column:be,offset:se}=r;return{_bufferIndex:$,_index:Q,line:ie,column:be,offset:se}}function E($){s[$.line]=$.column,B()}function v(){let $;for(;r._index<a.length;){const Q=a[r._index];if(typeof Q=="string")for($=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===$&&r._bufferIndex<Q.length;)g(Q.charCodeAt(r._bufferIndex));else g(Q)}}function g($){h=h($)}function y($){oe($)?(r.line++,r.column=1,r.offset+=$===-3?2:1,B()):$!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===a[r._index].length&&(r._bufferIndex=-1,r._index++)),c.previous=$}function x($,Q){const ie=Q||{};return ie.type=$,ie.start=b(),c.events.push(["enter",ie,c]),l.push(ie),ie}function S($){const Q=l.pop();return Q.end=b(),c.events.push(["exit",Q,c]),Q}function P($,Q){R($,Q.from)}function C($,Q){Q.restore()}function M($,Q){return ie;function ie(be,se,_e){let we,Y,ee,w;return Array.isArray(be)?G(be):"tokenize"in be?G([be]):j(be);function j(pe){return at;function at(Be){const ot=Be!==null&&pe[Be],Pt=Be!==null&&pe.null,rn=[...Array.isArray(ot)?ot:ot?[ot]:[],...Array.isArray(Pt)?Pt:Pt?[Pt]:[]];return G(rn)(Be)}}function G(pe){return we=pe,Y=0,pe.length===0?_e:k(pe[Y])}function k(pe){return at;function at(Be){return w=U(),ee=pe,pe.partial||(c.currentConstruct=pe),pe.name&&c.parser.constructs.disable.null.includes(pe.name)?it():pe.tokenize.call(Q?Object.assign(Object.create(c),Q):c,u,ce,it)(Be)}}function ce(pe){return $(ee,w),se}function it(pe){return w.restore(),++Y<we.length?k(we[Y]):_e}}}function R($,Q){$.resolveAll&&!i.includes($)&&i.push($),$.resolve&&zn(c.events,Q,c.events.length-Q,$.resolve(c.events.slice(Q),c)),$.resolveTo&&(c.events=$.resolveTo(c.events,c))}function U(){const $=b(),Q=c.previous,ie=c.currentConstruct,be=c.events.length,se=Array.from(l);return{from:be,restore:_e};function _e(){r=$,c.previous=Q,c.currentConstruct=ie,c.events.length=be,l=se,B()}}function B(){r.line in s&&r.column<2&&(r.column=s[r.line],r.offset+=s[r.line]-1)}}function OI(e,t){const n=t.start._index,r=t.start._bufferIndex,s=t.end._index,i=t.end._bufferIndex;let a;if(n===s)a=[e[n].slice(r,i)];else{if(a=e.slice(n,s),r>-1){const l=a[0];typeof l=="string"?a[0]=l.slice(r):a.shift()}i>0&&a.push(e[s].slice(0,i))}return a}function RI(e,t){let n=-1;const r=[];let s;for(;++n<e.length;){const i=e[n];let a;if(typeof i=="string")a=i;else switch(i){case-5:{a="\r";break}case-4:{a=`
`;break}case-3:{a=`\r
`;break}case-2:{a=t?" ":"	";break}case-1:{if(!t&&s)continue;a=" ";break}default:a=String.fromCharCode(i)}s=i===-2,r.push(a)}return r.join("")}function PI(e){const r={constructs:U6([AI,...(e||{}).extensions||[]]),content:s(G6),defined:[],document:s(Q6),flow:s(pI),lazy:{},string:s(yI),text:s(xI)};return r;function s(i){return a;function a(l){return II(r,i,l)}}}function LI(e){for(;!r2(e););return e}const Lg=/[\0\t\n\r]/g;function jI(){let e=1,t="",n=!0,r;return s;function s(i,a,l){const u=[];let c,h,f,m,p;for(i=t+(typeof i=="string"?i.toString():new TextDecoder(a||void 0).decode(i)),f=0,t="",n&&(i.charCodeAt(0)===65279&&f++,n=void 0);f<i.length;){if(Lg.lastIndex=f,c=Lg.exec(i),m=c&&c.index!==void 0?c.index:i.length,p=i.charCodeAt(m),!c){t=i.slice(f);break}if(p===10&&f===m&&r)u.push(-3),r=void 0;else switch(r&&(u.push(-5),r=void 0),f<m&&(u.push(i.slice(f,m)),e+=m-f),p){case 0:{u.push(65533),e++;break}case 9:{for(h=Math.ceil(e/4)*4,u.push(-2);e++<h;)u.push(-1);break}case 10:{u.push(-4),e=1;break}default:r=!0,e=1}f=m+1}return l&&(r&&u.push(-5),t&&u.push(t),u.push(null)),u}}const DI=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function MI(e){return e.replace(DI,BI)}function BI(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const s=n.charCodeAt(1),i=s===120||s===88;return ZE(n.slice(i?2:1),i?16:10)}return j0(n)||e}const u2={}.hasOwnProperty;function FI(e,t,n){return typeof t!="string"&&(n=t,t=void 0),UI(n)(LI(PI(n).document().write(jI()(e,t,!0))))}function UI(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:i(oa),autolinkProtocol:U,autolinkEmail:U,atxHeading:i(zo),blockQuote:i(Pt),characterEscape:U,characterReference:U,codeFenced:i(rn),codeFencedFenceInfo:a,codeFencedFenceMeta:a,codeIndented:i(rn,a),codeText:i($s,a),codeTextData:U,data:U,codeFlowValue:U,definition:i(hr),definitionDestinationString:a,definitionLabelString:a,definitionTitleString:a,emphasis:i($o),hardBreakEscape:i(Wo),hardBreakTrailing:i(Wo),htmlFlow:i(Vo,a),htmlFlowData:U,htmlText:i(Vo,a),htmlTextData:U,image:i(gc),label:a,link:i(oa),listItem:i(yc),listItemValue:m,listOrdered:i(qo,f),listUnordered:i(qo),paragraph:i(Yo),reference:k,referenceString:a,resourceDestinationString:a,resourceTitleString:a,setextHeading:i(zo),strong:i(Go),thematicBreak:i(bc)},exit:{atxHeading:u(),atxHeadingSequence:P,autolink:u(),autolinkEmail:ot,autolinkProtocol:Be,blockQuote:u(),characterEscapeValue:B,characterReferenceMarkerHexadecimal:it,characterReferenceMarkerNumeric:it,characterReferenceValue:pe,characterReference:at,codeFenced:u(v),codeFencedFence:E,codeFencedFenceInfo:p,codeFencedFenceMeta:b,codeFlowValue:B,codeIndented:u(g),codeText:u(se),codeTextData:B,data:B,definition:u(),definitionDestinationString:S,definitionLabelString:y,definitionTitleString:x,emphasis:u(),hardBreakEscape:u(Q),hardBreakTrailing:u(Q),htmlFlow:u(ie),htmlFlowData:B,htmlText:u(be),htmlTextData:B,image:u(we),label:ee,labelText:Y,lineEnding:$,link:u(_e),listItem:u(),listOrdered:u(),listUnordered:u(),paragraph:u(),referenceString:ce,resourceDestinationString:w,resourceTitleString:j,resource:G,setextHeading:u(R),setextHeadingLineSequence:M,setextHeadingText:C,strong:u(),thematicBreak:u()}};c2(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(F){let K={type:"root",children:[]};const le={stack:[K],tokenStack:[],config:t,enter:l,exit:c,buffer:a,resume:h,data:n},me=[];let L=-1;for(;++L<F.length;)if(F[L][1].type==="listOrdered"||F[L][1].type==="listUnordered")if(F[L][0]==="enter")me.push(L);else{const X=me.pop();L=s(F,X,L)}for(L=-1;++L<F.length;){const X=t[F[L][0]];u2.call(X,F[L][1].type)&&X[F[L][1].type].call(Object.assign({sliceSerialize:F[L][2].sliceSerialize},le),F[L][1])}if(le.tokenStack.length>0){const X=le.tokenStack[le.tokenStack.length-1];(X[1]||jg).call(le,void 0,X[0])}for(K.position={start:gr(F.length>0?F[0][1].start:{line:1,column:1,offset:0}),end:gr(F.length>0?F[F.length-2][1].end:{line:1,column:1,offset:0})},L=-1;++L<t.transforms.length;)K=t.transforms[L](K)||K;return K}function s(F,K,le){let me=K-1,L=-1,X=!1,lt,ue,Ze,Ee;for(;++me<=le;){const Vt=F[me];switch(Vt[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Vt[0]==="enter"?L++:L--,Ee=void 0;break}case"lineEndingBlank":{Vt[0]==="enter"&&(lt&&!Ee&&!L&&!Ze&&(Ze=me),Ee=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Ee=void 0}if(!L&&Vt[0]==="enter"&&Vt[1].type==="listItemPrefix"||L===-1&&Vt[0]==="exit"&&(Vt[1].type==="listUnordered"||Vt[1].type==="listOrdered")){if(lt){let zs=me;for(ue=void 0;zs--;){const Vn=F[zs];if(Vn[1].type==="lineEnding"||Vn[1].type==="lineEndingBlank"){if(Vn[0]==="exit")continue;ue&&(F[ue][1].type="lineEndingBlank",X=!0),Vn[1].type="lineEnding",ue=zs}else if(!(Vn[1].type==="linePrefix"||Vn[1].type==="blockQuotePrefix"||Vn[1].type==="blockQuotePrefixWhitespace"||Vn[1].type==="blockQuoteMarker"||Vn[1].type==="listItemIndent"))break}Ze&&(!ue||Ze<ue)&&(lt._spread=!0),lt.end=Object.assign({},ue?F[ue][1].start:Vt[1].end),F.splice(ue||me,0,["exit",lt,Vt[2]]),me++,le++}if(Vt[1].type==="listItemPrefix"){const zs={type:"listItem",_spread:!1,start:Object.assign({},Vt[1].start),end:void 0};lt=zs,F.splice(me,0,["enter",zs,Vt[2]]),me++,le++,Ze=void 0,Ee=!0}}}return F[K][1]._spread=X,le}function i(F,K){return le;function le(me){l.call(this,F(me),me),K&&K.call(this,me)}}function a(){this.stack.push({type:"fragment",children:[]})}function l(F,K,le){this.stack[this.stack.length-1].children.push(F),this.stack.push(F),this.tokenStack.push([K,le||void 0]),F.position={start:gr(K.start),end:void 0}}function u(F){return K;function K(le){F&&F.call(this,le),c.call(this,le)}}function c(F,K){const le=this.stack.pop(),me=this.tokenStack.pop();if(me)me[0].type!==F.type&&(K?K.call(this,F,me[0]):(me[1]||jg).call(this,F,me[0]));else throw new Error("Cannot close `"+F.type+"` ("+$a({start:F.start,end:F.end})+"): its not open");le.position.end=gr(F.end)}function h(){return B6(this.stack.pop())}function f(){this.data.expectingFirstListItemValue=!0}function m(F){if(this.data.expectingFirstListItemValue){const K=this.stack[this.stack.length-2];K.start=Number.parseInt(this.sliceSerialize(F),10),this.data.expectingFirstListItemValue=void 0}}function p(){const F=this.resume(),K=this.stack[this.stack.length-1];K.lang=F}function b(){const F=this.resume(),K=this.stack[this.stack.length-1];K.meta=F}function E(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function v(){const F=this.resume(),K=this.stack[this.stack.length-1];K.value=F.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function g(){const F=this.resume(),K=this.stack[this.stack.length-1];K.value=F.replace(/(\r?\n|\r)$/g,"")}function y(F){const K=this.resume(),le=this.stack[this.stack.length-1];le.label=K,le.identifier=Ei(this.sliceSerialize(F)).toLowerCase()}function x(){const F=this.resume(),K=this.stack[this.stack.length-1];K.title=F}function S(){const F=this.resume(),K=this.stack[this.stack.length-1];K.url=F}function P(F){const K=this.stack[this.stack.length-1];if(!K.depth){const le=this.sliceSerialize(F).length;K.depth=le}}function C(){this.data.setextHeadingSlurpLineEnding=!0}function M(F){const K=this.stack[this.stack.length-1];K.depth=this.sliceSerialize(F).codePointAt(0)===61?1:2}function R(){this.data.setextHeadingSlurpLineEnding=void 0}function U(F){const le=this.stack[this.stack.length-1].children;let me=le[le.length-1];(!me||me.type!=="text")&&(me=xc(),me.position={start:gr(F.start),end:void 0},le.push(me)),this.stack.push(me)}function B(F){const K=this.stack.pop();K.value+=this.sliceSerialize(F),K.position.end=gr(F.end)}function $(F){const K=this.stack[this.stack.length-1];if(this.data.atHardBreak){const le=K.children[K.children.length-1];le.position.end=gr(F.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(K.type)&&(U.call(this,F),B.call(this,F))}function Q(){this.data.atHardBreak=!0}function ie(){const F=this.resume(),K=this.stack[this.stack.length-1];K.value=F}function be(){const F=this.resume(),K=this.stack[this.stack.length-1];K.value=F}function se(){const F=this.resume(),K=this.stack[this.stack.length-1];K.value=F}function _e(){const F=this.stack[this.stack.length-1];if(this.data.inReference){const K=this.data.referenceType||"shortcut";F.type+="Reference",F.referenceType=K,delete F.url,delete F.title}else delete F.identifier,delete F.label;this.data.referenceType=void 0}function we(){const F=this.stack[this.stack.length-1];if(this.data.inReference){const K=this.data.referenceType||"shortcut";F.type+="Reference",F.referenceType=K,delete F.url,delete F.title}else delete F.identifier,delete F.label;this.data.referenceType=void 0}function Y(F){const K=this.sliceSerialize(F),le=this.stack[this.stack.length-2];le.label=MI(K),le.identifier=Ei(K).toLowerCase()}function ee(){const F=this.stack[this.stack.length-1],K=this.resume(),le=this.stack[this.stack.length-1];if(this.data.inReference=!0,le.type==="link"){const me=F.children;le.children=me}else le.alt=K}function w(){const F=this.resume(),K=this.stack[this.stack.length-1];K.url=F}function j(){const F=this.resume(),K=this.stack[this.stack.length-1];K.title=F}function G(){this.data.inReference=void 0}function k(){this.data.referenceType="collapsed"}function ce(F){const K=this.resume(),le=this.stack[this.stack.length-1];le.label=K,le.identifier=Ei(this.sliceSerialize(F)).toLowerCase(),this.data.referenceType="full"}function it(F){this.data.characterReferenceType=F.type}function pe(F){const K=this.sliceSerialize(F),le=this.data.characterReferenceType;let me;le?(me=ZE(K,le==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):me=j0(K);const L=this.stack[this.stack.length-1];L.value+=me}function at(F){const K=this.stack.pop();K.position.end=gr(F.end)}function Be(F){B.call(this,F);const K=this.stack[this.stack.length-1];K.url=this.sliceSerialize(F)}function ot(F){B.call(this,F);const K=this.stack[this.stack.length-1];K.url="mailto:"+this.sliceSerialize(F)}function Pt(){return{type:"blockquote",children:[]}}function rn(){return{type:"code",lang:null,meta:null,value:""}}function $s(){return{type:"inlineCode",value:""}}function hr(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function $o(){return{type:"emphasis",children:[]}}function zo(){return{type:"heading",depth:0,children:[]}}function Wo(){return{type:"break"}}function Vo(){return{type:"html",value:""}}function gc(){return{type:"image",title:null,url:"",alt:null}}function oa(){return{type:"link",title:null,url:"",children:[]}}function qo(F){return{type:"list",ordered:F.type==="listOrdered",start:null,spread:F._spread,children:[]}}function yc(F){return{type:"listItem",spread:F._spread,checked:null,children:[]}}function Yo(){return{type:"paragraph",children:[]}}function Go(){return{type:"strong",children:[]}}function xc(){return{type:"text",value:""}}function bc(){return{type:"thematicBreak"}}}function gr(e){return{line:e.line,column:e.column,offset:e.offset}}function c2(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?c2(e,r):HI(e,r)}}function HI(e,t){let n;for(n in t)if(u2.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function jg(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+$a({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+$a({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+$a({start:t.start,end:t.end})+") is still open")}function $I(e){const t=this;t.parser=n;function n(r){return FI(r,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function zI(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function WI(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function VI(e,t){const n=t.value?t.value+`
`:"",r={};t.lang&&(r.className=["language-"+t.lang]);let s={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(s.data={meta:t.meta}),e.patch(t,s),s=e.applyData(t,s),s={type:"element",tagName:"pre",properties:{},children:[s]},e.patch(t,s),s}function qI(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function YI(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function GI(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),s=na(r.toLowerCase()),i=e.footnoteOrder.indexOf(r);let a,l=e.footnoteCounts.get(r);l===void 0?(l=0,e.footnoteOrder.push(r),a=e.footnoteOrder.length):a=i+1,l+=1,e.footnoteCounts.set(r,l);const u={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+s,id:n+"fnref-"+s+(l>1?"-"+l:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(a)}]};e.patch(t,u);const c={type:"element",tagName:"sup",properties:{},children:[u]};return e.patch(t,c),e.applyData(t,c)}function KI(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function QI(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function d2(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+r}];const s=e.all(t),i=s[0];i&&i.type==="text"?i.value="["+i.value:s.unshift({type:"text",value:"["});const a=s[s.length-1];return a&&a.type==="text"?a.value+=r:s.push({type:"text",value:r}),s}function XI(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return d2(e,t);const s={src:na(r.url||""),alt:t.alt};r.title!==null&&r.title!==void 0&&(s.title=r.title);const i={type:"element",tagName:"img",properties:s,children:[]};return e.patch(t,i),e.applyData(t,i)}function JI(e,t){const n={src:na(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function ZI(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function eO(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return d2(e,t);const s={href:na(r.url||"")};r.title!==null&&r.title!==void 0&&(s.title=r.title);const i={type:"element",tagName:"a",properties:s,children:e.all(t)};return e.patch(t,i),e.applyData(t,i)}function tO(e,t){const n={href:na(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function nO(e,t,n){const r=e.all(t),s=n?rO(n):h2(t),i={},a=[];if(typeof t.checked=="boolean"){const h=r[0];let f;h&&h.type==="element"&&h.tagName==="p"?f=h:(f={type:"element",tagName:"p",properties:{},children:[]},r.unshift(f)),f.children.length>0&&f.children.unshift({type:"text",value:" "}),f.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),i.className=["task-list-item"]}let l=-1;for(;++l<r.length;){const h=r[l];(s||l!==0||h.type!=="element"||h.tagName!=="p")&&a.push({type:"text",value:`
`}),h.type==="element"&&h.tagName==="p"&&!s?a.push(...h.children):a.push(h)}const u=r[r.length-1];u&&(s||u.type!=="element"||u.tagName!=="p")&&a.push({type:"text",value:`
`});const c={type:"element",tagName:"li",properties:i,children:a};return e.patch(t,c),e.applyData(t,c)}function rO(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=h2(n[r])}return t}function h2(e){const t=e.spread;return t??e.children.length>1}function sO(e,t){const n={},r=e.all(t);let s=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++s<r.length;){const a=r[s];if(a.type==="element"&&a.tagName==="li"&&a.properties&&Array.isArray(a.properties.className)&&a.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const i={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,i),e.applyData(t,i)}function iO(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function aO(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function oO(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function lO(e,t){const n=e.all(t),r=n.shift(),s=[];if(r){const a={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],a),s.push(a)}if(n.length>0){const a={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},l=Wn(t.children[1]),u=lc(t.children[t.children.length-1]);l&&u&&(a.position={start:l,end:u}),s.push(a)}const i={type:"element",tagName:"table",properties:{},children:e.wrap(s,!0)};return e.patch(t,i),e.applyData(t,i)}function uO(e,t,n){const r=n?n.children:void 0,i=(r?r.indexOf(t):1)===0?"th":"td",a=n&&n.type==="table"?n.align:void 0,l=a?a.length:t.children.length;let u=-1;const c=[];for(;++u<l;){const f=t.children[u],m={},p=a?a[u]:void 0;p&&(m.align=p);let b={type:"element",tagName:i,properties:m,children:[]};f&&(b.children=e.all(f),e.patch(f,b),b=e.applyData(f,b)),c.push(b)}const h={type:"element",tagName:"tr",properties:{},children:e.wrap(c,!0)};return e.patch(t,h),e.applyData(t,h)}function cO(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const Dg=9,Mg=32;function dO(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),s=0;const i=[];for(;r;)i.push(Bg(t.slice(s,r.index),s>0,!0),r[0]),s=r.index+r[0].length,r=n.exec(t);return i.push(Bg(t.slice(s),s>0,!1)),i.join("")}function Bg(e,t,n){let r=0,s=e.length;if(t){let i=e.codePointAt(r);for(;i===Dg||i===Mg;)r++,i=e.codePointAt(r)}if(n){let i=e.codePointAt(s-1);for(;i===Dg||i===Mg;)s--,i=e.codePointAt(s-1)}return s>r?e.slice(r,s):""}function hO(e,t){const n={type:"text",value:dO(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function fO(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const pO={blockquote:zI,break:WI,code:VI,delete:qI,emphasis:YI,footnoteReference:GI,heading:KI,html:QI,imageReference:XI,image:JI,inlineCode:ZI,linkReference:eO,link:tO,listItem:nO,list:sO,paragraph:iO,root:aO,strong:oO,table:lO,tableCell:cO,tableRow:uO,text:hO,thematicBreak:fO,toml:Sl,yaml:Sl,definition:Sl,footnoteDefinition:Sl};function Sl(){}const f2=-1,cc=0,Wa=1,Ou=2,B0=3,F0=4,U0=5,H0=6,p2=7,m2=8,Fg=typeof self=="object"?self:globalThis,mO=(e,t)=>{const n=(s,i)=>(e.set(i,s),s),r=s=>{if(e.has(s))return e.get(s);const[i,a]=t[s];switch(i){case cc:case f2:return n(a,s);case Wa:{const l=n([],s);for(const u of a)l.push(r(u));return l}case Ou:{const l=n({},s);for(const[u,c]of a)l[r(u)]=r(c);return l}case B0:return n(new Date(a),s);case F0:{const{source:l,flags:u}=a;return n(new RegExp(l,u),s)}case U0:{const l=n(new Map,s);for(const[u,c]of a)l.set(r(u),r(c));return l}case H0:{const l=n(new Set,s);for(const u of a)l.add(r(u));return l}case p2:{const{name:l,message:u}=a;return n(new Fg[l](u),s)}case m2:return n(BigInt(a),s);case"BigInt":return n(Object(BigInt(a)),s);case"ArrayBuffer":return n(new Uint8Array(a).buffer,a);case"DataView":{const{buffer:l}=new Uint8Array(a);return n(new DataView(l),a)}}return n(new Fg[i](a),s)};return r},Ug=e=>mO(new Map,e)(0),Qs="",{toString:gO}={},{keys:yO}=Object,xa=e=>{const t=typeof e;if(t!=="object"||!e)return[cc,t];const n=gO.call(e).slice(8,-1);switch(n){case"Array":return[Wa,Qs];case"Object":return[Ou,Qs];case"Date":return[B0,Qs];case"RegExp":return[F0,Qs];case"Map":return[U0,Qs];case"Set":return[H0,Qs];case"DataView":return[Wa,n]}return n.includes("Array")?[Wa,n]:n.includes("Error")?[p2,n]:[Ou,n]},Nl=([e,t])=>e===cc&&(t==="function"||t==="symbol"),xO=(e,t,n,r)=>{const s=(a,l)=>{const u=r.push(a)-1;return n.set(l,u),u},i=a=>{if(n.has(a))return n.get(a);let[l,u]=xa(a);switch(l){case cc:{let h=a;switch(u){case"bigint":l=m2,h=a.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+u);h=null;break;case"undefined":return s([f2],a)}return s([l,h],a)}case Wa:{if(u){let m=a;return u==="DataView"?m=new Uint8Array(a.buffer):u==="ArrayBuffer"&&(m=new Uint8Array(a)),s([u,[...m]],a)}const h=[],f=s([l,h],a);for(const m of a)h.push(i(m));return f}case Ou:{if(u)switch(u){case"BigInt":return s([u,a.toString()],a);case"Boolean":case"Number":case"String":return s([u,a.valueOf()],a)}if(t&&"toJSON"in a)return i(a.toJSON());const h=[],f=s([l,h],a);for(const m of yO(a))(e||!Nl(xa(a[m])))&&h.push([i(m),i(a[m])]);return f}case B0:return s([l,a.toISOString()],a);case F0:{const{source:h,flags:f}=a;return s([l,{source:h,flags:f}],a)}case U0:{const h=[],f=s([l,h],a);for(const[m,p]of a)(e||!(Nl(xa(m))||Nl(xa(p))))&&h.push([i(m),i(p)]);return f}case H0:{const h=[],f=s([l,h],a);for(const m of a)(e||!Nl(xa(m)))&&h.push(i(m));return f}}const{message:c}=a;return s([l,{name:u,message:c}],a)};return i},Hg=(e,{json:t,lossy:n}={})=>{const r=[];return xO(!(t||n),!!t,new Map,r)(e),r},Wi=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?Ug(Hg(e,t)):structuredClone(e):(e,t)=>Ug(Hg(e,t));function bO(e,t){const n=[{type:"text",value:""}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function EO(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function vO(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||bO,r=e.options.footnoteBackLabel||EO,s=e.options.footnoteLabel||"Footnotes",i=e.options.footnoteLabelTagName||"h2",a=e.options.footnoteLabelProperties||{className:["sr-only"]},l=[];let u=-1;for(;++u<e.footnoteOrder.length;){const c=e.footnoteById.get(e.footnoteOrder[u]);if(!c)continue;const h=e.all(c),f=String(c.identifier).toUpperCase(),m=na(f.toLowerCase());let p=0;const b=[],E=e.footnoteCounts.get(f);for(;E!==void 0&&++p<=E;){b.length>0&&b.push({type:"text",value:" "});let y=typeof n=="string"?n:n(u,p);typeof y=="string"&&(y={type:"text",value:y}),b.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+m+(p>1?"-"+p:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(u,p),className:["data-footnote-backref"]},children:Array.isArray(y)?y:[y]})}const v=h[h.length-1];if(v&&v.type==="element"&&v.tagName==="p"){const y=v.children[v.children.length-1];y&&y.type==="text"?y.value+=" ":v.children.push({type:"text",value:" "}),v.children.push(...b)}else h.push(...b);const g={type:"element",tagName:"li",properties:{id:t+"fn-"+m},children:e.wrap(h,!0)};e.patch(c,g),l.push(g)}if(l.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:i,properties:{...Wi(a),id:"footnote-label"},children:[{type:"text",value:s}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(l,!0)},{type:"text",value:`
`}]}}const g2=function(e){if(e==null)return SO;if(typeof e=="function")return dc(e);if(typeof e=="object")return Array.isArray(e)?_O(e):TO(e);if(typeof e=="string")return wO(e);throw new Error("Expected function, string, or object as test")};function _O(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=g2(e[n]);return dc(r);function r(...s){let i=-1;for(;++i<t.length;)if(t[i].apply(this,s))return!0;return!1}}function TO(e){const t=e;return dc(n);function n(r){const s=r;let i;for(i in e)if(s[i]!==t[i])return!1;return!0}}function wO(e){return dc(t);function t(n){return n&&n.type===e}}function dc(e){return t;function t(n,r,s){return!!(NO(n)&&e.call(this,n,typeof r=="number"?r:void 0,s||void 0))}}function SO(){return!0}function NO(e){return e!==null&&typeof e=="object"&&"type"in e}const y2=[],kO=!0,$g=!1,CO="skip";function AO(e,t,n,r){let s;typeof t=="function"&&typeof n!="function"?(r=n,n=t):s=t;const i=g2(s),a=r?-1:1;l(e,void 0,[])();function l(u,c,h){const f=u&&typeof u=="object"?u:{};if(typeof f.type=="string"){const p=typeof f.tagName=="string"?f.tagName:typeof f.name=="string"?f.name:void 0;Object.defineProperty(m,"name",{value:"node ("+(u.type+(p?"<"+p+">":""))+")"})}return m;function m(){let p=y2,b,E,v;if((!t||i(u,c,h[h.length-1]||void 0))&&(p=IO(n(u,h)),p[0]===$g))return p;if("children"in u&&u.children){const g=u;if(g.children&&p[0]!==CO)for(E=(r?g.children.length:-1)+a,v=h.concat(g);E>-1&&E<g.children.length;){const y=g.children[E];if(b=l(y,E,v)(),b[0]===$g)return b;E=typeof b[1]=="number"?b[1]:E+a}}return p}}}function IO(e){return Array.isArray(e)?e:typeof e=="number"?[kO,e]:e==null?y2:[e]}function $0(e,t,n,r){let s,i,a;typeof t=="function"&&typeof n!="function"?(i=void 0,a=t,s=n):(i=t,a=n,s=r),AO(e,i,l,s);function l(u,c){const h=c[c.length-1],f=h?h.children.indexOf(u):void 0;return a(u,f,h)}}const rf={}.hasOwnProperty,OO={};function RO(e,t){const n=t||OO,r=new Map,s=new Map,i=new Map,a={...pO,...n.handlers},l={all:c,applyData:LO,definitionById:r,footnoteById:s,footnoteCounts:i,footnoteOrder:[],handlers:a,one:u,options:n,patch:PO,wrap:DO};return $0(e,function(h){if(h.type==="definition"||h.type==="footnoteDefinition"){const f=h.type==="definition"?r:s,m=String(h.identifier).toUpperCase();f.has(m)||f.set(m,h)}}),l;function u(h,f){const m=h.type,p=l.handlers[m];if(rf.call(l.handlers,m)&&p)return p(l,h,f);if(l.options.passThrough&&l.options.passThrough.includes(m)){if("children"in h){const{children:E,...v}=h,g=Wi(v);return g.children=l.all(h),g}return Wi(h)}return(l.options.unknownHandler||jO)(l,h,f)}function c(h){const f=[];if("children"in h){const m=h.children;let p=-1;for(;++p<m.length;){const b=l.one(m[p],h);if(b){if(p&&m[p-1].type==="break"&&(!Array.isArray(b)&&b.type==="text"&&(b.value=zg(b.value)),!Array.isArray(b)&&b.type==="element")){const E=b.children[0];E&&E.type==="text"&&(E.value=zg(E.value))}Array.isArray(b)?f.push(...b):f.push(b)}}}return f}}function PO(e,t){e.position&&(t.position=g6(e))}function LO(e,t){let n=t;if(e&&e.data){const r=e.data.hName,s=e.data.hChildren,i=e.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const a="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:a}}n.type==="element"&&i&&Object.assign(n.properties,Wi(i)),"children"in n&&n.children&&s!==null&&s!==void 0&&(n.children=s)}return n}function jO(e,t){const n=t.data||{},r="value"in t&&!(rf.call(n,"hProperties")||rf.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function DO(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function zg(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function Wg(e,t){const n=RO(e,t),r=n.one(e,void 0),s=vO(n),i=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return s&&i.children.push({type:"text",value:`
`},s),i}function MO(e,t){return e&&"run"in e?async function(n,r){const s=Wg(n,{file:r,...t});await e.run(s,r)}:function(n,r){return Wg(n,{file:r,...e||t})}}function Vg(e){if(e)throw e}var Wl=Object.prototype.hasOwnProperty,x2=Object.prototype.toString,qg=Object.defineProperty,Yg=Object.getOwnPropertyDescriptor,Gg=function(t){return typeof Array.isArray=="function"?Array.isArray(t):x2.call(t)==="[object Array]"},Kg=function(t){if(!t||x2.call(t)!=="[object Object]")return!1;var n=Wl.call(t,"constructor"),r=t.constructor&&t.constructor.prototype&&Wl.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!n&&!r)return!1;var s;for(s in t);return typeof s>"u"||Wl.call(t,s)},Qg=function(t,n){qg&&n.name==="__proto__"?qg(t,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):t[n.name]=n.newValue},Xg=function(t,n){if(n==="__proto__")if(Wl.call(t,n)){if(Yg)return Yg(t,n).value}else return;return t[n]},BO=function e(){var t,n,r,s,i,a,l=arguments[0],u=1,c=arguments.length,h=!1;for(typeof l=="boolean"&&(h=l,l=arguments[1]||{},u=2),(l==null||typeof l!="object"&&typeof l!="function")&&(l={});u<c;++u)if(t=arguments[u],t!=null)for(n in t)r=Xg(l,n),s=Xg(t,n),l!==s&&(h&&s&&(Kg(s)||(i=Gg(s)))?(i?(i=!1,a=r&&Gg(r)?r:[]):a=r&&Kg(r)?r:{},Qg(l,{name:n,newValue:e(h,a,s)})):typeof s<"u"&&Qg(l,{name:n,newValue:s}));return l};const hd=ju(BO);function sf(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function FO(){const e=[],t={run:n,use:r};return t;function n(...s){let i=-1;const a=s.pop();if(typeof a!="function")throw new TypeError("Expected function as last argument, not "+a);l(null,...s);function l(u,...c){const h=e[++i];let f=-1;if(u){a(u);return}for(;++f<s.length;)(c[f]===null||c[f]===void 0)&&(c[f]=s[f]);s=c,h?UO(h,l)(...c):a(null,...c)}}function r(s){if(typeof s!="function")throw new TypeError("Expected `middelware` to be a function, not "+s);return e.push(s),t}}function UO(e,t){let n;return r;function r(...a){const l=e.length>a.length;let u;l&&a.push(s);try{u=e.apply(this,a)}catch(c){const h=c;if(l&&n)throw h;return s(h)}l||(u&&u.then&&typeof u.then=="function"?u.then(i,s):u instanceof Error?s(u):i(u))}function s(a,...l){n||(n=!0,t(a,...l))}function i(a){s(null,a)}}const Pn={basename:HO,dirname:$O,extname:zO,join:WO,sep:"/"};function HO(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');Bo(e);let n=0,r=-1,s=e.length,i;if(t===void 0||t.length===0||t.length>e.length){for(;s--;)if(e.codePointAt(s)===47){if(i){n=s+1;break}}else r<0&&(i=!0,r=s+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let a=-1,l=t.length-1;for(;s--;)if(e.codePointAt(s)===47){if(i){n=s+1;break}}else a<0&&(i=!0,a=s+1),l>-1&&(e.codePointAt(s)===t.codePointAt(l--)?l<0&&(r=s):(l=-1,r=a));return n===r?r=a:r<0&&(r=e.length),e.slice(n,r)}function $O(e){if(Bo(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.codePointAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function zO(e){Bo(e);let t=e.length,n=-1,r=0,s=-1,i=0,a;for(;t--;){const l=e.codePointAt(t);if(l===47){if(a){r=t+1;break}continue}n<0&&(a=!0,n=t+1),l===46?s<0?s=t:i!==1&&(i=1):s>-1&&(i=-1)}return s<0||n<0||i===0||i===1&&s===n-1&&s===r+1?"":e.slice(s,n)}function WO(...e){let t=-1,n;for(;++t<e.length;)Bo(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":VO(n)}function VO(e){Bo(e);const t=e.codePointAt(0)===47;let n=qO(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function qO(e,t){let n="",r=0,s=-1,i=0,a=-1,l,u;for(;++a<=e.length;){if(a<e.length)l=e.codePointAt(a);else{if(l===47)break;l=47}if(l===47){if(!(s===a-1||i===1))if(s!==a-1&&i===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(u=n.lastIndexOf("/"),u!==n.length-1){u<0?(n="",r=0):(n=n.slice(0,u),r=n.length-1-n.lastIndexOf("/")),s=a,i=0;continue}}else if(n.length>0){n="",r=0,s=a,i=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(s+1,a):n=e.slice(s+1,a),r=a-s-1;s=a,i=0}else l===46&&i>-1?i++:i=-1}return n}function Bo(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const YO={cwd:GO};function GO(){return"/"}function af(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function KO(e){if(typeof e=="string")e=new URL(e);else if(!af(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return QO(e)}function QO(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const r=t.codePointAt(n+2);if(r===70||r===102){const s=new TypeError("File URL path must not include encoded / characters");throw s.code="ERR_INVALID_FILE_URL_PATH",s}}return decodeURIComponent(t)}const fd=["history","path","basename","stem","extname","dirname"];class b2{constructor(t){let n;t?af(t)?n={path:t}:typeof t=="string"||XO(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":YO.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<fd.length;){const i=fd[r];i in n&&n[i]!==void 0&&n[i]!==null&&(this[i]=i==="history"?[...n[i]]:n[i])}let s;for(s in n)fd.includes(s)||(this[s]=n[s])}get basename(){return typeof this.path=="string"?Pn.basename(this.path):void 0}set basename(t){md(t,"basename"),pd(t,"basename"),this.path=Pn.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?Pn.dirname(this.path):void 0}set dirname(t){Jg(this.basename,"dirname"),this.path=Pn.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?Pn.extname(this.path):void 0}set extname(t){if(pd(t,"extname"),Jg(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Pn.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){af(t)&&(t=KO(t)),md(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?Pn.basename(this.path,this.extname):void 0}set stem(t){md(t,"stem"),pd(t,"stem"),this.path=Pn.join(this.dirname||"",t+(this.extname||""))}fail(t,n,r){const s=this.message(t,n,r);throw s.fatal=!0,s}info(t,n,r){const s=this.message(t,n,r);return s.fatal=void 0,s}message(t,n,r){const s=new wt(t,n,r);return this.path&&(s.name=this.path+":"+s.name,s.file=this.path),s.fatal=!1,this.messages.push(s),s}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function pd(e,t){if(e&&e.includes(Pn.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+Pn.sep+"`")}function md(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function Jg(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function XO(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const JO=function(e){const r=this.constructor.prototype,s=r[e],i=function(){return s.apply(i,arguments)};return Object.setPrototypeOf(i,r),i},ZO={}.hasOwnProperty;class z0 extends JO{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=FO()}copy(){const t=new z0;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];t.use(...r)}return t.data(hd(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(xd("data",this.frozen),this.namespace[t]=n,this):ZO.call(this.namespace,t)&&this.namespace[t]||void 0:t?(xd("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const s=n.call(t,...r);typeof s=="function"&&this.transformers.use(s)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=kl(t),r=this.parser||this.Parser;return gd("parse",r),r(String(n),n)}process(t,n){const r=this;return this.freeze(),gd("process",this.parser||this.Parser),yd("process",this.compiler||this.Compiler),n?s(void 0,n):new Promise(s);function s(i,a){const l=kl(t),u=r.parse(l);r.run(u,l,function(h,f,m){if(h||!f||!m)return c(h);const p=f,b=r.stringify(p,m);nR(b)?m.value=b:m.result=b,c(h,m)});function c(h,f){h||!f?a(h):i?i(f):n(void 0,f)}}}processSync(t){let n=!1,r;return this.freeze(),gd("processSync",this.parser||this.Parser),yd("processSync",this.compiler||this.Compiler),this.process(t,s),e1("processSync","process",n),r;function s(i,a){n=!0,Vg(i),r=a}}run(t,n,r){Zg(t),this.freeze();const s=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?i(void 0,r):new Promise(i);function i(a,l){const u=kl(n);s.run(t,u,c);function c(h,f,m){const p=f||t;h?l(h):a?a(p):r(void 0,p,m)}}}runSync(t,n){let r=!1,s;return this.run(t,n,i),e1("runSync","run",r),s;function i(a,l){Vg(a),s=l,r=!0}}stringify(t,n){this.freeze();const r=kl(n),s=this.compiler||this.Compiler;return yd("stringify",s),Zg(t),s(t,r)}use(t,...n){const r=this.attachers,s=this.namespace;if(xd("use",this.frozen),t!=null)if(typeof t=="function")u(t,n);else if(typeof t=="object")Array.isArray(t)?l(t):a(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function i(c){if(typeof c=="function")u(c,[]);else if(typeof c=="object")if(Array.isArray(c)){const[h,...f]=c;u(h,f)}else a(c);else throw new TypeError("Expected usable value, not `"+c+"`")}function a(c){if(!("plugins"in c)&&!("settings"in c))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");l(c.plugins),c.settings&&(s.settings=hd(!0,s.settings,c.settings))}function l(c){let h=-1;if(c!=null)if(Array.isArray(c))for(;++h<c.length;){const f=c[h];i(f)}else throw new TypeError("Expected a list of plugins, not `"+c+"`")}function u(c,h){let f=-1,m=-1;for(;++f<r.length;)if(r[f][0]===c){m=f;break}if(m===-1)r.push([c,...h]);else if(h.length>0){let[p,...b]=h;const E=r[m][1];sf(E)&&sf(p)&&(p=hd(!0,E,p)),r[m]=[c,p,...b]}}}}const eR=new z0().freeze();function gd(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function yd(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function xd(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function Zg(e){if(!sf(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function e1(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function kl(e){return tR(e)?e:new b2(e)}function tR(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function nR(e){return typeof e=="string"||rR(e)}function rR(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const sR="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",t1=[],n1={allowDangerousHtml:!0},iR=/^(https?|ircs?|mailto|xmpp)$/i,aR=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function oR(e){const t=lR(e),n=uR(e);return cR(t.runSync(t.parse(n),n),e)}function lR(e){const t=e.rehypePlugins||t1,n=e.remarkPlugins||t1,r=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...n1}:n1;return eR().use($I).use(n).use(MO,r).use(t)}function uR(e){const t=e.children||"",n=new b2;return typeof t=="string"&&(n.value=t),n}function cR(e,t){const n=t.allowedElements,r=t.allowElement,s=t.components,i=t.disallowedElements,a=t.skipHtml,l=t.unwrapDisallowed,u=t.urlTransform||dR;for(const h of aR)Object.hasOwn(t,h.from)&&(""+h.from+(h.to?"use `"+h.to+"` instead":"remove it")+sR+h.id,void 0);return $0(e,c),v6(e,{Fragment:o.Fragment,components:s,ignoreInvalidStyle:!0,jsx:o.jsx,jsxs:o.jsxs,passKeys:!0,passNode:!0});function c(h,f,m){if(h.type==="raw"&&m&&typeof f=="number")return a?m.children.splice(f,1):m.children[f]={type:"text",value:h.value},f;if(h.type==="element"){let p;for(p in ud)if(Object.hasOwn(ud,p)&&Object.hasOwn(h.properties,p)){const b=h.properties[p],E=ud[p];(E===null||E.includes(h.tagName))&&(h.properties[p]=u(String(b||""),p,h))}}if(h.type==="element"){let p=n?!n.includes(h.tagName):i?i.includes(h.tagName):!1;if(!p&&r&&typeof f=="number"&&(p=!r(h,f,m)),p&&m&&typeof f=="number")return l&&h.children?m.children.splice(f,1,...h.children):m.children.splice(f,1),f}}}function dR(e){const t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),s=e.indexOf("/");return t===-1||s!==-1&&t>s||n!==-1&&t>n||r!==-1&&t>r||iR.test(e.slice(0,t))?e:""}const r1=/[#.]/g;function hR(e,t){const n=e||"",r={};let s=0,i,a;for(;s<n.length;){r1.lastIndex=s;const l=r1.exec(n),u=n.slice(s,l?l.index:n.length);u&&(i?i==="#"?r.id=u:Array.isArray(r.className)?r.className.push(u):r.className=[u]:a=u,s+=u.length),l&&(i=l[0],s++)}return{type:"element",tagName:a||t||"div",properties:r,children:[]}}function E2(e,t,n){const r=n?gR(n):void 0;function s(i,a,...l){let u;if(i==null){u={type:"root",children:[]};const c=a;l.unshift(c)}else{u=hR(i,t);const c=u.tagName.toLowerCase(),h=r?r.get(c):void 0;if(u.tagName=h||c,fR(a))l.unshift(a);else for(const[f,m]of Object.entries(a))pR(e,u.properties,f,m)}for(const c of l)of(u.children,c);return u.type==="element"&&u.tagName==="template"&&(u.content={type:"root",children:u.children},u.children=[]),u}return s}function fR(e){if(e===null||typeof e!="object"||Array.isArray(e))return!0;if(typeof e.type!="string")return!1;const t=e,n=Object.keys(e);for(const r of n){const s=t[r];if(s&&typeof s=="object"){if(!Array.isArray(s))return!0;const i=s;for(const a of i)if(typeof a!="number"&&typeof a!="string")return!0}}return!!("children"in e&&Array.isArray(e.children))}function pR(e,t,n,r){const s=I0(e,n);let i;if(r!=null){if(typeof r=="number"){if(Number.isNaN(r))return;i=r}else typeof r=="boolean"?i=r:typeof r=="string"?s.spaceSeparated?i=gg(r):s.commaSeparated?i=dg(r):s.commaOrSpaceSeparated?i=gg(dg(r).join(" ")):i=s1(s,s.property,r):Array.isArray(r)?i=[...r]:i=s.property==="style"?mR(r):String(r);if(Array.isArray(i)){const a=[];for(const l of i)a.push(s1(s,s.property,l));i=a}s.property==="className"&&Array.isArray(t.className)&&(i=t.className.concat(i)),t[s.property]=i}}function of(e,t){if(t!=null)if(typeof t=="number"||typeof t=="string")e.push({type:"text",value:String(t)});else if(Array.isArray(t))for(const n of t)of(e,n);else if(typeof t=="object"&&"type"in t)t.type==="root"?of(e,t.children):e.push(t);else throw new Error("Expected node, nodes, or string, got `"+t+"`")}function s1(e,t,n){if(typeof n=="string"){if(e.number&&n&&!Number.isNaN(Number(n)))return Number(n);if((e.boolean||e.overloadedBoolean)&&(n===""||vo(n)===vo(t)))return!0}return n}function mR(e){const t=[];for(const[n,r]of Object.entries(e))t.push([n,r].join(": "));return t.join("; ")}function gR(e){const t=new Map;for(const n of e)t.set(n.toLowerCase(),n);return t}const yR=["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","solidColor","textArea","textPath"],xR=E2(ac,"div"),bR=E2(ta,"g",yR);function ER(e){const t=String(e),n=[];return{toOffset:s,toPoint:r};function r(i){if(typeof i=="number"&&i>-1&&i<=t.length){let a=0;for(;;){let l=n[a];if(l===void 0){const u=i1(t,n[a-1]);l=u===-1?t.length+1:u+1,n[a]=l}if(l>i)return{line:a+1,column:i-(a>0?n[a-1]:0)+1,offset:i};a++}}}function s(i){if(i&&typeof i.line=="number"&&typeof i.column=="number"&&!Number.isNaN(i.line)&&!Number.isNaN(i.column)){for(;n.length<i.line;){const l=n[n.length-1],u=i1(t,l),c=u===-1?t.length+1:u+1;if(l===c)break;n.push(c)}const a=(i.line>1?n[i.line-2]:0)+i.column-1;if(a<n[i.line-1])return a}}}function i1(e,t){const n=e.indexOf("\r",t),r=e.indexOf(`
`,t);return r===-1?n:n===-1||n+1===r?r:n<r?n:r}const gs={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},v2={}.hasOwnProperty,vR=Object.prototype;function _R(e,t){const n=t||{};return W0({file:n.file||void 0,location:!1,schema:n.space==="svg"?ta:ac,verbose:n.verbose||!1},e)}function W0(e,t){let n;switch(t.nodeName){case"#comment":{const r=t;return n={type:"comment",value:r.data},Vl(e,r,n),n}case"#document":case"#document-fragment":{const r=t,s="mode"in r?r.mode==="quirks"||r.mode==="limited-quirks":!1;if(n={type:"root",children:_2(e,t.childNodes),data:{quirksMode:s}},e.file&&e.location){const i=String(e.file),a=ER(i),l=a.toPoint(0),u=a.toPoint(i.length);n.position={start:l,end:u}}return n}case"#documentType":{const r=t;return n={type:"doctype"},Vl(e,r,n),n}case"#text":{const r=t;return n={type:"text",value:r.value},Vl(e,r,n),n}default:return n=TR(e,t),n}}function _2(e,t){let n=-1;const r=[];for(;++n<t.length;){const s=W0(e,t[n]);r.push(s)}return r}function TR(e,t){const n=e.schema;e.schema=t.namespaceURI===gs.svg?ta:ac;let r=-1;const s={};for(;++r<t.attrs.length;){const l=t.attrs[r],u=(l.prefix?l.prefix+":":"")+l.name;v2.call(vR,u)||(s[u]=l.value)}const a=(e.schema.space==="svg"?bR:xR)(t.tagName,s,_2(e,t.childNodes));if(Vl(e,t,a),a.tagName==="template"){const l=t,u=l.sourceCodeLocation,c=u&&u.startTag&&di(u.startTag),h=u&&u.endTag&&di(u.endTag),f=W0(e,l.content);c&&h&&e.file&&(f.position={start:c.end,end:h.start}),a.content=f}return e.schema=n,a}function Vl(e,t,n){if("sourceCodeLocation"in t&&t.sourceCodeLocation&&e.file){const r=wR(e,n,t.sourceCodeLocation);r&&(e.location=!0,n.position=r)}}function wR(e,t,n){const r=di(n);if(t.type==="element"){const s=t.children[t.children.length-1];if(r&&!n.endTag&&s&&s.position&&s.position.end&&(r.end=Object.assign({},s.position.end)),e.verbose){const i={};let a;if(n.attrs)for(a in n.attrs)v2.call(n.attrs,a)&&(i[I0(e.schema,a).property]=di(n.attrs[a]));n.startTag;const l=di(n.startTag),u=n.endTag?di(n.endTag):void 0,c={opening:l};u&&(c.closing=u),c.properties=i,t.data={position:c}}}return r}function di(e){const t=a1({line:e.startLine,column:e.startCol,offset:e.startOffset}),n=a1({line:e.endLine,column:e.endCol,offset:e.endOffset});return t||n?{start:t,end:n}:void 0}function a1(e){return e.line&&e.column?e:void 0}class Fo{constructor(t,n,r){this.property=t,this.normal=n,r&&(this.space=r)}}Fo.prototype.property={};Fo.prototype.normal={};Fo.prototype.space=null;function T2(e,t){const n={},r={};let s=-1;for(;++s<e.length;)Object.assign(n,e[s].property),Object.assign(r,e[s].normal);return new Fo(n,r,t)}function lf(e){return e.toLowerCase()}class mn{constructor(t,n){this.property=t,this.attribute=n}}mn.prototype.space=null;mn.prototype.boolean=!1;mn.prototype.booleanish=!1;mn.prototype.overloadedBoolean=!1;mn.prototype.number=!1;mn.prototype.commaSeparated=!1;mn.prototype.spaceSeparated=!1;mn.prototype.commaOrSpaceSeparated=!1;mn.prototype.mustUseProperty=!1;mn.prototype.defined=!1;let SR=0;const de=Us(),Qe=Us(),w2=Us(),q=Us(),Ie=Us(),vi=Us(),Yt=Us();function Us(){return 2**++SR}const uf=Object.freeze(Object.defineProperty({__proto__:null,boolean:de,booleanish:Qe,commaOrSpaceSeparated:Yt,commaSeparated:vi,number:q,overloadedBoolean:w2,spaceSeparated:Ie},Symbol.toStringTag,{value:"Module"})),bd=Object.keys(uf);class V0 extends mn{constructor(t,n,r,s){let i=-1;if(super(t,n),o1(this,"space",s),typeof r=="number")for(;++i<bd.length;){const a=bd[i];o1(this,bd[i],(r&uf[a])===uf[a])}}}V0.prototype.defined=!0;function o1(e,t,n){n&&(e[t]=n)}const NR={}.hasOwnProperty;function ra(e){const t={},n={};let r;for(r in e.properties)if(NR.call(e.properties,r)){const s=e.properties[r],i=new V0(r,e.transform(e.attributes||{},r),s,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(i.mustUseProperty=!0),t[r]=i,n[lf(r)]=r,n[lf(i.attribute)]=r}return new Fo(t,n,e.space)}const S2=ra({space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()},properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}}),N2=ra({space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()},properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function k2(e,t){return t in e?e[t]:t}function C2(e,t){return k2(e,t.toLowerCase())}const A2=ra({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:C2,properties:{xmlns:null,xmlnsXLink:null}}),I2=ra({transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()},properties:{ariaActiveDescendant:null,ariaAtomic:Qe,ariaAutoComplete:null,ariaBusy:Qe,ariaChecked:Qe,ariaColCount:q,ariaColIndex:q,ariaColSpan:q,ariaControls:Ie,ariaCurrent:null,ariaDescribedBy:Ie,ariaDetails:null,ariaDisabled:Qe,ariaDropEffect:Ie,ariaErrorMessage:null,ariaExpanded:Qe,ariaFlowTo:Ie,ariaGrabbed:Qe,ariaHasPopup:null,ariaHidden:Qe,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Ie,ariaLevel:q,ariaLive:null,ariaModal:Qe,ariaMultiLine:Qe,ariaMultiSelectable:Qe,ariaOrientation:null,ariaOwns:Ie,ariaPlaceholder:null,ariaPosInSet:q,ariaPressed:Qe,ariaReadOnly:Qe,ariaRelevant:null,ariaRequired:Qe,ariaRoleDescription:Ie,ariaRowCount:q,ariaRowIndex:q,ariaRowSpan:q,ariaSelected:Qe,ariaSetSize:q,ariaSort:null,ariaValueMax:q,ariaValueMin:q,ariaValueNow:q,ariaValueText:null,role:null}}),kR=ra({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:C2,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:vi,acceptCharset:Ie,accessKey:Ie,action:null,allow:null,allowFullScreen:de,allowPaymentRequest:de,allowUserMedia:de,alt:null,as:null,async:de,autoCapitalize:null,autoComplete:Ie,autoFocus:de,autoPlay:de,blocking:Ie,capture:null,charSet:null,checked:de,cite:null,className:Ie,cols:q,colSpan:null,content:null,contentEditable:Qe,controls:de,controlsList:Ie,coords:q|vi,crossOrigin:null,data:null,dateTime:null,decoding:null,default:de,defer:de,dir:null,dirName:null,disabled:de,download:w2,draggable:Qe,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:de,formTarget:null,headers:Ie,height:q,hidden:de,high:q,href:null,hrefLang:null,htmlFor:Ie,httpEquiv:Ie,id:null,imageSizes:null,imageSrcSet:null,inert:de,inputMode:null,integrity:null,is:null,isMap:de,itemId:null,itemProp:Ie,itemRef:Ie,itemScope:de,itemType:Ie,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:de,low:q,manifest:null,max:null,maxLength:q,media:null,method:null,min:null,minLength:q,multiple:de,muted:de,name:null,nonce:null,noModule:de,noValidate:de,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:de,optimum:q,pattern:null,ping:Ie,placeholder:null,playsInline:de,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:de,referrerPolicy:null,rel:Ie,required:de,reversed:de,rows:q,rowSpan:q,sandbox:Ie,scope:null,scoped:de,seamless:de,selected:de,shadowRootClonable:de,shadowRootDelegatesFocus:de,shadowRootMode:null,shape:null,size:q,sizes:null,slot:null,span:q,spellCheck:Qe,src:null,srcDoc:null,srcLang:null,srcSet:null,start:q,step:null,style:null,tabIndex:q,target:null,title:null,translate:null,type:null,typeMustMatch:de,useMap:null,value:Qe,width:q,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Ie,axis:null,background:null,bgColor:null,border:q,borderColor:null,bottomMargin:q,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:de,declare:de,event:null,face:null,frame:null,frameBorder:null,hSpace:q,leftMargin:q,link:null,longDesc:null,lowSrc:null,marginHeight:q,marginWidth:q,noResize:de,noHref:de,noShade:de,noWrap:de,object:null,profile:null,prompt:null,rev:null,rightMargin:q,rules:null,scheme:null,scrolling:Qe,standby:null,summary:null,text:null,topMargin:q,valueType:null,version:null,vAlign:null,vLink:null,vSpace:q,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:de,disableRemotePlayback:de,prefix:null,property:null,results:q,security:null,unselectable:null}}),CR=ra({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:k2,properties:{about:Yt,accentHeight:q,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:q,amplitude:q,arabicForm:null,ascent:q,attributeName:null,attributeType:null,azimuth:q,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:q,by:null,calcMode:null,capHeight:q,className:Ie,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:q,diffuseConstant:q,direction:null,display:null,dur:null,divisor:q,dominantBaseline:null,download:de,dx:null,dy:null,edgeMode:null,editable:null,elevation:q,enableBackground:null,end:null,event:null,exponent:q,externalResourcesRequired:null,fill:null,fillOpacity:q,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:vi,g2:vi,glyphName:vi,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:q,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:q,horizOriginX:q,horizOriginY:q,id:null,ideographic:q,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:q,k:q,k1:q,k2:q,k3:q,k4:q,kernelMatrix:Yt,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:q,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:q,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:q,overlineThickness:q,paintOrder:null,panose1:null,path:null,pathLength:q,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Ie,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:q,pointsAtY:q,pointsAtZ:q,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Yt,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Yt,rev:Yt,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Yt,requiredFeatures:Yt,requiredFonts:Yt,requiredFormats:Yt,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:q,specularExponent:q,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:q,strikethroughThickness:q,string:null,stroke:null,strokeDashArray:Yt,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:q,strokeOpacity:q,strokeWidth:null,style:null,surfaceScale:q,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Yt,tabIndex:q,tableValues:null,target:null,targetX:q,targetY:q,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Yt,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:q,underlineThickness:q,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:q,values:null,vAlphabetic:q,vMathematical:q,vectorEffect:null,vHanging:q,vIdeographic:q,version:null,vertAdvY:q,vertOriginX:q,vertOriginY:q,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:q,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}}),AR=/^data[-\w.:]+$/i,l1=/-[a-z]/g,IR=/[A-Z]/g;function OR(e,t){const n=lf(t);let r=t,s=mn;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&AR.test(t)){if(t.charAt(4)==="-"){const i=t.slice(5).replace(l1,PR);r="data"+i.charAt(0).toUpperCase()+i.slice(1)}else{const i=t.slice(4);if(!l1.test(i)){let a=i.replace(IR,RR);a.charAt(0)!=="-"&&(a="-"+a),t="data"+a}}s=V0}return new s(r,t)}function RR(e){return"-"+e.toLowerCase()}function PR(e){return e.charAt(1).toUpperCase()}const LR=T2([N2,S2,A2,I2,kR],"html"),O2=T2([N2,S2,A2,I2,CR],"svg"),u1={}.hasOwnProperty;function R2(e,t){const n=t||{};function r(s,...i){let a=r.invalid;const l=r.handlers;if(s&&u1.call(s,e)){const u=String(s[e]);a=u1.call(l,u)?l[u]:r.unknown}if(a)return a.call(this,s,...i)}return r.handlers=n.handlers||{},r.invalid=n.invalid,r.unknown=n.unknown,r}const jR={},DR={}.hasOwnProperty,P2=R2("type",{handlers:{root:BR,element:zR,text:HR,comment:$R,doctype:UR}});function MR(e,t){const r=(t||jR).space;return P2(e,r==="svg"?O2:LR)}function BR(e,t){const n={nodeName:"#document",mode:(e.data||{}).quirksMode?"quirks":"no-quirks",childNodes:[]};return n.childNodes=q0(e.children,n,t),sa(e,n),n}function FR(e,t){const n={nodeName:"#document-fragment",childNodes:[]};return n.childNodes=q0(e.children,n,t),sa(e,n),n}function UR(e){const t={nodeName:"#documentType",name:"html",publicId:"",systemId:"",parentNode:null};return sa(e,t),t}function HR(e){const t={nodeName:"#text",value:e.value,parentNode:null};return sa(e,t),t}function $R(e){const t={nodeName:"#comment",data:e.value,parentNode:null};return sa(e,t),t}function zR(e,t){const n=t;let r=n;e.type==="element"&&e.tagName.toLowerCase()==="svg"&&n.space==="html"&&(r=O2);const s=[];let i;if(e.properties){for(i in e.properties)if(i!=="children"&&DR.call(e.properties,i)){const u=WR(r,i,e.properties[i]);u&&s.push(u)}}const a=r.space,l={nodeName:e.tagName,tagName:e.tagName,attrs:s,namespaceURI:gs[a],childNodes:[],parentNode:null};return l.childNodes=q0(e.children,l,r),sa(e,l),e.tagName==="template"&&e.content&&(l.content=FR(e.content,r)),l}function WR(e,t,n){const r=OR(e,t);if(n===!1||n===null||n===void 0||typeof n=="number"&&Number.isNaN(n)||!n&&r.boolean)return;Array.isArray(n)&&(n=r.commaSeparated?BE(n):qE(n));const s={name:r.attribute,value:n===!0?"":String(n)};if(r.space&&r.space!=="html"&&r.space!=="svg"){const i=s.name.indexOf(":");i<0?s.prefix="":(s.name=s.name.slice(i+1),s.prefix=r.attribute.slice(0,i)),s.namespace=gs[r.space]}return s}function q0(e,t,n){let r=-1;const s=[];if(e)for(;++r<e.length;){const i=P2(e[r],n);i.parentNode=t,s.push(i)}return s}function sa(e,t){const n=e.position;n&&n.start&&n.end&&(n.start.offset,n.end.offset,t.sourceCodeLocation={startLine:n.start.line,startCol:n.start.column,startOffset:n.start.offset,endLine:n.end.line,endCol:n.end.column,endOffset:n.end.offset})}const VR=["area","base","basefont","bgsound","br","col","command","embed","frame","hr","image","img","input","keygen","link","meta","param","source","track","wbr"],qR=new Set([65534,65535,131070,131071,196606,196607,262142,262143,327678,327679,393214,393215,458750,458751,524286,524287,589822,589823,655358,655359,720894,720895,786430,786431,851966,851967,917502,917503,983038,983039,1048574,1048575,1114110,1114111]),je="";var _;(function(e){e[e.EOF=-1]="EOF",e[e.NULL=0]="NULL",e[e.TABULATION=9]="TABULATION",e[e.CARRIAGE_RETURN=13]="CARRIAGE_RETURN",e[e.LINE_FEED=10]="LINE_FEED",e[e.FORM_FEED=12]="FORM_FEED",e[e.SPACE=32]="SPACE",e[e.EXCLAMATION_MARK=33]="EXCLAMATION_MARK",e[e.QUOTATION_MARK=34]="QUOTATION_MARK",e[e.AMPERSAND=38]="AMPERSAND",e[e.APOSTROPHE=39]="APOSTROPHE",e[e.HYPHEN_MINUS=45]="HYPHEN_MINUS",e[e.SOLIDUS=47]="SOLIDUS",e[e.DIGIT_0=48]="DIGIT_0",e[e.DIGIT_9=57]="DIGIT_9",e[e.SEMICOLON=59]="SEMICOLON",e[e.LESS_THAN_SIGN=60]="LESS_THAN_SIGN",e[e.EQUALS_SIGN=61]="EQUALS_SIGN",e[e.GREATER_THAN_SIGN=62]="GREATER_THAN_SIGN",e[e.QUESTION_MARK=63]="QUESTION_MARK",e[e.LATIN_CAPITAL_A=65]="LATIN_CAPITAL_A",e[e.LATIN_CAPITAL_Z=90]="LATIN_CAPITAL_Z",e[e.RIGHT_SQUARE_BRACKET=93]="RIGHT_SQUARE_BRACKET",e[e.GRAVE_ACCENT=96]="GRAVE_ACCENT",e[e.LATIN_SMALL_A=97]="LATIN_SMALL_A",e[e.LATIN_SMALL_Z=122]="LATIN_SMALL_Z"})(_||(_={}));const Lt={DASH_DASH:"--",CDATA_START:"[CDATA[",DOCTYPE:"doctype",SCRIPT:"script",PUBLIC:"public",SYSTEM:"system"};function L2(e){return e>=55296&&e<=57343}function YR(e){return e>=56320&&e<=57343}function GR(e,t){return(e-55296)*1024+9216+t}function j2(e){return e!==32&&e!==10&&e!==13&&e!==9&&e!==12&&e>=1&&e<=31||e>=127&&e<=159}function D2(e){return e>=64976&&e<=65007||qR.has(e)}var D;(function(e){e.controlCharacterInInputStream="control-character-in-input-stream",e.noncharacterInInputStream="noncharacter-in-input-stream",e.surrogateInInputStream="surrogate-in-input-stream",e.nonVoidHtmlElementStartTagWithTrailingSolidus="non-void-html-element-start-tag-with-trailing-solidus",e.endTagWithAttributes="end-tag-with-attributes",e.endTagWithTrailingSolidus="end-tag-with-trailing-solidus",e.unexpectedSolidusInTag="unexpected-solidus-in-tag",e.unexpectedNullCharacter="unexpected-null-character",e.unexpectedQuestionMarkInsteadOfTagName="unexpected-question-mark-instead-of-tag-name",e.invalidFirstCharacterOfTagName="invalid-first-character-of-tag-name",e.unexpectedEqualsSignBeforeAttributeName="unexpected-equals-sign-before-attribute-name",e.missingEndTagName="missing-end-tag-name",e.unexpectedCharacterInAttributeName="unexpected-character-in-attribute-name",e.unknownNamedCharacterReference="unknown-named-character-reference",e.missingSemicolonAfterCharacterReference="missing-semicolon-after-character-reference",e.unexpectedCharacterAfterDoctypeSystemIdentifier="unexpected-character-after-doctype-system-identifier",e.unexpectedCharacterInUnquotedAttributeValue="unexpected-character-in-unquoted-attribute-value",e.eofBeforeTagName="eof-before-tag-name",e.eofInTag="eof-in-tag",e.missingAttributeValue="missing-attribute-value",e.missingWhitespaceBetweenAttributes="missing-whitespace-between-attributes",e.missingWhitespaceAfterDoctypePublicKeyword="missing-whitespace-after-doctype-public-keyword",e.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers="missing-whitespace-between-doctype-public-and-system-identifiers",e.missingWhitespaceAfterDoctypeSystemKeyword="missing-whitespace-after-doctype-system-keyword",e.missingQuoteBeforeDoctypePublicIdentifier="missing-quote-before-doctype-public-identifier",e.missingQuoteBeforeDoctypeSystemIdentifier="missing-quote-before-doctype-system-identifier",e.missingDoctypePublicIdentifier="missing-doctype-public-identifier",e.missingDoctypeSystemIdentifier="missing-doctype-system-identifier",e.abruptDoctypePublicIdentifier="abrupt-doctype-public-identifier",e.abruptDoctypeSystemIdentifier="abrupt-doctype-system-identifier",e.cdataInHtmlContent="cdata-in-html-content",e.incorrectlyOpenedComment="incorrectly-opened-comment",e.eofInScriptHtmlCommentLikeText="eof-in-script-html-comment-like-text",e.eofInDoctype="eof-in-doctype",e.nestedComment="nested-comment",e.abruptClosingOfEmptyComment="abrupt-closing-of-empty-comment",e.eofInComment="eof-in-comment",e.incorrectlyClosedComment="incorrectly-closed-comment",e.eofInCdata="eof-in-cdata",e.absenceOfDigitsInNumericCharacterReference="absence-of-digits-in-numeric-character-reference",e.nullCharacterReference="null-character-reference",e.surrogateCharacterReference="surrogate-character-reference",e.characterReferenceOutsideUnicodeRange="character-reference-outside-unicode-range",e.controlCharacterReference="control-character-reference",e.noncharacterCharacterReference="noncharacter-character-reference",e.missingWhitespaceBeforeDoctypeName="missing-whitespace-before-doctype-name",e.missingDoctypeName="missing-doctype-name",e.invalidCharacterSequenceAfterDoctypeName="invalid-character-sequence-after-doctype-name",e.duplicateAttribute="duplicate-attribute",e.nonConformingDoctype="non-conforming-doctype",e.missingDoctype="missing-doctype",e.misplacedDoctype="misplaced-doctype",e.endTagWithoutMatchingOpenElement="end-tag-without-matching-open-element",e.closingOfElementWithOpenChildElements="closing-of-element-with-open-child-elements",e.disallowedContentInNoscriptInHead="disallowed-content-in-noscript-in-head",e.openElementsLeftAfterEof="open-elements-left-after-eof",e.abandonedHeadElementChild="abandoned-head-element-child",e.misplacedStartTagForHeadElement="misplaced-start-tag-for-head-element",e.nestedNoscriptInHead="nested-noscript-in-head",e.eofInElementThatCanContainOnlyText="eof-in-element-that-can-contain-only-text"})(D||(D={}));const KR=65536;class QR{constructor(t){this.handler=t,this.html="",this.pos=-1,this.lastGapPos=-2,this.gapStack=[],this.skipNextNewLine=!1,this.lastChunkWritten=!1,this.endOfChunkHit=!1,this.bufferWaterline=KR,this.isEol=!1,this.lineStartPos=0,this.droppedBufferSize=0,this.line=1,this.lastErrOffset=-1}get col(){return this.pos-this.lineStartPos+ +(this.lastGapPos!==this.pos)}get offset(){return this.droppedBufferSize+this.pos}getError(t,n){const{line:r,col:s,offset:i}=this,a=s+n,l=i+n;return{code:t,startLine:r,endLine:r,startCol:a,endCol:a,startOffset:l,endOffset:l}}_err(t){this.handler.onParseError&&this.lastErrOffset!==this.offset&&(this.lastErrOffset=this.offset,this.handler.onParseError(this.getError(t,0)))}_addGap(){this.gapStack.push(this.lastGapPos),this.lastGapPos=this.pos}_processSurrogate(t){if(this.pos!==this.html.length-1){const n=this.html.charCodeAt(this.pos+1);if(YR(n))return this.pos++,this._addGap(),GR(t,n)}else if(!this.lastChunkWritten)return this.endOfChunkHit=!0,_.EOF;return this._err(D.surrogateInInputStream),t}willDropParsedChunk(){return this.pos>this.bufferWaterline}dropParsedChunk(){this.willDropParsedChunk()&&(this.html=this.html.substring(this.pos),this.lineStartPos-=this.pos,this.droppedBufferSize+=this.pos,this.pos=0,this.lastGapPos=-2,this.gapStack.length=0)}write(t,n){this.html.length>0?this.html+=t:this.html=t,this.endOfChunkHit=!1,this.lastChunkWritten=n}insertHtmlAtCurrentPos(t){this.html=this.html.substring(0,this.pos+1)+t+this.html.substring(this.pos+1),this.endOfChunkHit=!1}startsWith(t,n){if(this.pos+t.length>this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,!1;if(n)return this.html.startsWith(t,this.pos);for(let r=0;r<t.length;r++)if((this.html.charCodeAt(this.pos+r)|32)!==t.charCodeAt(r))return!1;return!0}peek(t){const n=this.pos+t;if(n>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,_.EOF;const r=this.html.charCodeAt(n);return r===_.CARRIAGE_RETURN?_.LINE_FEED:r}advance(){if(this.pos++,this.isEol&&(this.isEol=!1,this.line++,this.lineStartPos=this.pos),this.pos>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,_.EOF;let t=this.html.charCodeAt(this.pos);return t===_.CARRIAGE_RETURN?(this.isEol=!0,this.skipNextNewLine=!0,_.LINE_FEED):t===_.LINE_FEED&&(this.isEol=!0,this.skipNextNewLine)?(this.line--,this.skipNextNewLine=!1,this._addGap(),this.advance()):(this.skipNextNewLine=!1,L2(t)&&(t=this._processSurrogate(t)),this.handler.onParseError===null||t>31&&t<127||t===_.LINE_FEED||t===_.CARRIAGE_RETURN||t>159&&t<64976||this._checkForProblematicCharacters(t),t)}_checkForProblematicCharacters(t){j2(t)?this._err(D.controlCharacterInInputStream):D2(t)&&this._err(D.noncharacterInInputStream)}retreat(t){for(this.pos-=t;this.pos<this.lastGapPos;)this.lastGapPos=this.gapStack.pop(),this.pos--;this.isEol=!1}}var fe;(function(e){e[e.CHARACTER=0]="CHARACTER",e[e.NULL_CHARACTER=1]="NULL_CHARACTER",e[e.WHITESPACE_CHARACTER=2]="WHITESPACE_CHARACTER",e[e.START_TAG=3]="START_TAG",e[e.END_TAG=4]="END_TAG",e[e.COMMENT=5]="COMMENT",e[e.DOCTYPE=6]="DOCTYPE",e[e.EOF=7]="EOF",e[e.HIBERNATION=8]="HIBERNATION"})(fe||(fe={}));function M2(e,t){for(let n=e.attrs.length-1;n>=0;n--)if(e.attrs[n].name===t)return e.attrs[n].value;return null}const XR=new Uint16Array('<\0\0\0\0\0\0EMabcfglmnoprstu\\bfmsligP&cutereve;iyx}rc;r;ravepha;acr;d;gpon;f;plyFunction;ingcsr;ign;ildemlaceforsucrkslash;;ed;y;crtause;noullis;a;r;pf;eve;cmpeq;HOacdefhilorsucy;PYcpyute;;italDifferentialD;leys;aeioron;dilrc;nint;ot;dnilla;terDot;i;rcleDMPTot;inus;lus;imes;ocskwiseContourIntegral;eCurlyDQoubleQuote;uote;lnpuon;e;gitruent;nt;ourIntegral;fr;oduct;nterClockwiseContourIntegral;oss;cr;p;Cap;DJSZacefios;otrahd;cy;cy;cy;grsger;r;hv;ayron;;l;ta;r;afcmriticalADGTcute;o;bleAcute;rave;ilde;ond;ferentialD;\0\0\0\0f;;DEot;qual;bleCDLRUVontourIntegrao\0\0nArrow;eoftARTrrow;ightArrow;engLReftARrrow;ightArrow;ightArrow;ightATrrow;ee;p\0\0rrow;ownArrow;erticalBar;nABLRTarrow;BUar;pArrow;reve;eft\0\0ightVector;eeVector;ector;Bar;ight\0eeVector;ector;Bar;ee;Arrow;ctr;rok;NTacdfglmopqstuxG;Hcuteaiyron;rc;ot;r;raveement;apcr;ty\0\0mallSquare;erySmallSquare;gpon;f;silon;uail;Tilde;librium;cir;m;a;mlipsts;onentialE;cfiosy;r;lled\0\0mallSquare;erySmallSquare;\0\0\0f;All;riertrf;cJTabcdfgorstcy;>mma;d;reve;eiydil;rc;;ot;r;;pf;eaterEFGLSTqual;Less;ullEqual;reater;ess;lantEqual;ilde;cr;;AacfiosuRDcy;ctek;;irc;r;lbertSpace;\0f;izontalLine;ctrok;mpownHumqual;EJOacdfgmnostucy;lig;cy;cuteiyrc;ot;r;rave;apcgr;inaryI;lie\0;egrral;section;isibleCTomma;imes;gpton;f;a;cr;ilde;\0cy;lcfosuiyrc;;r;pf;\0r;rcy;kcy;HJacfoscy;cy;ppa;eydil;;r;pf;cr;JTaceflmostcy;<cmnprute;bda;g;lacetrf;r;aeyron;dil;;fstACDFRTUVarnrgleBracket;row;BRar;ightArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ightAVrrow;ector;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;ightsEFGLSTqualGreater;ullEqual;reater;ess;lantEqual;ilde;r;;eftarrow;idot;npwgLRlreftARrrow;ightArrow;ightArrow;eftarightightf;erLReftArrow;ightArrow;cht;rok;;acefiosup;y;dliumSpace;lintrf;r;nusPlus;pf;c;Jacefostucy;cute;aeyron;dil;;gswativeMTVediumSpace;hicneryThitedGLreaterGreateessLesLine;r;Bnptreak;BreakingSpace;f;;CDEGHLNPRSTVoungruent;pCap;oubleVerticalBar;lqxement;ual;Tilde;ists;reater;EFGLSTqual;ullEqual;reater;ess;lantEqual;ilde;umpownHump;qual;efstTriangle;BEar;qual;s;EGLSTqual;reater;ess;lantEqual;ilde;estedGLreaterGreater;essLess;recedes;ESqual;lantEqual;eiverseElement;ghtTriangle;BEar;qual;quuareSubpset;Equal;erset;Equal;bcpset;Equal;ceeds;ESTqual;lantEqual;ilde;erset;Equal;ilde;EFTqual;ullEqual;ilde;erticalBar;cr;ilde;Eacdfgmoprstuvlig;cuteiyrc;blac;r;raveaeicr;ga;cron;pf;enCurlyDQoubleQuote;uote;;clr;ashidees;mlerBParr;acek;et;arenthesis;acfhilorsrtialD;y;r;i;;usMinus;ipncareplanf;;eiocedes;ESTqual;lantEqual;ilde;me;dpuct;ortion;al;cir;;UfosOT"r;pf;cr;BEacefhiorsuarr;Gcnrute;g;r;tl;aeyron;dil;;;verseEUlqement;uilibrium;pEquilibrium;ro;ghtACDFTUVanrgleBracket;row;BLar;eftArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;puf;ndImplies;ightarrow;chr;;leDelayed;HOacfhimoqstuCcHcy;y;FTcy;cute;;aeiyron;dil;rc;;r;ortDLRUownArroweftArrowightArrowpArrow;gma;allCircle;pf;\0\0t;are;ISUntersection;ubpset;Equal;erset;Equal;nion;cr;ar;bcmp;set;Equal;cheeds;ESTqual;lantEqual;ilde;Th;;esrset;Equal;etHRSacfhiorsORNADE;Hccy;y;bu;;aeyron;dil;;r;ei\0efore;a;cnkSpace;Space;lde;EFTqual;ullEqual;ilde;pf;ipleDot;ctr;rok;\0\0\0\0\0\0\0cruter;ocir;r\0y;ve;iyrc;blac;r;raveacr;dierBParr;acek;et;arenthesis;on;Plus;gpon;f;ADETadpsrrow;BDar;ownArrow;ownArrow;quilibrium;ee;Arrow;ownerLReftArrow;ightArrow;i;lon;ing;cr;ilde;mlDbcdefosvash;ar;y;ash;l;er;btyar;;icalBLSTar;ine;eparator;ilde;ThinSpace;r;pf;cr;dash;cefosirc;dge;r;pf;cr;fiosr;;pf;cr;AIUacfosucy;cy;cy;cuteiyrc;;r;pf;cr;ml;Hacdefoscy;cute;ayron;;ot;\0oWidta;r;pf;cr;\0\0\0\0\0\0\0cutereve;;Ediuy;;rcte;lig;r;raveepfpsym;ha;apcclr;g;\0\0;adsvnd;;lope;;;elmrsz;esd;a;;;;;;;;t;vb;d;pth;arr;gpon;f;;Eaeiop;cir;;d;s;rox;eingctyr;;mp;eildemlcioninnt;Nabcdefiklnoprsuot;crkcepsong;psilon;rime;im;eq;ee;ed;gerk;tbrk;oy;quo;cmprtaus;eptyv;snoahw;;een;r;gcostuvwaiurc;pdptot;lus;imes;\0\0cup;ar;riangleduown;p;plus;earow;akocnklstozenge;riangle;dlrown;eft;ight;k;\0\0;;4;ck;eo;q=uiv;t;ptwxf;;tomtie;DHUVbdhmptuvLRlr;;;;;DUdu;;;;LRlr;;;;;HLRhlr;;;;;;ox;LRlr;;;;;DUdu;;;;inus;lus;imes;LRlr;;;;;HLRhlr;;;;;;evbarceior;mi;m;el;bh;sub;l;etp;Ee;;q\0\0\0\0\0\0\0\0\0\0cprute;;abcdsnd;rcup;aup;p;ot;;eot;aeiu\0s;on;dilrc;ps;sm;ot;dmnilptyv;t;err;ceiy;ck;mark;r;Ecefms;;elq;e\0\0rrowlreft;ight;RSacd;st;irc;ash;nint;id;cir;ubs;uit\0on;e;q\0\0a;t;;flemxente\0;dot;nfry;o;sr;aorr;ss;cur;bp;e;;e;dot;delprvwarrlr;;\0\0r;c;arr;p;;bcdosrcap;aup;p;ot;r;;alrvrr;m;yevwq\0\0reuee;edge;enearrowlreftightecioninnt;lcty;AHabcdefhijlorstuwzrar;glrsger;eth;h;varow;aayron;;;aogrr;tseq;glmta;ptyv;irsht;;arlraegsvm;osnd;suit;amma;in;;iode;ontimes;ncy;c\0\0rn;op;lptuwlar;f;;empsq;dot;inus;lus;quare;blebarwedgnadhownarrowarpoonlrefighkaro\0\0rn;op;cotry;;l;rok;drot;i;fahraangle;ciy;grarr;DacdefglmnopqrstuxDoocsuteter;aioyron;r;clon;;ot;Drot;;;rsave;dot;;ilsnters;;;dot;apscr;ty;svetp1;;;gs;p;gpon;f;alsr;sl;us;i;lvon;csuviorc\0\0antgltressaeils;st;v;DD;parsl;Daot;rr;cdir;oah;mrlo;cipl;seoctationential\0\0\0\0\0\0\0llingdotsey;male;ilrlig;\0\0g;ig;;lig;lig;fjaltt;ig;ns;of;\0f;ak;v;artint;aocs\0\0;;;;\0;;\0\0;;5;\0;;8;l;wn;cr;Eabcdefgijlnorstv;l;cmpute;ma;d;reve;iyrc;;ot;;lqs;qslan;cdlc;ot;o;l;;es;r;;gmel;cy;;Eaj;;;Eaes;p;prox;q;qim;pf;cir;m;el;;>;cdlqrci;r;ot;Par;uest;adels\0pror;qlqlesienrtneqq;Aabcefkosyrilmrrsfildrcy;;cwir;;ar;irc;alrrts;uitlip;con;r;sewarow;arow;amoprrr;tht;klreftarrow;ightarrow;f;bar;cltr;asrok;bpull;hen\0\0\0\0\0\0cute;iyrc;cxy;clfr;rave;inoinnt;t;fin;ta;lig;aopcgtr;elpinarh;f;ed;;cfotare;in;tie;do;celpal;grerarhk;rod;cgpty;on;f;a;uestcir;n;Edsv;ot;;v;;ilde;\0cy;lcfmosuiyrc;;r;ath;pf;\0r;rcy;kcy;acfghjosppa;v;eydil;;r;reen;cy;cy;pf;cr;ABEHabcdefghjlmnoprstuvartrail;arr;;g;ar;\0\0\0\0\0\0\0\0\0ute;mptyv;rabda;g;dl;;uor;bfhlpst;fs;s;p;l;im;l;;aeil;;s;abrrr;rk;akcek;;es;ldu;;aeuyron;diil;;cqrsa;uo;rduhar;shar;h;;fgqstahlrtrrow;taarpoonduownpeftarrows;ightahsrrow;sarpoonquigarrohreetimes;;qslan;cdgsc;ot;o;r;;es;adegspproot;qgqgtiilrsht;;;E;rdu;l;lk;cy;;achtrorneard;ri;iodot;ust;acheEaes;p;prox;q;qim;abnoptwznrg;r;rglmreftarightapsto;ightparrowlrefight;aflr;;us;imes;st;;efngear;lt;achmtrornear;d;;ri;achiqtquo;r;m;eg;;buo;r;rok;<;cdhilqrci;r;remes;arr;uest;Piar;;efrdushar;har;enrtneqq;DacdefhilnopsuDot;clprret;;ese;sto;dluowefker;oymma;;ash;asuredangler;o;cdnro;acdsir;otus;bd;u;p;dpels;f;ctr;pos;lmtimap;GLRVabcdefghijlmoprstuvwgt;;veltftarrrow;ightarrow;;;vightarrow;Ddash;ash;bcnptlaute;g;;Eiop;d;s;rour;al;s\0pmp;eaeouy\0;on;dil;ng;dot;p;;ash;;Aadqsxrr;rhrk;;oot;uieiar;ist;sr;Eest;qs;qslani;rAaprrr;ar;;sv;d;cy;AEadestr;rr;r;;fqstarrroightarro;qslan;si;ri;eiptf;;inn;Edv;ot;;;i;v;;aorr;astllel;;lint;;ceu;c;eAaitrrr;cw;;ghtarrowri;echimpqu;ceru;ort\0\0arm;e;qsubpbcp;Ees;et;eq;qc;e;Ees;et;eq;qgilrldeianglelreft;eight;e;m;esro;p;DHadgilrsash;arr;p;ash;et;;>nfin;Aetrr;;;r<ie;Atrr;rie;im;Aanrr;rhrk;;oear;\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0csuteiyr;c;abioslac;v;old;lig;crir;;\0\0\0n;ave;bmar;acitrirr;oss;n;aeicr;ga;cdnron;;pf;aelr;rp;;adiosvr;efmr;ofgof;r;lope;;cloashl;idees;as;mlbar;\0\0\0\0\0\0\0\0\0r;ast;lle\0\0m;;y;rcimptnt;od;il;enk;r;imo;v;mane;;tvchfork;aunckk;h;s;abcdemstcir;ir;ou;;nim;wo;ipuntint;f;nd;Eaceinosu;p;u;c;acenspprourlyeaespprox;qq;im;ime;sEasdfpalslar;ine;urf;;trel;cir;;ncsp;fiopsur;pf;rime;cr;aeoteirnionnt;st;eABHabcdefhilmnoprstuxartrail;arar;cdenqrteu;te;imptyv;g;del;;uor;abcfhlpstwp;;fs;;s;l;im;l;;aiil;o;nalabrrrk;akcek;;es;ldu;;aeuyron;diil;;clqsa;dhar;uo;rh;acgl;ipsnart;ilrsht;;aordu;l;;v;gnshtahlrstrrow;taarpoonduowpeftahrrowarpoonightarrows;quigarrohreetimes;g;ingdotseahmra;oust;achemid;abptnrg;r;raflr;;us;imes;apr;gt;olint;arachqquo;r;buo;rhirremes;i;efltri;luhar;;\0\0\0\0\0\0\0cute;qu;Eaceinpsy;\0;on;u;dil;rc;Eas;p;im;olint;i;ot;be;Aacmstxrr;rhr;oti;war;minnut;r;oacoyrp;hycy;;rt\0\0iaragmma;fv;;deglnprot;;q;E;;E;e;lus;arr;araeitlslsetmhp;parsl;dle;;e;s;flptcy;;b;ar;f;adres;uitcsuaup;s;p;s;ubp;eset;e;eset;e;afrarcemtr;tmiararr;fanighteppsilohsbcmnp;Edemnprs;ot;;dot;ult;Ee;;lus;arr;eiut;enq;qeq;qm;bp;;c;acenspprourlyeaespproqg;123;Edehlmnps;ost;ub;;dot;soul;b;arr;ult;Ee;;lus;eiut;enq;qeq;qm;bp;;Aanrr;rhr;owar;lig\0\0\0\0\0\0\0\0\0\0\0\0get;;raeyron;dil;;lrec;r;eiko\0e4fa;svym;cnkaspproimsasrnes;bd;ar;;eps;bcfot;ir;;ork;rime;aipdadempstngle;dlqrowneft;e;ight;eot;inus;lus;b;ime;ezium;chtry;;cy;rok;ioxheadlreftarroightarrowAHabcdfghlmoprstuwrar;cruter\0y;ve;iyrc;abhrlac;airsht;;raverlrlk;ct\0\0rn;erop;ri;alcr;gpon;f;adhlsuownarpoonlrefighi;hlonparrows;cit\0\0rn;erop;ng;ri;cr;dirot;lde;i;famrlangle;ABDacdeflnoprszrar;v;asnrgrt;eknprstappothinhirop;hiugmbpsetneq;q;setneq;q;hretianglelreftighty;ashelr;bear;q;lip;btar;trsubppf;rotrcur;bpnEenEeigzag;cefoprsirc;dibgar;e;q;erp;r;pf;;eatcr;\0\0\0\0\0\0\0trr;Aarr;Aarrais;dptfl;imAarrcqr;ptracefiosucuyte;iyrc;;nr;cy;pf;cr;cmy;lacdefhioswcute;ayron;;ot;ettra;r;cy;grarr;pf;cr;jn;j;'.split("").map(e=>e.charCodeAt(0))),JR=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]);function ZR(e){var t;return e>=55296&&e<=57343||e>1114111?65533:(t=JR.get(e))!==null&&t!==void 0?t:e}var ht;(function(e){e[e.NUM=35]="NUM",e[e.SEMI=59]="SEMI",e[e.EQUALS=61]="EQUALS",e[e.ZERO=48]="ZERO",e[e.NINE=57]="NINE",e[e.LOWER_A=97]="LOWER_A",e[e.LOWER_F=102]="LOWER_F",e[e.LOWER_X=120]="LOWER_X",e[e.LOWER_Z=122]="LOWER_Z",e[e.UPPER_A=65]="UPPER_A",e[e.UPPER_F=70]="UPPER_F",e[e.UPPER_Z=90]="UPPER_Z"})(ht||(ht={}));const e5=32;var Mr;(function(e){e[e.VALUE_LENGTH=49152]="VALUE_LENGTH",e[e.BRANCH_LENGTH=16256]="BRANCH_LENGTH",e[e.JUMP_TABLE=127]="JUMP_TABLE"})(Mr||(Mr={}));function cf(e){return e>=ht.ZERO&&e<=ht.NINE}function t5(e){return e>=ht.UPPER_A&&e<=ht.UPPER_F||e>=ht.LOWER_A&&e<=ht.LOWER_F}function n5(e){return e>=ht.UPPER_A&&e<=ht.UPPER_Z||e>=ht.LOWER_A&&e<=ht.LOWER_Z||cf(e)}function r5(e){return e===ht.EQUALS||n5(e)}var ut;(function(e){e[e.EntityStart=0]="EntityStart",e[e.NumericStart=1]="NumericStart",e[e.NumericDecimal=2]="NumericDecimal",e[e.NumericHex=3]="NumericHex",e[e.NamedEntity=4]="NamedEntity"})(ut||(ut={}));var Zn;(function(e){e[e.Legacy=0]="Legacy",e[e.Strict=1]="Strict",e[e.Attribute=2]="Attribute"})(Zn||(Zn={}));class s5{constructor(t,n,r){this.decodeTree=t,this.emitCodePoint=n,this.errors=r,this.state=ut.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=Zn.Strict}startEntity(t){this.decodeMode=t,this.state=ut.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(t,n){switch(this.state){case ut.EntityStart:return t.charCodeAt(n)===ht.NUM?(this.state=ut.NumericStart,this.consumed+=1,this.stateNumericStart(t,n+1)):(this.state=ut.NamedEntity,this.stateNamedEntity(t,n));case ut.NumericStart:return this.stateNumericStart(t,n);case ut.NumericDecimal:return this.stateNumericDecimal(t,n);case ut.NumericHex:return this.stateNumericHex(t,n);case ut.NamedEntity:return this.stateNamedEntity(t,n)}}stateNumericStart(t,n){return n>=t.length?-1:(t.charCodeAt(n)|e5)===ht.LOWER_X?(this.state=ut.NumericHex,this.consumed+=1,this.stateNumericHex(t,n+1)):(this.state=ut.NumericDecimal,this.stateNumericDecimal(t,n))}addToNumericResult(t,n,r,s){if(n!==r){const i=r-n;this.result=this.result*Math.pow(s,i)+Number.parseInt(t.substr(n,i),s),this.consumed+=i}}stateNumericHex(t,n){const r=n;for(;n<t.length;){const s=t.charCodeAt(n);if(cf(s)||t5(s))n+=1;else return this.addToNumericResult(t,r,n,16),this.emitNumericEntity(s,3)}return this.addToNumericResult(t,r,n,16),-1}stateNumericDecimal(t,n){const r=n;for(;n<t.length;){const s=t.charCodeAt(n);if(cf(s))n+=1;else return this.addToNumericResult(t,r,n,10),this.emitNumericEntity(s,2)}return this.addToNumericResult(t,r,n,10),-1}emitNumericEntity(t,n){var r;if(this.consumed<=n)return(r=this.errors)===null||r===void 0||r.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(t===ht.SEMI)this.consumed+=1;else if(this.decodeMode===Zn.Strict)return 0;return this.emitCodePoint(ZR(this.result),this.consumed),this.errors&&(t!==ht.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(t,n){const{decodeTree:r}=this;let s=r[this.treeIndex],i=(s&Mr.VALUE_LENGTH)>>14;for(;n<t.length;n++,this.excess++){const a=t.charCodeAt(n);if(this.treeIndex=i5(r,s,this.treeIndex+Math.max(1,i),a),this.treeIndex<0)return this.result===0||this.decodeMode===Zn.Attribute&&(i===0||r5(a))?0:this.emitNotTerminatedNamedEntity();if(s=r[this.treeIndex],i=(s&Mr.VALUE_LENGTH)>>14,i!==0){if(a===ht.SEMI)return this.emitNamedEntityData(this.treeIndex,i,this.consumed+this.excess);this.decodeMode!==Zn.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var t;const{result:n,decodeTree:r}=this,s=(r[n]&Mr.VALUE_LENGTH)>>14;return this.emitNamedEntityData(n,s,this.consumed),(t=this.errors)===null||t===void 0||t.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(t,n,r){const{decodeTree:s}=this;return this.emitCodePoint(n===1?s[t]&~Mr.VALUE_LENGTH:s[t+1],r),n===3&&this.emitCodePoint(s[t+2],r),r}end(){var t;switch(this.state){case ut.NamedEntity:return this.result!==0&&(this.decodeMode!==Zn.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case ut.NumericDecimal:return this.emitNumericEntity(0,2);case ut.NumericHex:return this.emitNumericEntity(0,3);case ut.NumericStart:return(t=this.errors)===null||t===void 0||t.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case ut.EntityStart:return 0}}}function i5(e,t,n,r){const s=(t&Mr.BRANCH_LENGTH)>>7,i=t&Mr.JUMP_TABLE;if(s===0)return i!==0&&r===i?n:-1;if(i){const u=r-i;return u<0||u>=s?-1:e[n+u]-1}let a=n,l=a+s-1;for(;a<=l;){const u=a+l>>>1,c=e[u];if(c<r)a=u+1;else if(c>r)l=u-1;else return e[u+s]}return-1}var H;(function(e){e.HTML="http://www.w3.org/1999/xhtml",e.MATHML="http://www.w3.org/1998/Math/MathML",e.SVG="http://www.w3.org/2000/svg",e.XLINK="http://www.w3.org/1999/xlink",e.XML="http://www.w3.org/XML/1998/namespace",e.XMLNS="http://www.w3.org/2000/xmlns/"})(H||(H={}));var Cs;(function(e){e.TYPE="type",e.ACTION="action",e.ENCODING="encoding",e.PROMPT="prompt",e.NAME="name",e.COLOR="color",e.FACE="face",e.SIZE="size"})(Cs||(Cs={}));var cn;(function(e){e.NO_QUIRKS="no-quirks",e.QUIRKS="quirks",e.LIMITED_QUIRKS="limited-quirks"})(cn||(cn={}));var O;(function(e){e.A="a",e.ADDRESS="address",e.ANNOTATION_XML="annotation-xml",e.APPLET="applet",e.AREA="area",e.ARTICLE="article",e.ASIDE="aside",e.B="b",e.BASE="base",e.BASEFONT="basefont",e.BGSOUND="bgsound",e.BIG="big",e.BLOCKQUOTE="blockquote",e.BODY="body",e.BR="br",e.BUTTON="button",e.CAPTION="caption",e.CENTER="center",e.CODE="code",e.COL="col",e.COLGROUP="colgroup",e.DD="dd",e.DESC="desc",e.DETAILS="details",e.DIALOG="dialog",e.DIR="dir",e.DIV="div",e.DL="dl",e.DT="dt",e.EM="em",e.EMBED="embed",e.FIELDSET="fieldset",e.FIGCAPTION="figcaption",e.FIGURE="figure",e.FONT="font",e.FOOTER="footer",e.FOREIGN_OBJECT="foreignObject",e.FORM="form",e.FRAME="frame",e.FRAMESET="frameset",e.H1="h1",e.H2="h2",e.H3="h3",e.H4="h4",e.H5="h5",e.H6="h6",e.HEAD="head",e.HEADER="header",e.HGROUP="hgroup",e.HR="hr",e.HTML="html",e.I="i",e.IMG="img",e.IMAGE="image",e.INPUT="input",e.IFRAME="iframe",e.KEYGEN="keygen",e.LABEL="label",e.LI="li",e.LINK="link",e.LISTING="listing",e.MAIN="main",e.MALIGNMARK="malignmark",e.MARQUEE="marquee",e.MATH="math",e.MENU="menu",e.META="meta",e.MGLYPH="mglyph",e.MI="mi",e.MO="mo",e.MN="mn",e.MS="ms",e.MTEXT="mtext",e.NAV="nav",e.NOBR="nobr",e.NOFRAMES="noframes",e.NOEMBED="noembed",e.NOSCRIPT="noscript",e.OBJECT="object",e.OL="ol",e.OPTGROUP="optgroup",e.OPTION="option",e.P="p",e.PARAM="param",e.PLAINTEXT="plaintext",e.PRE="pre",e.RB="rb",e.RP="rp",e.RT="rt",e.RTC="rtc",e.RUBY="ruby",e.S="s",e.SCRIPT="script",e.SEARCH="search",e.SECTION="section",e.SELECT="select",e.SOURCE="source",e.SMALL="small",e.SPAN="span",e.STRIKE="strike",e.STRONG="strong",e.STYLE="style",e.SUB="sub",e.SUMMARY="summary",e.SUP="sup",e.TABLE="table",e.TBODY="tbody",e.TEMPLATE="template",e.TEXTAREA="textarea",e.TFOOT="tfoot",e.TD="td",e.TH="th",e.THEAD="thead",e.TITLE="title",e.TR="tr",e.TRACK="track",e.TT="tt",e.U="u",e.UL="ul",e.SVG="svg",e.VAR="var",e.WBR="wbr",e.XMP="xmp"})(O||(O={}));var d;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.A=1]="A",e[e.ADDRESS=2]="ADDRESS",e[e.ANNOTATION_XML=3]="ANNOTATION_XML",e[e.APPLET=4]="APPLET",e[e.AREA=5]="AREA",e[e.ARTICLE=6]="ARTICLE",e[e.ASIDE=7]="ASIDE",e[e.B=8]="B",e[e.BASE=9]="BASE",e[e.BASEFONT=10]="BASEFONT",e[e.BGSOUND=11]="BGSOUND",e[e.BIG=12]="BIG",e[e.BLOCKQUOTE=13]="BLOCKQUOTE",e[e.BODY=14]="BODY",e[e.BR=15]="BR",e[e.BUTTON=16]="BUTTON",e[e.CAPTION=17]="CAPTION",e[e.CENTER=18]="CENTER",e[e.CODE=19]="CODE",e[e.COL=20]="COL",e[e.COLGROUP=21]="COLGROUP",e[e.DD=22]="DD",e[e.DESC=23]="DESC",e[e.DETAILS=24]="DETAILS",e[e.DIALOG=25]="DIALOG",e[e.DIR=26]="DIR",e[e.DIV=27]="DIV",e[e.DL=28]="DL",e[e.DT=29]="DT",e[e.EM=30]="EM",e[e.EMBED=31]="EMBED",e[e.FIELDSET=32]="FIELDSET",e[e.FIGCAPTION=33]="FIGCAPTION",e[e.FIGURE=34]="FIGURE",e[e.FONT=35]="FONT",e[e.FOOTER=36]="FOOTER",e[e.FOREIGN_OBJECT=37]="FOREIGN_OBJECT",e[e.FORM=38]="FORM",e[e.FRAME=39]="FRAME",e[e.FRAMESET=40]="FRAMESET",e[e.H1=41]="H1",e[e.H2=42]="H2",e[e.H3=43]="H3",e[e.H4=44]="H4",e[e.H5=45]="H5",e[e.H6=46]="H6",e[e.HEAD=47]="HEAD",e[e.HEADER=48]="HEADER",e[e.HGROUP=49]="HGROUP",e[e.HR=50]="HR",e[e.HTML=51]="HTML",e[e.I=52]="I",e[e.IMG=53]="IMG",e[e.IMAGE=54]="IMAGE",e[e.INPUT=55]="INPUT",e[e.IFRAME=56]="IFRAME",e[e.KEYGEN=57]="KEYGEN",e[e.LABEL=58]="LABEL",e[e.LI=59]="LI",e[e.LINK=60]="LINK",e[e.LISTING=61]="LISTING",e[e.MAIN=62]="MAIN",e[e.MALIGNMARK=63]="MALIGNMARK",e[e.MARQUEE=64]="MARQUEE",e[e.MATH=65]="MATH",e[e.MENU=66]="MENU",e[e.META=67]="META",e[e.MGLYPH=68]="MGLYPH",e[e.MI=69]="MI",e[e.MO=70]="MO",e[e.MN=71]="MN",e[e.MS=72]="MS",e[e.MTEXT=73]="MTEXT",e[e.NAV=74]="NAV",e[e.NOBR=75]="NOBR",e[e.NOFRAMES=76]="NOFRAMES",e[e.NOEMBED=77]="NOEMBED",e[e.NOSCRIPT=78]="NOSCRIPT",e[e.OBJECT=79]="OBJECT",e[e.OL=80]="OL",e[e.OPTGROUP=81]="OPTGROUP",e[e.OPTION=82]="OPTION",e[e.P=83]="P",e[e.PARAM=84]="PARAM",e[e.PLAINTEXT=85]="PLAINTEXT",e[e.PRE=86]="PRE",e[e.RB=87]="RB",e[e.RP=88]="RP",e[e.RT=89]="RT",e[e.RTC=90]="RTC",e[e.RUBY=91]="RUBY",e[e.S=92]="S",e[e.SCRIPT=93]="SCRIPT",e[e.SEARCH=94]="SEARCH",e[e.SECTION=95]="SECTION",e[e.SELECT=96]="SELECT",e[e.SOURCE=97]="SOURCE",e[e.SMALL=98]="SMALL",e[e.SPAN=99]="SPAN",e[e.STRIKE=100]="STRIKE",e[e.STRONG=101]="STRONG",e[e.STYLE=102]="STYLE",e[e.SUB=103]="SUB",e[e.SUMMARY=104]="SUMMARY",e[e.SUP=105]="SUP",e[e.TABLE=106]="TABLE",e[e.TBODY=107]="TBODY",e[e.TEMPLATE=108]="TEMPLATE",e[e.TEXTAREA=109]="TEXTAREA",e[e.TFOOT=110]="TFOOT",e[e.TD=111]="TD",e[e.TH=112]="TH",e[e.THEAD=113]="THEAD",e[e.TITLE=114]="TITLE",e[e.TR=115]="TR",e[e.TRACK=116]="TRACK",e[e.TT=117]="TT",e[e.U=118]="U",e[e.UL=119]="UL",e[e.SVG=120]="SVG",e[e.VAR=121]="VAR",e[e.WBR=122]="WBR",e[e.XMP=123]="XMP"})(d||(d={}));const a5=new Map([[O.A,d.A],[O.ADDRESS,d.ADDRESS],[O.ANNOTATION_XML,d.ANNOTATION_XML],[O.APPLET,d.APPLET],[O.AREA,d.AREA],[O.ARTICLE,d.ARTICLE],[O.ASIDE,d.ASIDE],[O.B,d.B],[O.BASE,d.BASE],[O.BASEFONT,d.BASEFONT],[O.BGSOUND,d.BGSOUND],[O.BIG,d.BIG],[O.BLOCKQUOTE,d.BLOCKQUOTE],[O.BODY,d.BODY],[O.BR,d.BR],[O.BUTTON,d.BUTTON],[O.CAPTION,d.CAPTION],[O.CENTER,d.CENTER],[O.CODE,d.CODE],[O.COL,d.COL],[O.COLGROUP,d.COLGROUP],[O.DD,d.DD],[O.DESC,d.DESC],[O.DETAILS,d.DETAILS],[O.DIALOG,d.DIALOG],[O.DIR,d.DIR],[O.DIV,d.DIV],[O.DL,d.DL],[O.DT,d.DT],[O.EM,d.EM],[O.EMBED,d.EMBED],[O.FIELDSET,d.FIELDSET],[O.FIGCAPTION,d.FIGCAPTION],[O.FIGURE,d.FIGURE],[O.FONT,d.FONT],[O.FOOTER,d.FOOTER],[O.FOREIGN_OBJECT,d.FOREIGN_OBJECT],[O.FORM,d.FORM],[O.FRAME,d.FRAME],[O.FRAMESET,d.FRAMESET],[O.H1,d.H1],[O.H2,d.H2],[O.H3,d.H3],[O.H4,d.H4],[O.H5,d.H5],[O.H6,d.H6],[O.HEAD,d.HEAD],[O.HEADER,d.HEADER],[O.HGROUP,d.HGROUP],[O.HR,d.HR],[O.HTML,d.HTML],[O.I,d.I],[O.IMG,d.IMG],[O.IMAGE,d.IMAGE],[O.INPUT,d.INPUT],[O.IFRAME,d.IFRAME],[O.KEYGEN,d.KEYGEN],[O.LABEL,d.LABEL],[O.LI,d.LI],[O.LINK,d.LINK],[O.LISTING,d.LISTING],[O.MAIN,d.MAIN],[O.MALIGNMARK,d.MALIGNMARK],[O.MARQUEE,d.MARQUEE],[O.MATH,d.MATH],[O.MENU,d.MENU],[O.META,d.META],[O.MGLYPH,d.MGLYPH],[O.MI,d.MI],[O.MO,d.MO],[O.MN,d.MN],[O.MS,d.MS],[O.MTEXT,d.MTEXT],[O.NAV,d.NAV],[O.NOBR,d.NOBR],[O.NOFRAMES,d.NOFRAMES],[O.NOEMBED,d.NOEMBED],[O.NOSCRIPT,d.NOSCRIPT],[O.OBJECT,d.OBJECT],[O.OL,d.OL],[O.OPTGROUP,d.OPTGROUP],[O.OPTION,d.OPTION],[O.P,d.P],[O.PARAM,d.PARAM],[O.PLAINTEXT,d.PLAINTEXT],[O.PRE,d.PRE],[O.RB,d.RB],[O.RP,d.RP],[O.RT,d.RT],[O.RTC,d.RTC],[O.RUBY,d.RUBY],[O.S,d.S],[O.SCRIPT,d.SCRIPT],[O.SEARCH,d.SEARCH],[O.SECTION,d.SECTION],[O.SELECT,d.SELECT],[O.SOURCE,d.SOURCE],[O.SMALL,d.SMALL],[O.SPAN,d.SPAN],[O.STRIKE,d.STRIKE],[O.STRONG,d.STRONG],[O.STYLE,d.STYLE],[O.SUB,d.SUB],[O.SUMMARY,d.SUMMARY],[O.SUP,d.SUP],[O.TABLE,d.TABLE],[O.TBODY,d.TBODY],[O.TEMPLATE,d.TEMPLATE],[O.TEXTAREA,d.TEXTAREA],[O.TFOOT,d.TFOOT],[O.TD,d.TD],[O.TH,d.TH],[O.THEAD,d.THEAD],[O.TITLE,d.TITLE],[O.TR,d.TR],[O.TRACK,d.TRACK],[O.TT,d.TT],[O.U,d.U],[O.UL,d.UL],[O.SVG,d.SVG],[O.VAR,d.VAR],[O.WBR,d.WBR],[O.XMP,d.XMP]]);function ia(e){var t;return(t=a5.get(e))!==null&&t!==void 0?t:d.UNKNOWN}const z=d,o5={[H.HTML]:new Set([z.ADDRESS,z.APPLET,z.AREA,z.ARTICLE,z.ASIDE,z.BASE,z.BASEFONT,z.BGSOUND,z.BLOCKQUOTE,z.BODY,z.BR,z.BUTTON,z.CAPTION,z.CENTER,z.COL,z.COLGROUP,z.DD,z.DETAILS,z.DIR,z.DIV,z.DL,z.DT,z.EMBED,z.FIELDSET,z.FIGCAPTION,z.FIGURE,z.FOOTER,z.FORM,z.FRAME,z.FRAMESET,z.H1,z.H2,z.H3,z.H4,z.H5,z.H6,z.HEAD,z.HEADER,z.HGROUP,z.HR,z.HTML,z.IFRAME,z.IMG,z.INPUT,z.LI,z.LINK,z.LISTING,z.MAIN,z.MARQUEE,z.MENU,z.META,z.NAV,z.NOEMBED,z.NOFRAMES,z.NOSCRIPT,z.OBJECT,z.OL,z.P,z.PARAM,z.PLAINTEXT,z.PRE,z.SCRIPT,z.SECTION,z.SELECT,z.SOURCE,z.STYLE,z.SUMMARY,z.TABLE,z.TBODY,z.TD,z.TEMPLATE,z.TEXTAREA,z.TFOOT,z.TH,z.THEAD,z.TITLE,z.TR,z.TRACK,z.UL,z.WBR,z.XMP]),[H.MATHML]:new Set([z.MI,z.MO,z.MN,z.MS,z.MTEXT,z.ANNOTATION_XML]),[H.SVG]:new Set([z.TITLE,z.FOREIGN_OBJECT,z.DESC]),[H.XLINK]:new Set,[H.XML]:new Set,[H.XMLNS]:new Set},df=new Set([z.H1,z.H2,z.H3,z.H4,z.H5,z.H6]);O.STYLE,O.SCRIPT,O.XMP,O.IFRAME,O.NOEMBED,O.NOFRAMES,O.PLAINTEXT;var T;(function(e){e[e.DATA=0]="DATA",e[e.RCDATA=1]="RCDATA",e[e.RAWTEXT=2]="RAWTEXT",e[e.SCRIPT_DATA=3]="SCRIPT_DATA",e[e.PLAINTEXT=4]="PLAINTEXT",e[e.TAG_OPEN=5]="TAG_OPEN",e[e.END_TAG_OPEN=6]="END_TAG_OPEN",e[e.TAG_NAME=7]="TAG_NAME",e[e.RCDATA_LESS_THAN_SIGN=8]="RCDATA_LESS_THAN_SIGN",e[e.RCDATA_END_TAG_OPEN=9]="RCDATA_END_TAG_OPEN",e[e.RCDATA_END_TAG_NAME=10]="RCDATA_END_TAG_NAME",e[e.RAWTEXT_LESS_THAN_SIGN=11]="RAWTEXT_LESS_THAN_SIGN",e[e.RAWTEXT_END_TAG_OPEN=12]="RAWTEXT_END_TAG_OPEN",e[e.RAWTEXT_END_TAG_NAME=13]="RAWTEXT_END_TAG_NAME",e[e.SCRIPT_DATA_LESS_THAN_SIGN=14]="SCRIPT_DATA_LESS_THAN_SIGN",e[e.SCRIPT_DATA_END_TAG_OPEN=15]="SCRIPT_DATA_END_TAG_OPEN",e[e.SCRIPT_DATA_END_TAG_NAME=16]="SCRIPT_DATA_END_TAG_NAME",e[e.SCRIPT_DATA_ESCAPE_START=17]="SCRIPT_DATA_ESCAPE_START",e[e.SCRIPT_DATA_ESCAPE_START_DASH=18]="SCRIPT_DATA_ESCAPE_START_DASH",e[e.SCRIPT_DATA_ESCAPED=19]="SCRIPT_DATA_ESCAPED",e[e.SCRIPT_DATA_ESCAPED_DASH=20]="SCRIPT_DATA_ESCAPED_DASH",e[e.SCRIPT_DATA_ESCAPED_DASH_DASH=21]="SCRIPT_DATA_ESCAPED_DASH_DASH",e[e.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN=22]="SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN",e[e.SCRIPT_DATA_ESCAPED_END_TAG_OPEN=23]="SCRIPT_DATA_ESCAPED_END_TAG_OPEN",e[e.SCRIPT_DATA_ESCAPED_END_TAG_NAME=24]="SCRIPT_DATA_ESCAPED_END_TAG_NAME",e[e.SCRIPT_DATA_DOUBLE_ESCAPE_START=25]="SCRIPT_DATA_DOUBLE_ESCAPE_START",e[e.SCRIPT_DATA_DOUBLE_ESCAPED=26]="SCRIPT_DATA_DOUBLE_ESCAPED",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH=27]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH=28]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN=29]="SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN",e[e.SCRIPT_DATA_DOUBLE_ESCAPE_END=30]="SCRIPT_DATA_DOUBLE_ESCAPE_END",e[e.BEFORE_ATTRIBUTE_NAME=31]="BEFORE_ATTRIBUTE_NAME",e[e.ATTRIBUTE_NAME=32]="ATTRIBUTE_NAME",e[e.AFTER_ATTRIBUTE_NAME=33]="AFTER_ATTRIBUTE_NAME",e[e.BEFORE_ATTRIBUTE_VALUE=34]="BEFORE_ATTRIBUTE_VALUE",e[e.ATTRIBUTE_VALUE_DOUBLE_QUOTED=35]="ATTRIBUTE_VALUE_DOUBLE_QUOTED",e[e.ATTRIBUTE_VALUE_SINGLE_QUOTED=36]="ATTRIBUTE_VALUE_SINGLE_QUOTED",e[e.ATTRIBUTE_VALUE_UNQUOTED=37]="ATTRIBUTE_VALUE_UNQUOTED",e[e.AFTER_ATTRIBUTE_VALUE_QUOTED=38]="AFTER_ATTRIBUTE_VALUE_QUOTED",e[e.SELF_CLOSING_START_TAG=39]="SELF_CLOSING_START_TAG",e[e.BOGUS_COMMENT=40]="BOGUS_COMMENT",e[e.MARKUP_DECLARATION_OPEN=41]="MARKUP_DECLARATION_OPEN",e[e.COMMENT_START=42]="COMMENT_START",e[e.COMMENT_START_DASH=43]="COMMENT_START_DASH",e[e.COMMENT=44]="COMMENT",e[e.COMMENT_LESS_THAN_SIGN=45]="COMMENT_LESS_THAN_SIGN",e[e.COMMENT_LESS_THAN_SIGN_BANG=46]="COMMENT_LESS_THAN_SIGN_BANG",e[e.COMMENT_LESS_THAN_SIGN_BANG_DASH=47]="COMMENT_LESS_THAN_SIGN_BANG_DASH",e[e.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH=48]="COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH",e[e.COMMENT_END_DASH=49]="COMMENT_END_DASH",e[e.COMMENT_END=50]="COMMENT_END",e[e.COMMENT_END_BANG=51]="COMMENT_END_BANG",e[e.DOCTYPE=52]="DOCTYPE",e[e.BEFORE_DOCTYPE_NAME=53]="BEFORE_DOCTYPE_NAME",e[e.DOCTYPE_NAME=54]="DOCTYPE_NAME",e[e.AFTER_DOCTYPE_NAME=55]="AFTER_DOCTYPE_NAME",e[e.AFTER_DOCTYPE_PUBLIC_KEYWORD=56]="AFTER_DOCTYPE_PUBLIC_KEYWORD",e[e.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER=57]="BEFORE_DOCTYPE_PUBLIC_IDENTIFIER",e[e.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED=58]="DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED",e[e.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED=59]="DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED",e[e.AFTER_DOCTYPE_PUBLIC_IDENTIFIER=60]="AFTER_DOCTYPE_PUBLIC_IDENTIFIER",e[e.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS=61]="BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS",e[e.AFTER_DOCTYPE_SYSTEM_KEYWORD=62]="AFTER_DOCTYPE_SYSTEM_KEYWORD",e[e.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER=63]="BEFORE_DOCTYPE_SYSTEM_IDENTIFIER",e[e.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED=64]="DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED",e[e.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED=65]="DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED",e[e.AFTER_DOCTYPE_SYSTEM_IDENTIFIER=66]="AFTER_DOCTYPE_SYSTEM_IDENTIFIER",e[e.BOGUS_DOCTYPE=67]="BOGUS_DOCTYPE",e[e.CDATA_SECTION=68]="CDATA_SECTION",e[e.CDATA_SECTION_BRACKET=69]="CDATA_SECTION_BRACKET",e[e.CDATA_SECTION_END=70]="CDATA_SECTION_END",e[e.CHARACTER_REFERENCE=71]="CHARACTER_REFERENCE",e[e.AMBIGUOUS_AMPERSAND=72]="AMBIGUOUS_AMPERSAND"})(T||(T={}));const Ge={DATA:T.DATA,RCDATA:T.RCDATA,RAWTEXT:T.RAWTEXT,SCRIPT_DATA:T.SCRIPT_DATA,PLAINTEXT:T.PLAINTEXT,CDATA_SECTION:T.CDATA_SECTION};function l5(e){return e>=_.DIGIT_0&&e<=_.DIGIT_9}function Aa(e){return e>=_.LATIN_CAPITAL_A&&e<=_.LATIN_CAPITAL_Z}function u5(e){return e>=_.LATIN_SMALL_A&&e<=_.LATIN_SMALL_Z}function xr(e){return u5(e)||Aa(e)}function c1(e){return xr(e)||l5(e)}function Cl(e){return e+32}function B2(e){return e===_.SPACE||e===_.LINE_FEED||e===_.TABULATION||e===_.FORM_FEED}function d1(e){return B2(e)||e===_.SOLIDUS||e===_.GREATER_THAN_SIGN}function c5(e){return e===_.NULL?D.nullCharacterReference:e>1114111?D.characterReferenceOutsideUnicodeRange:L2(e)?D.surrogateCharacterReference:D2(e)?D.noncharacterCharacterReference:j2(e)||e===_.CARRIAGE_RETURN?D.controlCharacterReference:null}class d5{constructor(t,n){this.options=t,this.handler=n,this.paused=!1,this.inLoop=!1,this.inForeignNode=!1,this.lastStartTagName="",this.active=!1,this.state=T.DATA,this.returnState=T.DATA,this.entityStartPos=0,this.consumedAfterSnapshot=-1,this.currentCharacterToken=null,this.currentToken=null,this.currentAttr={name:"",value:""},this.preprocessor=new QR(n),this.currentLocation=this.getCurrentLocation(-1),this.entityDecoder=new s5(XR,(r,s)=>{this.preprocessor.pos=this.entityStartPos+s-1,this._flushCodePointConsumedAsCharacterReference(r)},n.onParseError?{missingSemicolonAfterCharacterReference:()=>{this._err(D.missingSemicolonAfterCharacterReference,1)},absenceOfDigitsInNumericCharacterReference:r=>{this._err(D.absenceOfDigitsInNumericCharacterReference,this.entityStartPos-this.preprocessor.pos+r)},validateNumericCharacterReference:r=>{const s=c5(r);s&&this._err(s,1)}}:void 0)}_err(t,n=0){var r,s;(s=(r=this.handler).onParseError)===null||s===void 0||s.call(r,this.preprocessor.getError(t,n))}getCurrentLocation(t){return this.options.sourceCodeLocationInfo?{startLine:this.preprocessor.line,startCol:this.preprocessor.col-t,startOffset:this.preprocessor.offset-t,endLine:-1,endCol:-1,endOffset:-1}:null}_runParsingLoop(){if(!this.inLoop){for(this.inLoop=!0;this.active&&!this.paused;){this.consumedAfterSnapshot=0;const t=this._consume();this._ensureHibernation()||this._callState(t)}this.inLoop=!1}}pause(){this.paused=!0}resume(t){if(!this.paused)throw new Error("Parser was already resumed");this.paused=!1,!this.inLoop&&(this._runParsingLoop(),this.paused||t==null||t())}write(t,n,r){this.active=!0,this.preprocessor.write(t,n),this._runParsingLoop(),this.paused||r==null||r()}insertHtmlAtCurrentPos(t){this.active=!0,this.preprocessor.insertHtmlAtCurrentPos(t),this._runParsingLoop()}_ensureHibernation(){return this.preprocessor.endOfChunkHit?(this.preprocessor.retreat(this.consumedAfterSnapshot),this.consumedAfterSnapshot=0,this.active=!1,!0):!1}_consume(){return this.consumedAfterSnapshot++,this.preprocessor.advance()}_advanceBy(t){this.consumedAfterSnapshot+=t;for(let n=0;n<t;n++)this.preprocessor.advance()}_consumeSequenceIfMatch(t,n){return this.preprocessor.startsWith(t,n)?(this._advanceBy(t.length-1),!0):!1}_createStartTagToken(){this.currentToken={type:fe.START_TAG,tagName:"",tagID:d.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(1)}}_createEndTagToken(){this.currentToken={type:fe.END_TAG,tagName:"",tagID:d.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(2)}}_createCommentToken(t){this.currentToken={type:fe.COMMENT,data:"",location:this.getCurrentLocation(t)}}_createDoctypeToken(t){this.currentToken={type:fe.DOCTYPE,name:t,forceQuirks:!1,publicId:null,systemId:null,location:this.currentLocation}}_createCharacterToken(t,n){this.currentCharacterToken={type:t,chars:n,location:this.currentLocation}}_createAttr(t){this.currentAttr={name:t,value:""},this.currentLocation=this.getCurrentLocation(0)}_leaveAttrName(){var t,n;const r=this.currentToken;if(M2(r,this.currentAttr.name)===null){if(r.attrs.push(this.currentAttr),r.location&&this.currentLocation){const s=(t=(n=r.location).attrs)!==null&&t!==void 0?t:n.attrs=Object.create(null);s[this.currentAttr.name]=this.currentLocation,this._leaveAttrValue()}}else this._err(D.duplicateAttribute)}_leaveAttrValue(){this.currentLocation&&(this.currentLocation.endLine=this.preprocessor.line,this.currentLocation.endCol=this.preprocessor.col,this.currentLocation.endOffset=this.preprocessor.offset)}prepareToken(t){this._emitCurrentCharacterToken(t.location),this.currentToken=null,t.location&&(t.location.endLine=this.preprocessor.line,t.location.endCol=this.preprocessor.col+1,t.location.endOffset=this.preprocessor.offset+1),this.currentLocation=this.getCurrentLocation(-1)}emitCurrentTagToken(){const t=this.currentToken;this.prepareToken(t),t.tagID=ia(t.tagName),t.type===fe.START_TAG?(this.lastStartTagName=t.tagName,this.handler.onStartTag(t)):(t.attrs.length>0&&this._err(D.endTagWithAttributes),t.selfClosing&&this._err(D.endTagWithTrailingSolidus),this.handler.onEndTag(t)),this.preprocessor.dropParsedChunk()}emitCurrentComment(t){this.prepareToken(t),this.handler.onComment(t),this.preprocessor.dropParsedChunk()}emitCurrentDoctype(t){this.prepareToken(t),this.handler.onDoctype(t),this.preprocessor.dropParsedChunk()}_emitCurrentCharacterToken(t){if(this.currentCharacterToken){switch(t&&this.currentCharacterToken.location&&(this.currentCharacterToken.location.endLine=t.startLine,this.currentCharacterToken.location.endCol=t.startCol,this.currentCharacterToken.location.endOffset=t.startOffset),this.currentCharacterToken.type){case fe.CHARACTER:{this.handler.onCharacter(this.currentCharacterToken);break}case fe.NULL_CHARACTER:{this.handler.onNullCharacter(this.currentCharacterToken);break}case fe.WHITESPACE_CHARACTER:{this.handler.onWhitespaceCharacter(this.currentCharacterToken);break}}this.currentCharacterToken=null}}_emitEOFToken(){const t=this.getCurrentLocation(0);t&&(t.endLine=t.startLine,t.endCol=t.startCol,t.endOffset=t.startOffset),this._emitCurrentCharacterToken(t),this.handler.onEof({type:fe.EOF,location:t}),this.active=!1}_appendCharToCurrentCharacterToken(t,n){if(this.currentCharacterToken)if(this.currentCharacterToken.type===t){this.currentCharacterToken.chars+=n;return}else this.currentLocation=this.getCurrentLocation(0),this._emitCurrentCharacterToken(this.currentLocation),this.preprocessor.dropParsedChunk();this._createCharacterToken(t,n)}_emitCodePoint(t){const n=B2(t)?fe.WHITESPACE_CHARACTER:t===_.NULL?fe.NULL_CHARACTER:fe.CHARACTER;this._appendCharToCurrentCharacterToken(n,String.fromCodePoint(t))}_emitChars(t){this._appendCharToCurrentCharacterToken(fe.CHARACTER,t)}_startCharacterReference(){this.returnState=this.state,this.state=T.CHARACTER_REFERENCE,this.entityStartPos=this.preprocessor.pos,this.entityDecoder.startEntity(this._isCharacterReferenceInAttribute()?Zn.Attribute:Zn.Legacy)}_isCharacterReferenceInAttribute(){return this.returnState===T.ATTRIBUTE_VALUE_DOUBLE_QUOTED||this.returnState===T.ATTRIBUTE_VALUE_SINGLE_QUOTED||this.returnState===T.ATTRIBUTE_VALUE_UNQUOTED}_flushCodePointConsumedAsCharacterReference(t){this._isCharacterReferenceInAttribute()?this.currentAttr.value+=String.fromCodePoint(t):this._emitCodePoint(t)}_callState(t){switch(this.state){case T.DATA:{this._stateData(t);break}case T.RCDATA:{this._stateRcdata(t);break}case T.RAWTEXT:{this._stateRawtext(t);break}case T.SCRIPT_DATA:{this._stateScriptData(t);break}case T.PLAINTEXT:{this._statePlaintext(t);break}case T.TAG_OPEN:{this._stateTagOpen(t);break}case T.END_TAG_OPEN:{this._stateEndTagOpen(t);break}case T.TAG_NAME:{this._stateTagName(t);break}case T.RCDATA_LESS_THAN_SIGN:{this._stateRcdataLessThanSign(t);break}case T.RCDATA_END_TAG_OPEN:{this._stateRcdataEndTagOpen(t);break}case T.RCDATA_END_TAG_NAME:{this._stateRcdataEndTagName(t);break}case T.RAWTEXT_LESS_THAN_SIGN:{this._stateRawtextLessThanSign(t);break}case T.RAWTEXT_END_TAG_OPEN:{this._stateRawtextEndTagOpen(t);break}case T.RAWTEXT_END_TAG_NAME:{this._stateRawtextEndTagName(t);break}case T.SCRIPT_DATA_LESS_THAN_SIGN:{this._stateScriptDataLessThanSign(t);break}case T.SCRIPT_DATA_END_TAG_OPEN:{this._stateScriptDataEndTagOpen(t);break}case T.SCRIPT_DATA_END_TAG_NAME:{this._stateScriptDataEndTagName(t);break}case T.SCRIPT_DATA_ESCAPE_START:{this._stateScriptDataEscapeStart(t);break}case T.SCRIPT_DATA_ESCAPE_START_DASH:{this._stateScriptDataEscapeStartDash(t);break}case T.SCRIPT_DATA_ESCAPED:{this._stateScriptDataEscaped(t);break}case T.SCRIPT_DATA_ESCAPED_DASH:{this._stateScriptDataEscapedDash(t);break}case T.SCRIPT_DATA_ESCAPED_DASH_DASH:{this._stateScriptDataEscapedDashDash(t);break}case T.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataEscapedLessThanSign(t);break}case T.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:{this._stateScriptDataEscapedEndTagOpen(t);break}case T.SCRIPT_DATA_ESCAPED_END_TAG_NAME:{this._stateScriptDataEscapedEndTagName(t);break}case T.SCRIPT_DATA_DOUBLE_ESCAPE_START:{this._stateScriptDataDoubleEscapeStart(t);break}case T.SCRIPT_DATA_DOUBLE_ESCAPED:{this._stateScriptDataDoubleEscaped(t);break}case T.SCRIPT_DATA_DOUBLE_ESCAPED_DASH:{this._stateScriptDataDoubleEscapedDash(t);break}case T.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH:{this._stateScriptDataDoubleEscapedDashDash(t);break}case T.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataDoubleEscapedLessThanSign(t);break}case T.SCRIPT_DATA_DOUBLE_ESCAPE_END:{this._stateScriptDataDoubleEscapeEnd(t);break}case T.BEFORE_ATTRIBUTE_NAME:{this._stateBeforeAttributeName(t);break}case T.ATTRIBUTE_NAME:{this._stateAttributeName(t);break}case T.AFTER_ATTRIBUTE_NAME:{this._stateAfterAttributeName(t);break}case T.BEFORE_ATTRIBUTE_VALUE:{this._stateBeforeAttributeValue(t);break}case T.ATTRIBUTE_VALUE_DOUBLE_QUOTED:{this._stateAttributeValueDoubleQuoted(t);break}case T.ATTRIBUTE_VALUE_SINGLE_QUOTED:{this._stateAttributeValueSingleQuoted(t);break}case T.ATTRIBUTE_VALUE_UNQUOTED:{this._stateAttributeValueUnquoted(t);break}case T.AFTER_ATTRIBUTE_VALUE_QUOTED:{this._stateAfterAttributeValueQuoted(t);break}case T.SELF_CLOSING_START_TAG:{this._stateSelfClosingStartTag(t);break}case T.BOGUS_COMMENT:{this._stateBogusComment(t);break}case T.MARKUP_DECLARATION_OPEN:{this._stateMarkupDeclarationOpen(t);break}case T.COMMENT_START:{this._stateCommentStart(t);break}case T.COMMENT_START_DASH:{this._stateCommentStartDash(t);break}case T.COMMENT:{this._stateComment(t);break}case T.COMMENT_LESS_THAN_SIGN:{this._stateCommentLessThanSign(t);break}case T.COMMENT_LESS_THAN_SIGN_BANG:{this._stateCommentLessThanSignBang(t);break}case T.COMMENT_LESS_THAN_SIGN_BANG_DASH:{this._stateCommentLessThanSignBangDash(t);break}case T.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:{this._stateCommentLessThanSignBangDashDash(t);break}case T.COMMENT_END_DASH:{this._stateCommentEndDash(t);break}case T.COMMENT_END:{this._stateCommentEnd(t);break}case T.COMMENT_END_BANG:{this._stateCommentEndBang(t);break}case T.DOCTYPE:{this._stateDoctype(t);break}case T.BEFORE_DOCTYPE_NAME:{this._stateBeforeDoctypeName(t);break}case T.DOCTYPE_NAME:{this._stateDoctypeName(t);break}case T.AFTER_DOCTYPE_NAME:{this._stateAfterDoctypeName(t);break}case T.AFTER_DOCTYPE_PUBLIC_KEYWORD:{this._stateAfterDoctypePublicKeyword(t);break}case T.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateBeforeDoctypePublicIdentifier(t);break}case T.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypePublicIdentifierDoubleQuoted(t);break}case T.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypePublicIdentifierSingleQuoted(t);break}case T.AFTER_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateAfterDoctypePublicIdentifier(t);break}case T.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS:{this._stateBetweenDoctypePublicAndSystemIdentifiers(t);break}case T.AFTER_DOCTYPE_SYSTEM_KEYWORD:{this._stateAfterDoctypeSystemKeyword(t);break}case T.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateBeforeDoctypeSystemIdentifier(t);break}case T.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypeSystemIdentifierDoubleQuoted(t);break}case T.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypeSystemIdentifierSingleQuoted(t);break}case T.AFTER_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateAfterDoctypeSystemIdentifier(t);break}case T.BOGUS_DOCTYPE:{this._stateBogusDoctype(t);break}case T.CDATA_SECTION:{this._stateCdataSection(t);break}case T.CDATA_SECTION_BRACKET:{this._stateCdataSectionBracket(t);break}case T.CDATA_SECTION_END:{this._stateCdataSectionEnd(t);break}case T.CHARACTER_REFERENCE:{this._stateCharacterReference();break}case T.AMBIGUOUS_AMPERSAND:{this._stateAmbiguousAmpersand(t);break}default:throw new Error("Unknown state")}}_stateData(t){switch(t){case _.LESS_THAN_SIGN:{this.state=T.TAG_OPEN;break}case _.AMPERSAND:{this._startCharacterReference();break}case _.NULL:{this._err(D.unexpectedNullCharacter),this._emitCodePoint(t);break}case _.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateRcdata(t){switch(t){case _.AMPERSAND:{this._startCharacterReference();break}case _.LESS_THAN_SIGN:{this.state=T.RCDATA_LESS_THAN_SIGN;break}case _.NULL:{this._err(D.unexpectedNullCharacter),this._emitChars(je);break}case _.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateRawtext(t){switch(t){case _.LESS_THAN_SIGN:{this.state=T.RAWTEXT_LESS_THAN_SIGN;break}case _.NULL:{this._err(D.unexpectedNullCharacter),this._emitChars(je);break}case _.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptData(t){switch(t){case _.LESS_THAN_SIGN:{this.state=T.SCRIPT_DATA_LESS_THAN_SIGN;break}case _.NULL:{this._err(D.unexpectedNullCharacter),this._emitChars(je);break}case _.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_statePlaintext(t){switch(t){case _.NULL:{this._err(D.unexpectedNullCharacter),this._emitChars(je);break}case _.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateTagOpen(t){if(xr(t))this._createStartTagToken(),this.state=T.TAG_NAME,this._stateTagName(t);else switch(t){case _.EXCLAMATION_MARK:{this.state=T.MARKUP_DECLARATION_OPEN;break}case _.SOLIDUS:{this.state=T.END_TAG_OPEN;break}case _.QUESTION_MARK:{this._err(D.unexpectedQuestionMarkInsteadOfTagName),this._createCommentToken(1),this.state=T.BOGUS_COMMENT,this._stateBogusComment(t);break}case _.EOF:{this._err(D.eofBeforeTagName),this._emitChars("<"),this._emitEOFToken();break}default:this._err(D.invalidFirstCharacterOfTagName),this._emitChars("<"),this.state=T.DATA,this._stateData(t)}}_stateEndTagOpen(t){if(xr(t))this._createEndTagToken(),this.state=T.TAG_NAME,this._stateTagName(t);else switch(t){case _.GREATER_THAN_SIGN:{this._err(D.missingEndTagName),this.state=T.DATA;break}case _.EOF:{this._err(D.eofBeforeTagName),this._emitChars("</"),this._emitEOFToken();break}default:this._err(D.invalidFirstCharacterOfTagName),this._createCommentToken(2),this.state=T.BOGUS_COMMENT,this._stateBogusComment(t)}}_stateTagName(t){const n=this.currentToken;switch(t){case _.SPACE:case _.LINE_FEED:case _.TABULATION:case _.FORM_FEED:{this.state=T.BEFORE_ATTRIBUTE_NAME;break}case _.SOLIDUS:{this.state=T.SELF_CLOSING_START_TAG;break}case _.GREATER_THAN_SIGN:{this.state=T.DATA,this.emitCurrentTagToken();break}case _.NULL:{this._err(D.unexpectedNullCharacter),n.tagName+=je;break}case _.EOF:{this._err(D.eofInTag),this._emitEOFToken();break}default:n.tagName+=String.fromCodePoint(Aa(t)?Cl(t):t)}}_stateRcdataLessThanSign(t){t===_.SOLIDUS?this.state=T.RCDATA_END_TAG_OPEN:(this._emitChars("<"),this.state=T.RCDATA,this._stateRcdata(t))}_stateRcdataEndTagOpen(t){xr(t)?(this.state=T.RCDATA_END_TAG_NAME,this._stateRcdataEndTagName(t)):(this._emitChars("</"),this.state=T.RCDATA,this._stateRcdata(t))}handleSpecialEndTag(t){if(!this.preprocessor.startsWith(this.lastStartTagName,!1))return!this._ensureHibernation();this._createEndTagToken();const n=this.currentToken;switch(n.tagName=this.lastStartTagName,this.preprocessor.peek(this.lastStartTagName.length)){case _.SPACE:case _.LINE_FEED:case _.TABULATION:case _.FORM_FEED:return this._advanceBy(this.lastStartTagName.length),this.state=T.BEFORE_ATTRIBUTE_NAME,!1;case _.SOLIDUS:return this._advanceBy(this.lastStartTagName.length),this.state=T.SELF_CLOSING_START_TAG,!1;case _.GREATER_THAN_SIGN:return this._advanceBy(this.lastStartTagName.length),this.emitCurrentTagToken(),this.state=T.DATA,!1;default:return!this._ensureHibernation()}}_stateRcdataEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=T.RCDATA,this._stateRcdata(t))}_stateRawtextLessThanSign(t){t===_.SOLIDUS?this.state=T.RAWTEXT_END_TAG_OPEN:(this._emitChars("<"),this.state=T.RAWTEXT,this._stateRawtext(t))}_stateRawtextEndTagOpen(t){xr(t)?(this.state=T.RAWTEXT_END_TAG_NAME,this._stateRawtextEndTagName(t)):(this._emitChars("</"),this.state=T.RAWTEXT,this._stateRawtext(t))}_stateRawtextEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=T.RAWTEXT,this._stateRawtext(t))}_stateScriptDataLessThanSign(t){switch(t){case _.SOLIDUS:{this.state=T.SCRIPT_DATA_END_TAG_OPEN;break}case _.EXCLAMATION_MARK:{this.state=T.SCRIPT_DATA_ESCAPE_START,this._emitChars("<!");break}default:this._emitChars("<"),this.state=T.SCRIPT_DATA,this._stateScriptData(t)}}_stateScriptDataEndTagOpen(t){xr(t)?(this.state=T.SCRIPT_DATA_END_TAG_NAME,this._stateScriptDataEndTagName(t)):(this._emitChars("</"),this.state=T.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=T.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscapeStart(t){t===_.HYPHEN_MINUS?(this.state=T.SCRIPT_DATA_ESCAPE_START_DASH,this._emitChars("-")):(this.state=T.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscapeStartDash(t){t===_.HYPHEN_MINUS?(this.state=T.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-")):(this.state=T.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscaped(t){switch(t){case _.HYPHEN_MINUS:{this.state=T.SCRIPT_DATA_ESCAPED_DASH,this._emitChars("-");break}case _.LESS_THAN_SIGN:{this.state=T.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case _.NULL:{this._err(D.unexpectedNullCharacter),this._emitChars(je);break}case _.EOF:{this._err(D.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptDataEscapedDash(t){switch(t){case _.HYPHEN_MINUS:{this.state=T.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-");break}case _.LESS_THAN_SIGN:{this.state=T.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case _.NULL:{this._err(D.unexpectedNullCharacter),this.state=T.SCRIPT_DATA_ESCAPED,this._emitChars(je);break}case _.EOF:{this._err(D.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=T.SCRIPT_DATA_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataEscapedDashDash(t){switch(t){case _.HYPHEN_MINUS:{this._emitChars("-");break}case _.LESS_THAN_SIGN:{this.state=T.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case _.GREATER_THAN_SIGN:{this.state=T.SCRIPT_DATA,this._emitChars(">");break}case _.NULL:{this._err(D.unexpectedNullCharacter),this.state=T.SCRIPT_DATA_ESCAPED,this._emitChars(je);break}case _.EOF:{this._err(D.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=T.SCRIPT_DATA_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataEscapedLessThanSign(t){t===_.SOLIDUS?this.state=T.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:xr(t)?(this._emitChars("<"),this.state=T.SCRIPT_DATA_DOUBLE_ESCAPE_START,this._stateScriptDataDoubleEscapeStart(t)):(this._emitChars("<"),this.state=T.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataEscapedEndTagOpen(t){xr(t)?(this.state=T.SCRIPT_DATA_ESCAPED_END_TAG_NAME,this._stateScriptDataEscapedEndTagName(t)):(this._emitChars("</"),this.state=T.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataEscapedEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=T.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataDoubleEscapeStart(t){if(this.preprocessor.startsWith(Lt.SCRIPT,!1)&&d1(this.preprocessor.peek(Lt.SCRIPT.length))){this._emitCodePoint(t);for(let n=0;n<Lt.SCRIPT.length;n++)this._emitCodePoint(this._consume());this.state=T.SCRIPT_DATA_DOUBLE_ESCAPED}else this._ensureHibernation()||(this.state=T.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataDoubleEscaped(t){switch(t){case _.HYPHEN_MINUS:{this.state=T.SCRIPT_DATA_DOUBLE_ESCAPED_DASH,this._emitChars("-");break}case _.LESS_THAN_SIGN:{this.state=T.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case _.NULL:{this._err(D.unexpectedNullCharacter),this._emitChars(je);break}case _.EOF:{this._err(D.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedDash(t){switch(t){case _.HYPHEN_MINUS:{this.state=T.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH,this._emitChars("-");break}case _.LESS_THAN_SIGN:{this.state=T.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case _.NULL:{this._err(D.unexpectedNullCharacter),this.state=T.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(je);break}case _.EOF:{this._err(D.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=T.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedDashDash(t){switch(t){case _.HYPHEN_MINUS:{this._emitChars("-");break}case _.LESS_THAN_SIGN:{this.state=T.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case _.GREATER_THAN_SIGN:{this.state=T.SCRIPT_DATA,this._emitChars(">");break}case _.NULL:{this._err(D.unexpectedNullCharacter),this.state=T.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(je);break}case _.EOF:{this._err(D.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=T.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedLessThanSign(t){t===_.SOLIDUS?(this.state=T.SCRIPT_DATA_DOUBLE_ESCAPE_END,this._emitChars("/")):(this.state=T.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(t))}_stateScriptDataDoubleEscapeEnd(t){if(this.preprocessor.startsWith(Lt.SCRIPT,!1)&&d1(this.preprocessor.peek(Lt.SCRIPT.length))){this._emitCodePoint(t);for(let n=0;n<Lt.SCRIPT.length;n++)this._emitCodePoint(this._consume());this.state=T.SCRIPT_DATA_ESCAPED}else this._ensureHibernation()||(this.state=T.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(t))}_stateBeforeAttributeName(t){switch(t){case _.SPACE:case _.LINE_FEED:case _.TABULATION:case _.FORM_FEED:break;case _.SOLIDUS:case _.GREATER_THAN_SIGN:case _.EOF:{this.state=T.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(t);break}case _.EQUALS_SIGN:{this._err(D.unexpectedEqualsSignBeforeAttributeName),this._createAttr("="),this.state=T.ATTRIBUTE_NAME;break}default:this._createAttr(""),this.state=T.ATTRIBUTE_NAME,this._stateAttributeName(t)}}_stateAttributeName(t){switch(t){case _.SPACE:case _.LINE_FEED:case _.TABULATION:case _.FORM_FEED:case _.SOLIDUS:case _.GREATER_THAN_SIGN:case _.EOF:{this._leaveAttrName(),this.state=T.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(t);break}case _.EQUALS_SIGN:{this._leaveAttrName(),this.state=T.BEFORE_ATTRIBUTE_VALUE;break}case _.QUOTATION_MARK:case _.APOSTROPHE:case _.LESS_THAN_SIGN:{this._err(D.unexpectedCharacterInAttributeName),this.currentAttr.name+=String.fromCodePoint(t);break}case _.NULL:{this._err(D.unexpectedNullCharacter),this.currentAttr.name+=je;break}default:this.currentAttr.name+=String.fromCodePoint(Aa(t)?Cl(t):t)}}_stateAfterAttributeName(t){switch(t){case _.SPACE:case _.LINE_FEED:case _.TABULATION:case _.FORM_FEED:break;case _.SOLIDUS:{this.state=T.SELF_CLOSING_START_TAG;break}case _.EQUALS_SIGN:{this.state=T.BEFORE_ATTRIBUTE_VALUE;break}case _.GREATER_THAN_SIGN:{this.state=T.DATA,this.emitCurrentTagToken();break}case _.EOF:{this._err(D.eofInTag),this._emitEOFToken();break}default:this._createAttr(""),this.state=T.ATTRIBUTE_NAME,this._stateAttributeName(t)}}_stateBeforeAttributeValue(t){switch(t){case _.SPACE:case _.LINE_FEED:case _.TABULATION:case _.FORM_FEED:break;case _.QUOTATION_MARK:{this.state=T.ATTRIBUTE_VALUE_DOUBLE_QUOTED;break}case _.APOSTROPHE:{this.state=T.ATTRIBUTE_VALUE_SINGLE_QUOTED;break}case _.GREATER_THAN_SIGN:{this._err(D.missingAttributeValue),this.state=T.DATA,this.emitCurrentTagToken();break}default:this.state=T.ATTRIBUTE_VALUE_UNQUOTED,this._stateAttributeValueUnquoted(t)}}_stateAttributeValueDoubleQuoted(t){switch(t){case _.QUOTATION_MARK:{this.state=T.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case _.AMPERSAND:{this._startCharacterReference();break}case _.NULL:{this._err(D.unexpectedNullCharacter),this.currentAttr.value+=je;break}case _.EOF:{this._err(D.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAttributeValueSingleQuoted(t){switch(t){case _.APOSTROPHE:{this.state=T.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case _.AMPERSAND:{this._startCharacterReference();break}case _.NULL:{this._err(D.unexpectedNullCharacter),this.currentAttr.value+=je;break}case _.EOF:{this._err(D.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAttributeValueUnquoted(t){switch(t){case _.SPACE:case _.LINE_FEED:case _.TABULATION:case _.FORM_FEED:{this._leaveAttrValue(),this.state=T.BEFORE_ATTRIBUTE_NAME;break}case _.AMPERSAND:{this._startCharacterReference();break}case _.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=T.DATA,this.emitCurrentTagToken();break}case _.NULL:{this._err(D.unexpectedNullCharacter),this.currentAttr.value+=je;break}case _.QUOTATION_MARK:case _.APOSTROPHE:case _.LESS_THAN_SIGN:case _.EQUALS_SIGN:case _.GRAVE_ACCENT:{this._err(D.unexpectedCharacterInUnquotedAttributeValue),this.currentAttr.value+=String.fromCodePoint(t);break}case _.EOF:{this._err(D.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAfterAttributeValueQuoted(t){switch(t){case _.SPACE:case _.LINE_FEED:case _.TABULATION:case _.FORM_FEED:{this._leaveAttrValue(),this.state=T.BEFORE_ATTRIBUTE_NAME;break}case _.SOLIDUS:{this._leaveAttrValue(),this.state=T.SELF_CLOSING_START_TAG;break}case _.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=T.DATA,this.emitCurrentTagToken();break}case _.EOF:{this._err(D.eofInTag),this._emitEOFToken();break}default:this._err(D.missingWhitespaceBetweenAttributes),this.state=T.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(t)}}_stateSelfClosingStartTag(t){switch(t){case _.GREATER_THAN_SIGN:{const n=this.currentToken;n.selfClosing=!0,this.state=T.DATA,this.emitCurrentTagToken();break}case _.EOF:{this._err(D.eofInTag),this._emitEOFToken();break}default:this._err(D.unexpectedSolidusInTag),this.state=T.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(t)}}_stateBogusComment(t){const n=this.currentToken;switch(t){case _.GREATER_THAN_SIGN:{this.state=T.DATA,this.emitCurrentComment(n);break}case _.EOF:{this.emitCurrentComment(n),this._emitEOFToken();break}case _.NULL:{this._err(D.unexpectedNullCharacter),n.data+=je;break}default:n.data+=String.fromCodePoint(t)}}_stateMarkupDeclarationOpen(t){this._consumeSequenceIfMatch(Lt.DASH_DASH,!0)?(this._createCommentToken(Lt.DASH_DASH.length+1),this.state=T.COMMENT_START):this._consumeSequenceIfMatch(Lt.DOCTYPE,!1)?(this.currentLocation=this.getCurrentLocation(Lt.DOCTYPE.length+1),this.state=T.DOCTYPE):this._consumeSequenceIfMatch(Lt.CDATA_START,!0)?this.inForeignNode?this.state=T.CDATA_SECTION:(this._err(D.cdataInHtmlContent),this._createCommentToken(Lt.CDATA_START.length+1),this.currentToken.data="[CDATA[",this.state=T.BOGUS_COMMENT):this._ensureHibernation()||(this._err(D.incorrectlyOpenedComment),this._createCommentToken(2),this.state=T.BOGUS_COMMENT,this._stateBogusComment(t))}_stateCommentStart(t){switch(t){case _.HYPHEN_MINUS:{this.state=T.COMMENT_START_DASH;break}case _.GREATER_THAN_SIGN:{this._err(D.abruptClosingOfEmptyComment),this.state=T.DATA;const n=this.currentToken;this.emitCurrentComment(n);break}default:this.state=T.COMMENT,this._stateComment(t)}}_stateCommentStartDash(t){const n=this.currentToken;switch(t){case _.HYPHEN_MINUS:{this.state=T.COMMENT_END;break}case _.GREATER_THAN_SIGN:{this._err(D.abruptClosingOfEmptyComment),this.state=T.DATA,this.emitCurrentComment(n);break}case _.EOF:{this._err(D.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="-",this.state=T.COMMENT,this._stateComment(t)}}_stateComment(t){const n=this.currentToken;switch(t){case _.HYPHEN_MINUS:{this.state=T.COMMENT_END_DASH;break}case _.LESS_THAN_SIGN:{n.data+="<",this.state=T.COMMENT_LESS_THAN_SIGN;break}case _.NULL:{this._err(D.unexpectedNullCharacter),n.data+=je;break}case _.EOF:{this._err(D.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+=String.fromCodePoint(t)}}_stateCommentLessThanSign(t){const n=this.currentToken;switch(t){case _.EXCLAMATION_MARK:{n.data+="!",this.state=T.COMMENT_LESS_THAN_SIGN_BANG;break}case _.LESS_THAN_SIGN:{n.data+="<";break}default:this.state=T.COMMENT,this._stateComment(t)}}_stateCommentLessThanSignBang(t){t===_.HYPHEN_MINUS?this.state=T.COMMENT_LESS_THAN_SIGN_BANG_DASH:(this.state=T.COMMENT,this._stateComment(t))}_stateCommentLessThanSignBangDash(t){t===_.HYPHEN_MINUS?this.state=T.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:(this.state=T.COMMENT_END_DASH,this._stateCommentEndDash(t))}_stateCommentLessThanSignBangDashDash(t){t!==_.GREATER_THAN_SIGN&&t!==_.EOF&&this._err(D.nestedComment),this.state=T.COMMENT_END,this._stateCommentEnd(t)}_stateCommentEndDash(t){const n=this.currentToken;switch(t){case _.HYPHEN_MINUS:{this.state=T.COMMENT_END;break}case _.EOF:{this._err(D.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="-",this.state=T.COMMENT,this._stateComment(t)}}_stateCommentEnd(t){const n=this.currentToken;switch(t){case _.GREATER_THAN_SIGN:{this.state=T.DATA,this.emitCurrentComment(n);break}case _.EXCLAMATION_MARK:{this.state=T.COMMENT_END_BANG;break}case _.HYPHEN_MINUS:{n.data+="-";break}case _.EOF:{this._err(D.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="--",this.state=T.COMMENT,this._stateComment(t)}}_stateCommentEndBang(t){const n=this.currentToken;switch(t){case _.HYPHEN_MINUS:{n.data+="--!",this.state=T.COMMENT_END_DASH;break}case _.GREATER_THAN_SIGN:{this._err(D.incorrectlyClosedComment),this.state=T.DATA,this.emitCurrentComment(n);break}case _.EOF:{this._err(D.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="--!",this.state=T.COMMENT,this._stateComment(t)}}_stateDoctype(t){switch(t){case _.SPACE:case _.LINE_FEED:case _.TABULATION:case _.FORM_FEED:{this.state=T.BEFORE_DOCTYPE_NAME;break}case _.GREATER_THAN_SIGN:{this.state=T.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(t);break}case _.EOF:{this._err(D.eofInDoctype),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(D.missingWhitespaceBeforeDoctypeName),this.state=T.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(t)}}_stateBeforeDoctypeName(t){if(Aa(t))this._createDoctypeToken(String.fromCharCode(Cl(t))),this.state=T.DOCTYPE_NAME;else switch(t){case _.SPACE:case _.LINE_FEED:case _.TABULATION:case _.FORM_FEED:break;case _.NULL:{this._err(D.unexpectedNullCharacter),this._createDoctypeToken(je),this.state=T.DOCTYPE_NAME;break}case _.GREATER_THAN_SIGN:{this._err(D.missingDoctypeName),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=T.DATA;break}case _.EOF:{this._err(D.eofInDoctype),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._createDoctypeToken(String.fromCodePoint(t)),this.state=T.DOCTYPE_NAME}}_stateDoctypeName(t){const n=this.currentToken;switch(t){case _.SPACE:case _.LINE_FEED:case _.TABULATION:case _.FORM_FEED:{this.state=T.AFTER_DOCTYPE_NAME;break}case _.GREATER_THAN_SIGN:{this.state=T.DATA,this.emitCurrentDoctype(n);break}case _.NULL:{this._err(D.unexpectedNullCharacter),n.name+=je;break}case _.EOF:{this._err(D.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.name+=String.fromCodePoint(Aa(t)?Cl(t):t)}}_stateAfterDoctypeName(t){const n=this.currentToken;switch(t){case _.SPACE:case _.LINE_FEED:case _.TABULATION:case _.FORM_FEED:break;case _.GREATER_THAN_SIGN:{this.state=T.DATA,this.emitCurrentDoctype(n);break}case _.EOF:{this._err(D.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._consumeSequenceIfMatch(Lt.PUBLIC,!1)?this.state=T.AFTER_DOCTYPE_PUBLIC_KEYWORD:this._consumeSequenceIfMatch(Lt.SYSTEM,!1)?this.state=T.AFTER_DOCTYPE_SYSTEM_KEYWORD:this._ensureHibernation()||(this._err(D.invalidCharacterSequenceAfterDoctypeName),n.forceQuirks=!0,this.state=T.BOGUS_DOCTYPE,this._stateBogusDoctype(t))}}_stateAfterDoctypePublicKeyword(t){const n=this.currentToken;switch(t){case _.SPACE:case _.LINE_FEED:case _.TABULATION:case _.FORM_FEED:{this.state=T.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER;break}case _.QUOTATION_MARK:{this._err(D.missingWhitespaceAfterDoctypePublicKeyword),n.publicId="",this.state=T.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case _.APOSTROPHE:{this._err(D.missingWhitespaceAfterDoctypePublicKeyword),n.publicId="",this.state=T.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case _.GREATER_THAN_SIGN:{this._err(D.missingDoctypePublicIdentifier),n.forceQuirks=!0,this.state=T.DATA,this.emitCurrentDoctype(n);break}case _.EOF:{this._err(D.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(D.missingQuoteBeforeDoctypePublicIdentifier),n.forceQuirks=!0,this.state=T.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBeforeDoctypePublicIdentifier(t){const n=this.currentToken;switch(t){case _.SPACE:case _.LINE_FEED:case _.TABULATION:case _.FORM_FEED:break;case _.QUOTATION_MARK:{n.publicId="",this.state=T.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case _.APOSTROPHE:{n.publicId="",this.state=T.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case _.GREATER_THAN_SIGN:{this._err(D.missingDoctypePublicIdentifier),n.forceQuirks=!0,this.state=T.DATA,this.emitCurrentDoctype(n);break}case _.EOF:{this._err(D.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(D.missingQuoteBeforeDoctypePublicIdentifier),n.forceQuirks=!0,this.state=T.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateDoctypePublicIdentifierDoubleQuoted(t){const n=this.currentToken;switch(t){case _.QUOTATION_MARK:{this.state=T.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case _.NULL:{this._err(D.unexpectedNullCharacter),n.publicId+=je;break}case _.GREATER_THAN_SIGN:{this._err(D.abruptDoctypePublicIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=T.DATA;break}case _.EOF:{this._err(D.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.publicId+=String.fromCodePoint(t)}}_stateDoctypePublicIdentifierSingleQuoted(t){const n=this.currentToken;switch(t){case _.APOSTROPHE:{this.state=T.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case _.NULL:{this._err(D.unexpectedNullCharacter),n.publicId+=je;break}case _.GREATER_THAN_SIGN:{this._err(D.abruptDoctypePublicIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=T.DATA;break}case _.EOF:{this._err(D.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.publicId+=String.fromCodePoint(t)}}_stateAfterDoctypePublicIdentifier(t){const n=this.currentToken;switch(t){case _.SPACE:case _.LINE_FEED:case _.TABULATION:case _.FORM_FEED:{this.state=T.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS;break}case _.GREATER_THAN_SIGN:{this.state=T.DATA,this.emitCurrentDoctype(n);break}case _.QUOTATION_MARK:{this._err(D.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),n.systemId="",this.state=T.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case _.APOSTROPHE:{this._err(D.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),n.systemId="",this.state=T.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case _.EOF:{this._err(D.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(D.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=T.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBetweenDoctypePublicAndSystemIdentifiers(t){const n=this.currentToken;switch(t){case _.SPACE:case _.LINE_FEED:case _.TABULATION:case _.FORM_FEED:break;case _.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=T.DATA;break}case _.QUOTATION_MARK:{n.systemId="",this.state=T.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case _.APOSTROPHE:{n.systemId="",this.state=T.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case _.EOF:{this._err(D.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(D.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=T.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateAfterDoctypeSystemKeyword(t){const n=this.currentToken;switch(t){case _.SPACE:case _.LINE_FEED:case _.TABULATION:case _.FORM_FEED:{this.state=T.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER;break}case _.QUOTATION_MARK:{this._err(D.missingWhitespaceAfterDoctypeSystemKeyword),n.systemId="",this.state=T.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case _.APOSTROPHE:{this._err(D.missingWhitespaceAfterDoctypeSystemKeyword),n.systemId="",this.state=T.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case _.GREATER_THAN_SIGN:{this._err(D.missingDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=T.DATA,this.emitCurrentDoctype(n);break}case _.EOF:{this._err(D.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(D.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=T.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBeforeDoctypeSystemIdentifier(t){const n=this.currentToken;switch(t){case _.SPACE:case _.LINE_FEED:case _.TABULATION:case _.FORM_FEED:break;case _.QUOTATION_MARK:{n.systemId="",this.state=T.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case _.APOSTROPHE:{n.systemId="",this.state=T.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case _.GREATER_THAN_SIGN:{this._err(D.missingDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=T.DATA,this.emitCurrentDoctype(n);break}case _.EOF:{this._err(D.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(D.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=T.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateDoctypeSystemIdentifierDoubleQuoted(t){const n=this.currentToken;switch(t){case _.QUOTATION_MARK:{this.state=T.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case _.NULL:{this._err(D.unexpectedNullCharacter),n.systemId+=je;break}case _.GREATER_THAN_SIGN:{this._err(D.abruptDoctypeSystemIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=T.DATA;break}case _.EOF:{this._err(D.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.systemId+=String.fromCodePoint(t)}}_stateDoctypeSystemIdentifierSingleQuoted(t){const n=this.currentToken;switch(t){case _.APOSTROPHE:{this.state=T.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case _.NULL:{this._err(D.unexpectedNullCharacter),n.systemId+=je;break}case _.GREATER_THAN_SIGN:{this._err(D.abruptDoctypeSystemIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=T.DATA;break}case _.EOF:{this._err(D.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.systemId+=String.fromCodePoint(t)}}_stateAfterDoctypeSystemIdentifier(t){const n=this.currentToken;switch(t){case _.SPACE:case _.LINE_FEED:case _.TABULATION:case _.FORM_FEED:break;case _.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=T.DATA;break}case _.EOF:{this._err(D.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(D.unexpectedCharacterAfterDoctypeSystemIdentifier),this.state=T.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBogusDoctype(t){const n=this.currentToken;switch(t){case _.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=T.DATA;break}case _.NULL:{this._err(D.unexpectedNullCharacter);break}case _.EOF:{this.emitCurrentDoctype(n),this._emitEOFToken();break}}}_stateCdataSection(t){switch(t){case _.RIGHT_SQUARE_BRACKET:{this.state=T.CDATA_SECTION_BRACKET;break}case _.EOF:{this._err(D.eofInCdata),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateCdataSectionBracket(t){t===_.RIGHT_SQUARE_BRACKET?this.state=T.CDATA_SECTION_END:(this._emitChars("]"),this.state=T.CDATA_SECTION,this._stateCdataSection(t))}_stateCdataSectionEnd(t){switch(t){case _.GREATER_THAN_SIGN:{this.state=T.DATA;break}case _.RIGHT_SQUARE_BRACKET:{this._emitChars("]");break}default:this._emitChars("]]"),this.state=T.CDATA_SECTION,this._stateCdataSection(t)}}_stateCharacterReference(){let t=this.entityDecoder.write(this.preprocessor.html,this.preprocessor.pos);if(t<0)if(this.preprocessor.lastChunkWritten)t=this.entityDecoder.end();else{this.active=!1,this.preprocessor.pos=this.preprocessor.html.length-1,this.consumedAfterSnapshot=0,this.preprocessor.endOfChunkHit=!0;return}t===0?(this.preprocessor.pos=this.entityStartPos,this._flushCodePointConsumedAsCharacterReference(_.AMPERSAND),this.state=!this._isCharacterReferenceInAttribute()&&c1(this.preprocessor.peek(1))?T.AMBIGUOUS_AMPERSAND:this.returnState):this.state=this.returnState}_stateAmbiguousAmpersand(t){c1(t)?this._flushCodePointConsumedAsCharacterReference(t):(t===_.SEMICOLON&&this._err(D.unknownNamedCharacterReference),this.state=this.returnState,this._callState(t))}}const F2=new Set([d.DD,d.DT,d.LI,d.OPTGROUP,d.OPTION,d.P,d.RB,d.RP,d.RT,d.RTC]),h1=new Set([...F2,d.CAPTION,d.COLGROUP,d.TBODY,d.TD,d.TFOOT,d.TH,d.THEAD,d.TR]),Ru=new Set([d.APPLET,d.CAPTION,d.HTML,d.MARQUEE,d.OBJECT,d.TABLE,d.TD,d.TEMPLATE,d.TH]),h5=new Set([...Ru,d.OL,d.UL]),f5=new Set([...Ru,d.BUTTON]),f1=new Set([d.ANNOTATION_XML,d.MI,d.MN,d.MO,d.MS,d.MTEXT]),p1=new Set([d.DESC,d.FOREIGN_OBJECT,d.TITLE]),p5=new Set([d.TR,d.TEMPLATE,d.HTML]),m5=new Set([d.TBODY,d.TFOOT,d.THEAD,d.TEMPLATE,d.HTML]),g5=new Set([d.TABLE,d.TEMPLATE,d.HTML]),y5=new Set([d.TD,d.TH]);class x5{get currentTmplContentOrNode(){return this._isInTemplate()?this.treeAdapter.getTemplateContent(this.current):this.current}constructor(t,n,r){this.treeAdapter=n,this.handler=r,this.items=[],this.tagIDs=[],this.stackTop=-1,this.tmplCount=0,this.currentTagId=d.UNKNOWN,this.current=t}_indexOf(t){return this.items.lastIndexOf(t,this.stackTop)}_isInTemplate(){return this.currentTagId===d.TEMPLATE&&this.treeAdapter.getNamespaceURI(this.current)===H.HTML}_updateCurrentElement(){this.current=this.items[this.stackTop],this.currentTagId=this.tagIDs[this.stackTop]}push(t,n){this.stackTop++,this.items[this.stackTop]=t,this.current=t,this.tagIDs[this.stackTop]=n,this.currentTagId=n,this._isInTemplate()&&this.tmplCount++,this.handler.onItemPush(t,n,!0)}pop(){const t=this.current;this.tmplCount>0&&this._isInTemplate()&&this.tmplCount--,this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(t,!0)}replace(t,n){const r=this._indexOf(t);this.items[r]=n,r===this.stackTop&&(this.current=n)}insertAfter(t,n,r){const s=this._indexOf(t)+1;this.items.splice(s,0,n),this.tagIDs.splice(s,0,r),this.stackTop++,s===this.stackTop&&this._updateCurrentElement(),this.current&&this.currentTagId!==void 0&&this.handler.onItemPush(this.current,this.currentTagId,s===this.stackTop)}popUntilTagNamePopped(t){let n=this.stackTop+1;do n=this.tagIDs.lastIndexOf(t,n-1);while(n>0&&this.treeAdapter.getNamespaceURI(this.items[n])!==H.HTML);this.shortenToLength(Math.max(n,0))}shortenToLength(t){for(;this.stackTop>=t;){const n=this.current;this.tmplCount>0&&this._isInTemplate()&&(this.tmplCount-=1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(n,this.stackTop<t)}}popUntilElementPopped(t){const n=this._indexOf(t);this.shortenToLength(Math.max(n,0))}popUntilPopped(t,n){const r=this._indexOfTagNames(t,n);this.shortenToLength(Math.max(r,0))}popUntilNumberedHeaderPopped(){this.popUntilPopped(df,H.HTML)}popUntilTableCellPopped(){this.popUntilPopped(y5,H.HTML)}popAllUpToHtmlElement(){this.tmplCount=0,this.shortenToLength(1)}_indexOfTagNames(t,n){for(let r=this.stackTop;r>=0;r--)if(t.has(this.tagIDs[r])&&this.treeAdapter.getNamespaceURI(this.items[r])===n)return r;return-1}clearBackTo(t,n){const r=this._indexOfTagNames(t,n);this.shortenToLength(r+1)}clearBackToTableContext(){this.clearBackTo(g5,H.HTML)}clearBackToTableBodyContext(){this.clearBackTo(m5,H.HTML)}clearBackToTableRowContext(){this.clearBackTo(p5,H.HTML)}remove(t){const n=this._indexOf(t);n>=0&&(n===this.stackTop?this.pop():(this.items.splice(n,1),this.tagIDs.splice(n,1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(t,!1)))}tryPeekProperlyNestedBodyElement(){return this.stackTop>=1&&this.tagIDs[1]===d.BODY?this.items[1]:null}contains(t){return this._indexOf(t)>-1}getCommonAncestor(t){const n=this._indexOf(t)-1;return n>=0?this.items[n]:null}isRootHtmlElementCurrent(){return this.stackTop===0&&this.tagIDs[0]===d.HTML}hasInDynamicScope(t,n){for(let r=this.stackTop;r>=0;r--){const s=this.tagIDs[r];switch(this.treeAdapter.getNamespaceURI(this.items[r])){case H.HTML:{if(s===t)return!0;if(n.has(s))return!1;break}case H.SVG:{if(p1.has(s))return!1;break}case H.MATHML:{if(f1.has(s))return!1;break}}}return!0}hasInScope(t){return this.hasInDynamicScope(t,Ru)}hasInListItemScope(t){return this.hasInDynamicScope(t,h5)}hasInButtonScope(t){return this.hasInDynamicScope(t,f5)}hasNumberedHeaderInScope(){for(let t=this.stackTop;t>=0;t--){const n=this.tagIDs[t];switch(this.treeAdapter.getNamespaceURI(this.items[t])){case H.HTML:{if(df.has(n))return!0;if(Ru.has(n))return!1;break}case H.SVG:{if(p1.has(n))return!1;break}case H.MATHML:{if(f1.has(n))return!1;break}}}return!0}hasInTableScope(t){for(let n=this.stackTop;n>=0;n--)if(this.treeAdapter.getNamespaceURI(this.items[n])===H.HTML)switch(this.tagIDs[n]){case t:return!0;case d.TABLE:case d.HTML:return!1}return!0}hasTableBodyContextInTableScope(){for(let t=this.stackTop;t>=0;t--)if(this.treeAdapter.getNamespaceURI(this.items[t])===H.HTML)switch(this.tagIDs[t]){case d.TBODY:case d.THEAD:case d.TFOOT:return!0;case d.TABLE:case d.HTML:return!1}return!0}hasInSelectScope(t){for(let n=this.stackTop;n>=0;n--)if(this.treeAdapter.getNamespaceURI(this.items[n])===H.HTML)switch(this.tagIDs[n]){case t:return!0;case d.OPTION:case d.OPTGROUP:break;default:return!1}return!0}generateImpliedEndTags(){for(;this.currentTagId!==void 0&&F2.has(this.currentTagId);)this.pop()}generateImpliedEndTagsThoroughly(){for(;this.currentTagId!==void 0&&h1.has(this.currentTagId);)this.pop()}generateImpliedEndTagsWithExclusion(t){for(;this.currentTagId!==void 0&&this.currentTagId!==t&&h1.has(this.currentTagId);)this.pop()}}const Ed=3;var Mn;(function(e){e[e.Marker=0]="Marker",e[e.Element=1]="Element"})(Mn||(Mn={}));const m1={type:Mn.Marker};class b5{constructor(t){this.treeAdapter=t,this.entries=[],this.bookmark=null}_getNoahArkConditionCandidates(t,n){const r=[],s=n.length,i=this.treeAdapter.getTagName(t),a=this.treeAdapter.getNamespaceURI(t);for(let l=0;l<this.entries.length;l++){const u=this.entries[l];if(u.type===Mn.Marker)break;const{element:c}=u;if(this.treeAdapter.getTagName(c)===i&&this.treeAdapter.getNamespaceURI(c)===a){const h=this.treeAdapter.getAttrList(c);h.length===s&&r.push({idx:l,attrs:h})}}return r}_ensureNoahArkCondition(t){if(this.entries.length<Ed)return;const n=this.treeAdapter.getAttrList(t),r=this._getNoahArkConditionCandidates(t,n);if(r.length<Ed)return;const s=new Map(n.map(a=>[a.name,a.value]));let i=0;for(let a=0;a<r.length;a++){const l=r[a];l.attrs.every(u=>s.get(u.name)===u.value)&&(i+=1,i>=Ed&&this.entries.splice(l.idx,1))}}insertMarker(){this.entries.unshift(m1)}pushElement(t,n){this._ensureNoahArkCondition(t),this.entries.unshift({type:Mn.Element,element:t,token:n})}insertElementAfterBookmark(t,n){const r=this.entries.indexOf(this.bookmark);this.entries.splice(r,0,{type:Mn.Element,element:t,token:n})}removeEntry(t){const n=this.entries.indexOf(t);n!==-1&&this.entries.splice(n,1)}clearToLastMarker(){const t=this.entries.indexOf(m1);t===-1?this.entries.length=0:this.entries.splice(0,t+1)}getElementEntryInScopeWithTagName(t){const n=this.entries.find(r=>r.type===Mn.Marker||this.treeAdapter.getTagName(r.element)===t);return n&&n.type===Mn.Element?n:null}getElementEntry(t){return this.entries.find(n=>n.type===Mn.Element&&n.element===t)}}const br={createDocument(){return{nodeName:"#document",mode:cn.NO_QUIRKS,childNodes:[]}},createDocumentFragment(){return{nodeName:"#document-fragment",childNodes:[]}},createElement(e,t,n){return{nodeName:e,tagName:e,attrs:n,namespaceURI:t,childNodes:[],parentNode:null}},createCommentNode(e){return{nodeName:"#comment",data:e,parentNode:null}},createTextNode(e){return{nodeName:"#text",value:e,parentNode:null}},appendChild(e,t){e.childNodes.push(t),t.parentNode=e},insertBefore(e,t,n){const r=e.childNodes.indexOf(n);e.childNodes.splice(r,0,t),t.parentNode=e},setTemplateContent(e,t){e.content=t},getTemplateContent(e){return e.content},setDocumentType(e,t,n,r){const s=e.childNodes.find(i=>i.nodeName==="#documentType");if(s)s.name=t,s.publicId=n,s.systemId=r;else{const i={nodeName:"#documentType",name:t,publicId:n,systemId:r,parentNode:null};br.appendChild(e,i)}},setDocumentMode(e,t){e.mode=t},getDocumentMode(e){return e.mode},detachNode(e){if(e.parentNode){const t=e.parentNode.childNodes.indexOf(e);e.parentNode.childNodes.splice(t,1),e.parentNode=null}},insertText(e,t){if(e.childNodes.length>0){const n=e.childNodes[e.childNodes.length-1];if(br.isTextNode(n)){n.value+=t;return}}br.appendChild(e,br.createTextNode(t))},insertTextBefore(e,t,n){const r=e.childNodes[e.childNodes.indexOf(n)-1];r&&br.isTextNode(r)?r.value+=t:br.insertBefore(e,br.createTextNode(t),n)},adoptAttributes(e,t){const n=new Set(e.attrs.map(r=>r.name));for(let r=0;r<t.length;r++)n.has(t[r].name)||e.attrs.push(t[r])},getFirstChild(e){return e.childNodes[0]},getChildNodes(e){return e.childNodes},getParentNode(e){return e.parentNode},getAttrList(e){return e.attrs},getTagName(e){return e.tagName},getNamespaceURI(e){return e.namespaceURI},getTextNodeContent(e){return e.value},getCommentNodeContent(e){return e.data},getDocumentTypeNodeName(e){return e.name},getDocumentTypeNodePublicId(e){return e.publicId},getDocumentTypeNodeSystemId(e){return e.systemId},isTextNode(e){return e.nodeName==="#text"},isCommentNode(e){return e.nodeName==="#comment"},isDocumentTypeNode(e){return e.nodeName==="#documentType"},isElementNode(e){return Object.prototype.hasOwnProperty.call(e,"tagName")},setNodeSourceCodeLocation(e,t){e.sourceCodeLocation=t},getNodeSourceCodeLocation(e){return e.sourceCodeLocation},updateNodeSourceCodeLocation(e,t){e.sourceCodeLocation={...e.sourceCodeLocation,...t}}},U2="html",E5="about:legacy-compat",v5="http://www.ibm.com/data/dtd/v11/ibmxhtml1-transitional.dtd",H2=["+//silmaril//dtd html pro v0r11 19970101//","-//as//dtd html 3.0 aswedit + extensions//","-//advasoft ltd//dtd html 3.0 aswedit + extensions//","-//ietf//dtd html 2.0 level 1//","-//ietf//dtd html 2.0 level 2//","-//ietf//dtd html 2.0 strict level 1//","-//ietf//dtd html 2.0 strict level 2//","-//ietf//dtd html 2.0 strict//","-//ietf//dtd html 2.0//","-//ietf//dtd html 2.1e//","-//ietf//dtd html 3.0//","-//ietf//dtd html 3.2 final//","-//ietf//dtd html 3.2//","-//ietf//dtd html 3//","-//ietf//dtd html level 0//","-//ietf//dtd html level 1//","-//ietf//dtd html level 2//","-//ietf//dtd html level 3//","-//ietf//dtd html strict level 0//","-//ietf//dtd html strict level 1//","-//ietf//dtd html strict level 2//","-//ietf//dtd html strict level 3//","-//ietf//dtd html strict//","-//ietf//dtd html//","-//metrius//dtd metrius presentational//","-//microsoft//dtd internet explorer 2.0 html strict//","-//microsoft//dtd internet explorer 2.0 html//","-//microsoft//dtd internet explorer 2.0 tables//","-//microsoft//dtd internet explorer 3.0 html strict//","-//microsoft//dtd internet explorer 3.0 html//","-//microsoft//dtd internet explorer 3.0 tables//","-//netscape comm. corp.//dtd html//","-//netscape comm. corp.//dtd strict html//","-//o'reilly and associates//dtd html 2.0//","-//o'reilly and associates//dtd html extended 1.0//","-//o'reilly and associates//dtd html extended relaxed 1.0//","-//sq//dtd html 2.0 hotmetal + extensions//","-//softquad software//dtd hotmetal pro 6.0::19990601::extensions to html 4.0//","-//softquad//dtd hotmetal pro 4.0::19971010::extensions to html 4.0//","-//spyglass//dtd html 2.0 extended//","-//sun microsystems corp.//dtd hotjava html//","-//sun microsystems corp.//dtd hotjava strict html//","-//w3c//dtd html 3 1995-03-24//","-//w3c//dtd html 3.2 draft//","-//w3c//dtd html 3.2 final//","-//w3c//dtd html 3.2//","-//w3c//dtd html 3.2s draft//","-//w3c//dtd html 4.0 frameset//","-//w3c//dtd html 4.0 transitional//","-//w3c//dtd html experimental 19960712//","-//w3c//dtd html experimental 970421//","-//w3c//dtd w3 html//","-//w3o//dtd w3 html 3.0//","-//webtechs//dtd mozilla html 2.0//","-//webtechs//dtd mozilla html//"],_5=[...H2,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"],T5=new Set(["-//w3o//dtd w3 html strict 3.0//en//","-/w3c/dtd html 4.0 transitional/en","html"]),$2=["-//w3c//dtd xhtml 1.0 frameset//","-//w3c//dtd xhtml 1.0 transitional//"],w5=[...$2,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"];function g1(e,t){return t.some(n=>e.startsWith(n))}function S5(e){return e.name===U2&&e.publicId===null&&(e.systemId===null||e.systemId===E5)}function N5(e){if(e.name!==U2)return cn.QUIRKS;const{systemId:t}=e;if(t&&t.toLowerCase()===v5)return cn.QUIRKS;let{publicId:n}=e;if(n!==null){if(n=n.toLowerCase(),T5.has(n))return cn.QUIRKS;let r=t===null?_5:H2;if(g1(n,r))return cn.QUIRKS;if(r=t===null?$2:w5,g1(n,r))return cn.LIMITED_QUIRKS}return cn.NO_QUIRKS}const y1={TEXT_HTML:"text/html",APPLICATION_XML:"application/xhtml+xml"},k5="definitionurl",C5="definitionURL",A5=new Map(["attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map(e=>[e.toLowerCase(),e])),I5=new Map([["xlink:actuate",{prefix:"xlink",name:"actuate",namespace:H.XLINK}],["xlink:arcrole",{prefix:"xlink",name:"arcrole",namespace:H.XLINK}],["xlink:href",{prefix:"xlink",name:"href",namespace:H.XLINK}],["xlink:role",{prefix:"xlink",name:"role",namespace:H.XLINK}],["xlink:show",{prefix:"xlink",name:"show",namespace:H.XLINK}],["xlink:title",{prefix:"xlink",name:"title",namespace:H.XLINK}],["xlink:type",{prefix:"xlink",name:"type",namespace:H.XLINK}],["xml:lang",{prefix:"xml",name:"lang",namespace:H.XML}],["xml:space",{prefix:"xml",name:"space",namespace:H.XML}],["xmlns",{prefix:"",name:"xmlns",namespace:H.XMLNS}],["xmlns:xlink",{prefix:"xmlns",name:"xlink",namespace:H.XMLNS}]]),O5=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map(e=>[e.toLowerCase(),e])),R5=new Set([d.B,d.BIG,d.BLOCKQUOTE,d.BODY,d.BR,d.CENTER,d.CODE,d.DD,d.DIV,d.DL,d.DT,d.EM,d.EMBED,d.H1,d.H2,d.H3,d.H4,d.H5,d.H6,d.HEAD,d.HR,d.I,d.IMG,d.LI,d.LISTING,d.MENU,d.META,d.NOBR,d.OL,d.P,d.PRE,d.RUBY,d.S,d.SMALL,d.SPAN,d.STRONG,d.STRIKE,d.SUB,d.SUP,d.TABLE,d.TT,d.U,d.UL,d.VAR]);function P5(e){const t=e.tagID;return t===d.FONT&&e.attrs.some(({name:r})=>r===Cs.COLOR||r===Cs.SIZE||r===Cs.FACE)||R5.has(t)}function z2(e){for(let t=0;t<e.attrs.length;t++)if(e.attrs[t].name===k5){e.attrs[t].name=C5;break}}function W2(e){for(let t=0;t<e.attrs.length;t++){const n=A5.get(e.attrs[t].name);n!=null&&(e.attrs[t].name=n)}}function Y0(e){for(let t=0;t<e.attrs.length;t++){const n=I5.get(e.attrs[t].name);n&&(e.attrs[t].prefix=n.prefix,e.attrs[t].name=n.name,e.attrs[t].namespace=n.namespace)}}function L5(e){const t=O5.get(e.tagName);t!=null&&(e.tagName=t,e.tagID=ia(e.tagName))}function j5(e,t){return t===H.MATHML&&(e===d.MI||e===d.MO||e===d.MN||e===d.MS||e===d.MTEXT)}function D5(e,t,n){if(t===H.MATHML&&e===d.ANNOTATION_XML){for(let r=0;r<n.length;r++)if(n[r].name===Cs.ENCODING){const s=n[r].value.toLowerCase();return s===y1.TEXT_HTML||s===y1.APPLICATION_XML}}return t===H.SVG&&(e===d.FOREIGN_OBJECT||e===d.DESC||e===d.TITLE)}function M5(e,t,n,r){return(!r||r===H.HTML)&&D5(e,t,n)||(!r||r===H.MATHML)&&j5(e,t)}const B5="hidden",F5=8,U5=3;var N;(function(e){e[e.INITIAL=0]="INITIAL",e[e.BEFORE_HTML=1]="BEFORE_HTML",e[e.BEFORE_HEAD=2]="BEFORE_HEAD",e[e.IN_HEAD=3]="IN_HEAD",e[e.IN_HEAD_NO_SCRIPT=4]="IN_HEAD_NO_SCRIPT",e[e.AFTER_HEAD=5]="AFTER_HEAD",e[e.IN_BODY=6]="IN_BODY",e[e.TEXT=7]="TEXT",e[e.IN_TABLE=8]="IN_TABLE",e[e.IN_TABLE_TEXT=9]="IN_TABLE_TEXT",e[e.IN_CAPTION=10]="IN_CAPTION",e[e.IN_COLUMN_GROUP=11]="IN_COLUMN_GROUP",e[e.IN_TABLE_BODY=12]="IN_TABLE_BODY",e[e.IN_ROW=13]="IN_ROW",e[e.IN_CELL=14]="IN_CELL",e[e.IN_SELECT=15]="IN_SELECT",e[e.IN_SELECT_IN_TABLE=16]="IN_SELECT_IN_TABLE",e[e.IN_TEMPLATE=17]="IN_TEMPLATE",e[e.AFTER_BODY=18]="AFTER_BODY",e[e.IN_FRAMESET=19]="IN_FRAMESET",e[e.AFTER_FRAMESET=20]="AFTER_FRAMESET",e[e.AFTER_AFTER_BODY=21]="AFTER_AFTER_BODY",e[e.AFTER_AFTER_FRAMESET=22]="AFTER_AFTER_FRAMESET"})(N||(N={}));const H5={startLine:-1,startCol:-1,startOffset:-1,endLine:-1,endCol:-1,endOffset:-1},V2=new Set([d.TABLE,d.TBODY,d.TFOOT,d.THEAD,d.TR]),x1={scriptingEnabled:!0,sourceCodeLocationInfo:!1,treeAdapter:br,onParseError:null};class b1{constructor(t,n,r=null,s=null){this.fragmentContext=r,this.scriptHandler=s,this.currentToken=null,this.stopped=!1,this.insertionMode=N.INITIAL,this.originalInsertionMode=N.INITIAL,this.headElement=null,this.formElement=null,this.currentNotInHTML=!1,this.tmplInsertionModeStack=[],this.pendingCharacterTokens=[],this.hasNonWhitespacePendingCharacterToken=!1,this.framesetOk=!0,this.skipNextNewLine=!1,this.fosterParentingEnabled=!1,this.options={...x1,...t},this.treeAdapter=this.options.treeAdapter,this.onParseError=this.options.onParseError,this.onParseError&&(this.options.sourceCodeLocationInfo=!0),this.document=n??this.treeAdapter.createDocument(),this.tokenizer=new d5(this.options,this),this.activeFormattingElements=new b5(this.treeAdapter),this.fragmentContextID=r?ia(this.treeAdapter.getTagName(r)):d.UNKNOWN,this._setContextModes(r??this.document,this.fragmentContextID),this.openElements=new x5(this.document,this.treeAdapter,this)}static parse(t,n){const r=new this(n);return r.tokenizer.write(t,!0),r.document}static getFragmentParser(t,n){const r={...x1,...n};t??(t=r.treeAdapter.createElement(O.TEMPLATE,H.HTML,[]));const s=r.treeAdapter.createElement("documentmock",H.HTML,[]),i=new this(r,s,t);return i.fragmentContextID===d.TEMPLATE&&i.tmplInsertionModeStack.unshift(N.IN_TEMPLATE),i._initTokenizerForFragmentParsing(),i._insertFakeRootElement(),i._resetInsertionMode(),i._findFormInFragmentContext(),i}getFragment(){const t=this.treeAdapter.getFirstChild(this.document),n=this.treeAdapter.createDocumentFragment();return this._adoptNodes(t,n),n}_err(t,n,r){var s;if(!this.onParseError)return;const i=(s=t.location)!==null&&s!==void 0?s:H5,a={code:n,startLine:i.startLine,startCol:i.startCol,startOffset:i.startOffset,endLine:r?i.startLine:i.endLine,endCol:r?i.startCol:i.endCol,endOffset:r?i.startOffset:i.endOffset};this.onParseError(a)}onItemPush(t,n,r){var s,i;(i=(s=this.treeAdapter).onItemPush)===null||i===void 0||i.call(s,t),r&&this.openElements.stackTop>0&&this._setContextModes(t,n)}onItemPop(t,n){var r,s;if(this.options.sourceCodeLocationInfo&&this._setEndLocation(t,this.currentToken),(s=(r=this.treeAdapter).onItemPop)===null||s===void 0||s.call(r,t,this.openElements.current),n){let i,a;this.openElements.stackTop===0&&this.fragmentContext?(i=this.fragmentContext,a=this.fragmentContextID):{current:i,currentTagId:a}=this.openElements,this._setContextModes(i,a)}}_setContextModes(t,n){const r=t===this.document||t&&this.treeAdapter.getNamespaceURI(t)===H.HTML;this.currentNotInHTML=!r,this.tokenizer.inForeignNode=!r&&t!==void 0&&n!==void 0&&!this._isIntegrationPoint(n,t)}_switchToTextParsing(t,n){this._insertElement(t,H.HTML),this.tokenizer.state=n,this.originalInsertionMode=this.insertionMode,this.insertionMode=N.TEXT}switchToPlaintextParsing(){this.insertionMode=N.TEXT,this.originalInsertionMode=N.IN_BODY,this.tokenizer.state=Ge.PLAINTEXT}_getAdjustedCurrentElement(){return this.openElements.stackTop===0&&this.fragmentContext?this.fragmentContext:this.openElements.current}_findFormInFragmentContext(){let t=this.fragmentContext;for(;t;){if(this.treeAdapter.getTagName(t)===O.FORM){this.formElement=t;break}t=this.treeAdapter.getParentNode(t)}}_initTokenizerForFragmentParsing(){if(!(!this.fragmentContext||this.treeAdapter.getNamespaceURI(this.fragmentContext)!==H.HTML))switch(this.fragmentContextID){case d.TITLE:case d.TEXTAREA:{this.tokenizer.state=Ge.RCDATA;break}case d.STYLE:case d.XMP:case d.IFRAME:case d.NOEMBED:case d.NOFRAMES:case d.NOSCRIPT:{this.tokenizer.state=Ge.RAWTEXT;break}case d.SCRIPT:{this.tokenizer.state=Ge.SCRIPT_DATA;break}case d.PLAINTEXT:{this.tokenizer.state=Ge.PLAINTEXT;break}}}_setDocumentType(t){const n=t.name||"",r=t.publicId||"",s=t.systemId||"";if(this.treeAdapter.setDocumentType(this.document,n,r,s),t.location){const a=this.treeAdapter.getChildNodes(this.document).find(l=>this.treeAdapter.isDocumentTypeNode(l));a&&this.treeAdapter.setNodeSourceCodeLocation(a,t.location)}}_attachElementToTree(t,n){if(this.options.sourceCodeLocationInfo){const r=n&&{...n,startTag:n};this.treeAdapter.setNodeSourceCodeLocation(t,r)}if(this._shouldFosterParentOnInsertion())this._fosterParentElement(t);else{const r=this.openElements.currentTmplContentOrNode;this.treeAdapter.appendChild(r??this.document,t)}}_appendElement(t,n){const r=this.treeAdapter.createElement(t.tagName,n,t.attrs);this._attachElementToTree(r,t.location)}_insertElement(t,n){const r=this.treeAdapter.createElement(t.tagName,n,t.attrs);this._attachElementToTree(r,t.location),this.openElements.push(r,t.tagID)}_insertFakeElement(t,n){const r=this.treeAdapter.createElement(t,H.HTML,[]);this._attachElementToTree(r,null),this.openElements.push(r,n)}_insertTemplate(t){const n=this.treeAdapter.createElement(t.tagName,H.HTML,t.attrs),r=this.treeAdapter.createDocumentFragment();this.treeAdapter.setTemplateContent(n,r),this._attachElementToTree(n,t.location),this.openElements.push(n,t.tagID),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(r,null)}_insertFakeRootElement(){const t=this.treeAdapter.createElement(O.HTML,H.HTML,[]);this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(t,null),this.treeAdapter.appendChild(this.openElements.current,t),this.openElements.push(t,d.HTML)}_appendCommentNode(t,n){const r=this.treeAdapter.createCommentNode(t.data);this.treeAdapter.appendChild(n,r),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(r,t.location)}_insertCharacters(t){let n,r;if(this._shouldFosterParentOnInsertion()?({parent:n,beforeElement:r}=this._findFosterParentingLocation(),r?this.treeAdapter.insertTextBefore(n,t.chars,r):this.treeAdapter.insertText(n,t.chars)):(n=this.openElements.currentTmplContentOrNode,this.treeAdapter.insertText(n,t.chars)),!t.location)return;const s=this.treeAdapter.getChildNodes(n),i=r?s.lastIndexOf(r):s.length,a=s[i-1];if(this.treeAdapter.getNodeSourceCodeLocation(a)){const{endLine:u,endCol:c,endOffset:h}=t.location;this.treeAdapter.updateNodeSourceCodeLocation(a,{endLine:u,endCol:c,endOffset:h})}else this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(a,t.location)}_adoptNodes(t,n){for(let r=this.treeAdapter.getFirstChild(t);r;r=this.treeAdapter.getFirstChild(t))this.treeAdapter.detachNode(r),this.treeAdapter.appendChild(n,r)}_setEndLocation(t,n){if(this.treeAdapter.getNodeSourceCodeLocation(t)&&n.location){const r=n.location,s=this.treeAdapter.getTagName(t),i=n.type===fe.END_TAG&&s===n.tagName?{endTag:{...r},endLine:r.endLine,endCol:r.endCol,endOffset:r.endOffset}:{endLine:r.startLine,endCol:r.startCol,endOffset:r.startOffset};this.treeAdapter.updateNodeSourceCodeLocation(t,i)}}shouldProcessStartTagTokenInForeignContent(t){if(!this.currentNotInHTML)return!1;let n,r;return this.openElements.stackTop===0&&this.fragmentContext?(n=this.fragmentContext,r=this.fragmentContextID):{current:n,currentTagId:r}=this.openElements,t.tagID===d.SVG&&this.treeAdapter.getTagName(n)===O.ANNOTATION_XML&&this.treeAdapter.getNamespaceURI(n)===H.MATHML?!1:this.tokenizer.inForeignNode||(t.tagID===d.MGLYPH||t.tagID===d.MALIGNMARK)&&r!==void 0&&!this._isIntegrationPoint(r,n,H.HTML)}_processToken(t){switch(t.type){case fe.CHARACTER:{this.onCharacter(t);break}case fe.NULL_CHARACTER:{this.onNullCharacter(t);break}case fe.COMMENT:{this.onComment(t);break}case fe.DOCTYPE:{this.onDoctype(t);break}case fe.START_TAG:{this._processStartTag(t);break}case fe.END_TAG:{this.onEndTag(t);break}case fe.EOF:{this.onEof(t);break}case fe.WHITESPACE_CHARACTER:{this.onWhitespaceCharacter(t);break}}}_isIntegrationPoint(t,n,r){const s=this.treeAdapter.getNamespaceURI(n),i=this.treeAdapter.getAttrList(n);return M5(t,s,i,r)}_reconstructActiveFormattingElements(){const t=this.activeFormattingElements.entries.length;if(t){const n=this.activeFormattingElements.entries.findIndex(s=>s.type===Mn.Marker||this.openElements.contains(s.element)),r=n===-1?t-1:n-1;for(let s=r;s>=0;s--){const i=this.activeFormattingElements.entries[s];this._insertElement(i.token,this.treeAdapter.getNamespaceURI(i.element)),i.element=this.openElements.current}}}_closeTableCell(){this.openElements.generateImpliedEndTags(),this.openElements.popUntilTableCellPopped(),this.activeFormattingElements.clearToLastMarker(),this.insertionMode=N.IN_ROW}_closePElement(){this.openElements.generateImpliedEndTagsWithExclusion(d.P),this.openElements.popUntilTagNamePopped(d.P)}_resetInsertionMode(){for(let t=this.openElements.stackTop;t>=0;t--)switch(t===0&&this.fragmentContext?this.fragmentContextID:this.openElements.tagIDs[t]){case d.TR:{this.insertionMode=N.IN_ROW;return}case d.TBODY:case d.THEAD:case d.TFOOT:{this.insertionMode=N.IN_TABLE_BODY;return}case d.CAPTION:{this.insertionMode=N.IN_CAPTION;return}case d.COLGROUP:{this.insertionMode=N.IN_COLUMN_GROUP;return}case d.TABLE:{this.insertionMode=N.IN_TABLE;return}case d.BODY:{this.insertionMode=N.IN_BODY;return}case d.FRAMESET:{this.insertionMode=N.IN_FRAMESET;return}case d.SELECT:{this._resetInsertionModeForSelect(t);return}case d.TEMPLATE:{this.insertionMode=this.tmplInsertionModeStack[0];return}case d.HTML:{this.insertionMode=this.headElement?N.AFTER_HEAD:N.BEFORE_HEAD;return}case d.TD:case d.TH:{if(t>0){this.insertionMode=N.IN_CELL;return}break}case d.HEAD:{if(t>0){this.insertionMode=N.IN_HEAD;return}break}}this.insertionMode=N.IN_BODY}_resetInsertionModeForSelect(t){if(t>0)for(let n=t-1;n>0;n--){const r=this.openElements.tagIDs[n];if(r===d.TEMPLATE)break;if(r===d.TABLE){this.insertionMode=N.IN_SELECT_IN_TABLE;return}}this.insertionMode=N.IN_SELECT}_isElementCausesFosterParenting(t){return V2.has(t)}_shouldFosterParentOnInsertion(){return this.fosterParentingEnabled&&this.openElements.currentTagId!==void 0&&this._isElementCausesFosterParenting(this.openElements.currentTagId)}_findFosterParentingLocation(){for(let t=this.openElements.stackTop;t>=0;t--){const n=this.openElements.items[t];switch(this.openElements.tagIDs[t]){case d.TEMPLATE:{if(this.treeAdapter.getNamespaceURI(n)===H.HTML)return{parent:this.treeAdapter.getTemplateContent(n),beforeElement:null};break}case d.TABLE:{const r=this.treeAdapter.getParentNode(n);return r?{parent:r,beforeElement:n}:{parent:this.openElements.items[t-1],beforeElement:null}}}}return{parent:this.openElements.items[0],beforeElement:null}}_fosterParentElement(t){const n=this._findFosterParentingLocation();n.beforeElement?this.treeAdapter.insertBefore(n.parent,t,n.beforeElement):this.treeAdapter.appendChild(n.parent,t)}_isSpecialElement(t,n){const r=this.treeAdapter.getNamespaceURI(t);return o5[r].has(n)}onCharacter(t){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){yL(this,t);return}switch(this.insertionMode){case N.INITIAL:{ba(this,t);break}case N.BEFORE_HTML:{Va(this,t);break}case N.BEFORE_HEAD:{qa(this,t);break}case N.IN_HEAD:{Ya(this,t);break}case N.IN_HEAD_NO_SCRIPT:{Ga(this,t);break}case N.AFTER_HEAD:{Ka(this,t);break}case N.IN_BODY:case N.IN_CAPTION:case N.IN_CELL:case N.IN_TEMPLATE:{Y2(this,t);break}case N.TEXT:case N.IN_SELECT:case N.IN_SELECT_IN_TABLE:{this._insertCharacters(t);break}case N.IN_TABLE:case N.IN_TABLE_BODY:case N.IN_ROW:{vd(this,t);break}case N.IN_TABLE_TEXT:{Z2(this,t);break}case N.IN_COLUMN_GROUP:{Pu(this,t);break}case N.AFTER_BODY:{Lu(this,t);break}case N.AFTER_AFTER_BODY:{ql(this,t);break}}}onNullCharacter(t){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){gL(this,t);return}switch(this.insertionMode){case N.INITIAL:{ba(this,t);break}case N.BEFORE_HTML:{Va(this,t);break}case N.BEFORE_HEAD:{qa(this,t);break}case N.IN_HEAD:{Ya(this,t);break}case N.IN_HEAD_NO_SCRIPT:{Ga(this,t);break}case N.AFTER_HEAD:{Ka(this,t);break}case N.TEXT:{this._insertCharacters(t);break}case N.IN_TABLE:case N.IN_TABLE_BODY:case N.IN_ROW:{vd(this,t);break}case N.IN_COLUMN_GROUP:{Pu(this,t);break}case N.AFTER_BODY:{Lu(this,t);break}case N.AFTER_AFTER_BODY:{ql(this,t);break}}}onComment(t){if(this.skipNextNewLine=!1,this.currentNotInHTML){hf(this,t);return}switch(this.insertionMode){case N.INITIAL:case N.BEFORE_HTML:case N.BEFORE_HEAD:case N.IN_HEAD:case N.IN_HEAD_NO_SCRIPT:case N.AFTER_HEAD:case N.IN_BODY:case N.IN_TABLE:case N.IN_CAPTION:case N.IN_COLUMN_GROUP:case N.IN_TABLE_BODY:case N.IN_ROW:case N.IN_CELL:case N.IN_SELECT:case N.IN_SELECT_IN_TABLE:case N.IN_TEMPLATE:case N.IN_FRAMESET:case N.AFTER_FRAMESET:{hf(this,t);break}case N.IN_TABLE_TEXT:{Ea(this,t);break}case N.AFTER_BODY:{G5(this,t);break}case N.AFTER_AFTER_BODY:case N.AFTER_AFTER_FRAMESET:{K5(this,t);break}}}onDoctype(t){switch(this.skipNextNewLine=!1,this.insertionMode){case N.INITIAL:{Q5(this,t);break}case N.BEFORE_HEAD:case N.IN_HEAD:case N.IN_HEAD_NO_SCRIPT:case N.AFTER_HEAD:{this._err(t,D.misplacedDoctype);break}case N.IN_TABLE_TEXT:{Ea(this,t);break}}}onStartTag(t){this.skipNextNewLine=!1,this.currentToken=t,this._processStartTag(t),t.selfClosing&&!t.ackSelfClosing&&this._err(t,D.nonVoidHtmlElementStartTagWithTrailingSolidus)}_processStartTag(t){this.shouldProcessStartTagTokenInForeignContent(t)?xL(this,t):this._startTagOutsideForeignContent(t)}_startTagOutsideForeignContent(t){switch(this.insertionMode){case N.INITIAL:{ba(this,t);break}case N.BEFORE_HTML:{X5(this,t);break}case N.BEFORE_HEAD:{Z5(this,t);break}case N.IN_HEAD:{An(this,t);break}case N.IN_HEAD_NO_SCRIPT:{nP(this,t);break}case N.AFTER_HEAD:{sP(this,t);break}case N.IN_BODY:{St(this,t);break}case N.IN_TABLE:{Vi(this,t);break}case N.IN_TABLE_TEXT:{Ea(this,t);break}case N.IN_CAPTION:{eL(this,t);break}case N.IN_COLUMN_GROUP:{Q0(this,t);break}case N.IN_TABLE_BODY:{pc(this,t);break}case N.IN_ROW:{mc(this,t);break}case N.IN_CELL:{rL(this,t);break}case N.IN_SELECT:{nv(this,t);break}case N.IN_SELECT_IN_TABLE:{iL(this,t);break}case N.IN_TEMPLATE:{oL(this,t);break}case N.AFTER_BODY:{uL(this,t);break}case N.IN_FRAMESET:{cL(this,t);break}case N.AFTER_FRAMESET:{hL(this,t);break}case N.AFTER_AFTER_BODY:{pL(this,t);break}case N.AFTER_AFTER_FRAMESET:{mL(this,t);break}}}onEndTag(t){this.skipNextNewLine=!1,this.currentToken=t,this.currentNotInHTML?bL(this,t):this._endTagOutsideForeignContent(t)}_endTagOutsideForeignContent(t){switch(this.insertionMode){case N.INITIAL:{ba(this,t);break}case N.BEFORE_HTML:{J5(this,t);break}case N.BEFORE_HEAD:{eP(this,t);break}case N.IN_HEAD:{tP(this,t);break}case N.IN_HEAD_NO_SCRIPT:{rP(this,t);break}case N.AFTER_HEAD:{iP(this,t);break}case N.IN_BODY:{fc(this,t);break}case N.TEXT:{WP(this,t);break}case N.IN_TABLE:{To(this,t);break}case N.IN_TABLE_TEXT:{Ea(this,t);break}case N.IN_CAPTION:{tL(this,t);break}case N.IN_COLUMN_GROUP:{nL(this,t);break}case N.IN_TABLE_BODY:{ff(this,t);break}case N.IN_ROW:{tv(this,t);break}case N.IN_CELL:{sL(this,t);break}case N.IN_SELECT:{rv(this,t);break}case N.IN_SELECT_IN_TABLE:{aL(this,t);break}case N.IN_TEMPLATE:{lL(this,t);break}case N.AFTER_BODY:{iv(this,t);break}case N.IN_FRAMESET:{dL(this,t);break}case N.AFTER_FRAMESET:{fL(this,t);break}case N.AFTER_AFTER_BODY:{ql(this,t);break}}}onEof(t){switch(this.insertionMode){case N.INITIAL:{ba(this,t);break}case N.BEFORE_HTML:{Va(this,t);break}case N.BEFORE_HEAD:{qa(this,t);break}case N.IN_HEAD:{Ya(this,t);break}case N.IN_HEAD_NO_SCRIPT:{Ga(this,t);break}case N.AFTER_HEAD:{Ka(this,t);break}case N.IN_BODY:case N.IN_TABLE:case N.IN_CAPTION:case N.IN_COLUMN_GROUP:case N.IN_TABLE_BODY:case N.IN_ROW:case N.IN_CELL:case N.IN_SELECT:case N.IN_SELECT_IN_TABLE:{X2(this,t);break}case N.TEXT:{VP(this,t);break}case N.IN_TABLE_TEXT:{Ea(this,t);break}case N.IN_TEMPLATE:{sv(this,t);break}case N.AFTER_BODY:case N.IN_FRAMESET:case N.AFTER_FRAMESET:case N.AFTER_AFTER_BODY:case N.AFTER_AFTER_FRAMESET:{K0(this,t);break}}}onWhitespaceCharacter(t){if(this.skipNextNewLine&&(this.skipNextNewLine=!1,t.chars.charCodeAt(0)===_.LINE_FEED)){if(t.chars.length===1)return;t.chars=t.chars.substr(1)}if(this.tokenizer.inForeignNode){this._insertCharacters(t);return}switch(this.insertionMode){case N.IN_HEAD:case N.IN_HEAD_NO_SCRIPT:case N.AFTER_HEAD:case N.TEXT:case N.IN_COLUMN_GROUP:case N.IN_SELECT:case N.IN_SELECT_IN_TABLE:case N.IN_FRAMESET:case N.AFTER_FRAMESET:{this._insertCharacters(t);break}case N.IN_BODY:case N.IN_CAPTION:case N.IN_CELL:case N.IN_TEMPLATE:case N.AFTER_BODY:case N.AFTER_AFTER_BODY:case N.AFTER_AFTER_FRAMESET:{q2(this,t);break}case N.IN_TABLE:case N.IN_TABLE_BODY:case N.IN_ROW:{vd(this,t);break}case N.IN_TABLE_TEXT:{J2(this,t);break}}}}function $5(e,t){let n=e.activeFormattingElements.getElementEntryInScopeWithTagName(t.tagName);return n?e.openElements.contains(n.element)?e.openElements.hasInScope(t.tagID)||(n=null):(e.activeFormattingElements.removeEntry(n),n=null):Q2(e,t),n}function z5(e,t){let n=null,r=e.openElements.stackTop;for(;r>=0;r--){const s=e.openElements.items[r];if(s===t.element)break;e._isSpecialElement(s,e.openElements.tagIDs[r])&&(n=s)}return n||(e.openElements.shortenToLength(Math.max(r,0)),e.activeFormattingElements.removeEntry(t)),n}function W5(e,t,n){let r=t,s=e.openElements.getCommonAncestor(t);for(let i=0,a=s;a!==n;i++,a=s){s=e.openElements.getCommonAncestor(a);const l=e.activeFormattingElements.getElementEntry(a),u=l&&i>=U5;!l||u?(u&&e.activeFormattingElements.removeEntry(l),e.openElements.remove(a)):(a=V5(e,l),r===t&&(e.activeFormattingElements.bookmark=l),e.treeAdapter.detachNode(r),e.treeAdapter.appendChild(a,r),r=a)}return r}function V5(e,t){const n=e.treeAdapter.getNamespaceURI(t.element),r=e.treeAdapter.createElement(t.token.tagName,n,t.token.attrs);return e.openElements.replace(t.element,r),t.element=r,r}function q5(e,t,n){const r=e.treeAdapter.getTagName(t),s=ia(r);if(e._isElementCausesFosterParenting(s))e._fosterParentElement(n);else{const i=e.treeAdapter.getNamespaceURI(t);s===d.TEMPLATE&&i===H.HTML&&(t=e.treeAdapter.getTemplateContent(t)),e.treeAdapter.appendChild(t,n)}}function Y5(e,t,n){const r=e.treeAdapter.getNamespaceURI(n.element),{token:s}=n,i=e.treeAdapter.createElement(s.tagName,r,s.attrs);e._adoptNodes(t,i),e.treeAdapter.appendChild(t,i),e.activeFormattingElements.insertElementAfterBookmark(i,s),e.activeFormattingElements.removeEntry(n),e.openElements.remove(n.element),e.openElements.insertAfter(t,i,s.tagID)}function G0(e,t){for(let n=0;n<F5;n++){const r=$5(e,t);if(!r)break;const s=z5(e,r);if(!s)break;e.activeFormattingElements.bookmark=r;const i=W5(e,s,r.element),a=e.openElements.getCommonAncestor(r.element);e.treeAdapter.detachNode(i),a&&q5(e,a,i),Y5(e,s,r)}}function hf(e,t){e._appendCommentNode(t,e.openElements.currentTmplContentOrNode)}function G5(e,t){e._appendCommentNode(t,e.openElements.items[0])}function K5(e,t){e._appendCommentNode(t,e.document)}function K0(e,t){if(e.stopped=!0,t.location){const n=e.fragmentContext?0:2;for(let r=e.openElements.stackTop;r>=n;r--)e._setEndLocation(e.openElements.items[r],t);if(!e.fragmentContext&&e.openElements.stackTop>=0){const r=e.openElements.items[0],s=e.treeAdapter.getNodeSourceCodeLocation(r);if(s&&!s.endTag&&(e._setEndLocation(r,t),e.openElements.stackTop>=1)){const i=e.openElements.items[1],a=e.treeAdapter.getNodeSourceCodeLocation(i);a&&!a.endTag&&e._setEndLocation(i,t)}}}}function Q5(e,t){e._setDocumentType(t);const n=t.forceQuirks?cn.QUIRKS:N5(t);S5(t)||e._err(t,D.nonConformingDoctype),e.treeAdapter.setDocumentMode(e.document,n),e.insertionMode=N.BEFORE_HTML}function ba(e,t){e._err(t,D.missingDoctype,!0),e.treeAdapter.setDocumentMode(e.document,cn.QUIRKS),e.insertionMode=N.BEFORE_HTML,e._processToken(t)}function X5(e,t){t.tagID===d.HTML?(e._insertElement(t,H.HTML),e.insertionMode=N.BEFORE_HEAD):Va(e,t)}function J5(e,t){const n=t.tagID;(n===d.HTML||n===d.HEAD||n===d.BODY||n===d.BR)&&Va(e,t)}function Va(e,t){e._insertFakeRootElement(),e.insertionMode=N.BEFORE_HEAD,e._processToken(t)}function Z5(e,t){switch(t.tagID){case d.HTML:{St(e,t);break}case d.HEAD:{e._insertElement(t,H.HTML),e.headElement=e.openElements.current,e.insertionMode=N.IN_HEAD;break}default:qa(e,t)}}function eP(e,t){const n=t.tagID;n===d.HEAD||n===d.BODY||n===d.HTML||n===d.BR?qa(e,t):e._err(t,D.endTagWithoutMatchingOpenElement)}function qa(e,t){e._insertFakeElement(O.HEAD,d.HEAD),e.headElement=e.openElements.current,e.insertionMode=N.IN_HEAD,e._processToken(t)}function An(e,t){switch(t.tagID){case d.HTML:{St(e,t);break}case d.BASE:case d.BASEFONT:case d.BGSOUND:case d.LINK:case d.META:{e._appendElement(t,H.HTML),t.ackSelfClosing=!0;break}case d.TITLE:{e._switchToTextParsing(t,Ge.RCDATA);break}case d.NOSCRIPT:{e.options.scriptingEnabled?e._switchToTextParsing(t,Ge.RAWTEXT):(e._insertElement(t,H.HTML),e.insertionMode=N.IN_HEAD_NO_SCRIPT);break}case d.NOFRAMES:case d.STYLE:{e._switchToTextParsing(t,Ge.RAWTEXT);break}case d.SCRIPT:{e._switchToTextParsing(t,Ge.SCRIPT_DATA);break}case d.TEMPLATE:{e._insertTemplate(t),e.activeFormattingElements.insertMarker(),e.framesetOk=!1,e.insertionMode=N.IN_TEMPLATE,e.tmplInsertionModeStack.unshift(N.IN_TEMPLATE);break}case d.HEAD:{e._err(t,D.misplacedStartTagForHeadElement);break}default:Ya(e,t)}}function tP(e,t){switch(t.tagID){case d.HEAD:{e.openElements.pop(),e.insertionMode=N.AFTER_HEAD;break}case d.BODY:case d.BR:case d.HTML:{Ya(e,t);break}case d.TEMPLATE:{Hs(e,t);break}default:e._err(t,D.endTagWithoutMatchingOpenElement)}}function Hs(e,t){e.openElements.tmplCount>0?(e.openElements.generateImpliedEndTagsThoroughly(),e.openElements.currentTagId!==d.TEMPLATE&&e._err(t,D.closingOfElementWithOpenChildElements),e.openElements.popUntilTagNamePopped(d.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e.tmplInsertionModeStack.shift(),e._resetInsertionMode()):e._err(t,D.endTagWithoutMatchingOpenElement)}function Ya(e,t){e.openElements.pop(),e.insertionMode=N.AFTER_HEAD,e._processToken(t)}function nP(e,t){switch(t.tagID){case d.HTML:{St(e,t);break}case d.BASEFONT:case d.BGSOUND:case d.HEAD:case d.LINK:case d.META:case d.NOFRAMES:case d.STYLE:{An(e,t);break}case d.NOSCRIPT:{e._err(t,D.nestedNoscriptInHead);break}default:Ga(e,t)}}function rP(e,t){switch(t.tagID){case d.NOSCRIPT:{e.openElements.pop(),e.insertionMode=N.IN_HEAD;break}case d.BR:{Ga(e,t);break}default:e._err(t,D.endTagWithoutMatchingOpenElement)}}function Ga(e,t){const n=t.type===fe.EOF?D.openElementsLeftAfterEof:D.disallowedContentInNoscriptInHead;e._err(t,n),e.openElements.pop(),e.insertionMode=N.IN_HEAD,e._processToken(t)}function sP(e,t){switch(t.tagID){case d.HTML:{St(e,t);break}case d.BODY:{e._insertElement(t,H.HTML),e.framesetOk=!1,e.insertionMode=N.IN_BODY;break}case d.FRAMESET:{e._insertElement(t,H.HTML),e.insertionMode=N.IN_FRAMESET;break}case d.BASE:case d.BASEFONT:case d.BGSOUND:case d.LINK:case d.META:case d.NOFRAMES:case d.SCRIPT:case d.STYLE:case d.TEMPLATE:case d.TITLE:{e._err(t,D.abandonedHeadElementChild),e.openElements.push(e.headElement,d.HEAD),An(e,t),e.openElements.remove(e.headElement);break}case d.HEAD:{e._err(t,D.misplacedStartTagForHeadElement);break}default:Ka(e,t)}}function iP(e,t){switch(t.tagID){case d.BODY:case d.HTML:case d.BR:{Ka(e,t);break}case d.TEMPLATE:{Hs(e,t);break}default:e._err(t,D.endTagWithoutMatchingOpenElement)}}function Ka(e,t){e._insertFakeElement(O.BODY,d.BODY),e.insertionMode=N.IN_BODY,hc(e,t)}function hc(e,t){switch(t.type){case fe.CHARACTER:{Y2(e,t);break}case fe.WHITESPACE_CHARACTER:{q2(e,t);break}case fe.COMMENT:{hf(e,t);break}case fe.START_TAG:{St(e,t);break}case fe.END_TAG:{fc(e,t);break}case fe.EOF:{X2(e,t);break}}}function q2(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t)}function Y2(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t),e.framesetOk=!1}function aP(e,t){e.openElements.tmplCount===0&&e.treeAdapter.adoptAttributes(e.openElements.items[0],t.attrs)}function oP(e,t){const n=e.openElements.tryPeekProperlyNestedBodyElement();n&&e.openElements.tmplCount===0&&(e.framesetOk=!1,e.treeAdapter.adoptAttributes(n,t.attrs))}function lP(e,t){const n=e.openElements.tryPeekProperlyNestedBodyElement();e.framesetOk&&n&&(e.treeAdapter.detachNode(n),e.openElements.popAllUpToHtmlElement(),e._insertElement(t,H.HTML),e.insertionMode=N.IN_FRAMESET)}function uP(e,t){e.openElements.hasInButtonScope(d.P)&&e._closePElement(),e._insertElement(t,H.HTML)}function cP(e,t){e.openElements.hasInButtonScope(d.P)&&e._closePElement(),e.openElements.currentTagId!==void 0&&df.has(e.openElements.currentTagId)&&e.openElements.pop(),e._insertElement(t,H.HTML)}function dP(e,t){e.openElements.hasInButtonScope(d.P)&&e._closePElement(),e._insertElement(t,H.HTML),e.skipNextNewLine=!0,e.framesetOk=!1}function hP(e,t){const n=e.openElements.tmplCount>0;(!e.formElement||n)&&(e.openElements.hasInButtonScope(d.P)&&e._closePElement(),e._insertElement(t,H.HTML),n||(e.formElement=e.openElements.current))}function fP(e,t){e.framesetOk=!1;const n=t.tagID;for(let r=e.openElements.stackTop;r>=0;r--){const s=e.openElements.tagIDs[r];if(n===d.LI&&s===d.LI||(n===d.DD||n===d.DT)&&(s===d.DD||s===d.DT)){e.openElements.generateImpliedEndTagsWithExclusion(s),e.openElements.popUntilTagNamePopped(s);break}if(s!==d.ADDRESS&&s!==d.DIV&&s!==d.P&&e._isSpecialElement(e.openElements.items[r],s))break}e.openElements.hasInButtonScope(d.P)&&e._closePElement(),e._insertElement(t,H.HTML)}function pP(e,t){e.openElements.hasInButtonScope(d.P)&&e._closePElement(),e._insertElement(t,H.HTML),e.tokenizer.state=Ge.PLAINTEXT}function mP(e,t){e.openElements.hasInScope(d.BUTTON)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(d.BUTTON)),e._reconstructActiveFormattingElements(),e._insertElement(t,H.HTML),e.framesetOk=!1}function gP(e,t){const n=e.activeFormattingElements.getElementEntryInScopeWithTagName(O.A);n&&(G0(e,t),e.openElements.remove(n.element),e.activeFormattingElements.removeEntry(n)),e._reconstructActiveFormattingElements(),e._insertElement(t,H.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function yP(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,H.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function xP(e,t){e._reconstructActiveFormattingElements(),e.openElements.hasInScope(d.NOBR)&&(G0(e,t),e._reconstructActiveFormattingElements()),e._insertElement(t,H.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function bP(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,H.HTML),e.activeFormattingElements.insertMarker(),e.framesetOk=!1}function EP(e,t){e.treeAdapter.getDocumentMode(e.document)!==cn.QUIRKS&&e.openElements.hasInButtonScope(d.P)&&e._closePElement(),e._insertElement(t,H.HTML),e.framesetOk=!1,e.insertionMode=N.IN_TABLE}function G2(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,H.HTML),e.framesetOk=!1,t.ackSelfClosing=!0}function K2(e){const t=M2(e,Cs.TYPE);return t!=null&&t.toLowerCase()===B5}function vP(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,H.HTML),K2(t)||(e.framesetOk=!1),t.ackSelfClosing=!0}function _P(e,t){e._appendElement(t,H.HTML),t.ackSelfClosing=!0}function TP(e,t){e.openElements.hasInButtonScope(d.P)&&e._closePElement(),e._appendElement(t,H.HTML),e.framesetOk=!1,t.ackSelfClosing=!0}function wP(e,t){t.tagName=O.IMG,t.tagID=d.IMG,G2(e,t)}function SP(e,t){e._insertElement(t,H.HTML),e.skipNextNewLine=!0,e.tokenizer.state=Ge.RCDATA,e.originalInsertionMode=e.insertionMode,e.framesetOk=!1,e.insertionMode=N.TEXT}function NP(e,t){e.openElements.hasInButtonScope(d.P)&&e._closePElement(),e._reconstructActiveFormattingElements(),e.framesetOk=!1,e._switchToTextParsing(t,Ge.RAWTEXT)}function kP(e,t){e.framesetOk=!1,e._switchToTextParsing(t,Ge.RAWTEXT)}function E1(e,t){e._switchToTextParsing(t,Ge.RAWTEXT)}function CP(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,H.HTML),e.framesetOk=!1,e.insertionMode=e.insertionMode===N.IN_TABLE||e.insertionMode===N.IN_CAPTION||e.insertionMode===N.IN_TABLE_BODY||e.insertionMode===N.IN_ROW||e.insertionMode===N.IN_CELL?N.IN_SELECT_IN_TABLE:N.IN_SELECT}function AP(e,t){e.openElements.currentTagId===d.OPTION&&e.openElements.pop(),e._reconstructActiveFormattingElements(),e._insertElement(t,H.HTML)}function IP(e,t){e.openElements.hasInScope(d.RUBY)&&e.openElements.generateImpliedEndTags(),e._insertElement(t,H.HTML)}function OP(e,t){e.openElements.hasInScope(d.RUBY)&&e.openElements.generateImpliedEndTagsWithExclusion(d.RTC),e._insertElement(t,H.HTML)}function RP(e,t){e._reconstructActiveFormattingElements(),z2(t),Y0(t),t.selfClosing?e._appendElement(t,H.MATHML):e._insertElement(t,H.MATHML),t.ackSelfClosing=!0}function PP(e,t){e._reconstructActiveFormattingElements(),W2(t),Y0(t),t.selfClosing?e._appendElement(t,H.SVG):e._insertElement(t,H.SVG),t.ackSelfClosing=!0}function v1(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,H.HTML)}function St(e,t){switch(t.tagID){case d.I:case d.S:case d.B:case d.U:case d.EM:case d.TT:case d.BIG:case d.CODE:case d.FONT:case d.SMALL:case d.STRIKE:case d.STRONG:{yP(e,t);break}case d.A:{gP(e,t);break}case d.H1:case d.H2:case d.H3:case d.H4:case d.H5:case d.H6:{cP(e,t);break}case d.P:case d.DL:case d.OL:case d.UL:case d.DIV:case d.DIR:case d.NAV:case d.MAIN:case d.MENU:case d.ASIDE:case d.CENTER:case d.FIGURE:case d.FOOTER:case d.HEADER:case d.HGROUP:case d.DIALOG:case d.DETAILS:case d.ADDRESS:case d.ARTICLE:case d.SEARCH:case d.SECTION:case d.SUMMARY:case d.FIELDSET:case d.BLOCKQUOTE:case d.FIGCAPTION:{uP(e,t);break}case d.LI:case d.DD:case d.DT:{fP(e,t);break}case d.BR:case d.IMG:case d.WBR:case d.AREA:case d.EMBED:case d.KEYGEN:{G2(e,t);break}case d.HR:{TP(e,t);break}case d.RB:case d.RTC:{IP(e,t);break}case d.RT:case d.RP:{OP(e,t);break}case d.PRE:case d.LISTING:{dP(e,t);break}case d.XMP:{NP(e,t);break}case d.SVG:{PP(e,t);break}case d.HTML:{aP(e,t);break}case d.BASE:case d.LINK:case d.META:case d.STYLE:case d.TITLE:case d.SCRIPT:case d.BGSOUND:case d.BASEFONT:case d.TEMPLATE:{An(e,t);break}case d.BODY:{oP(e,t);break}case d.FORM:{hP(e,t);break}case d.NOBR:{xP(e,t);break}case d.MATH:{RP(e,t);break}case d.TABLE:{EP(e,t);break}case d.INPUT:{vP(e,t);break}case d.PARAM:case d.TRACK:case d.SOURCE:{_P(e,t);break}case d.IMAGE:{wP(e,t);break}case d.BUTTON:{mP(e,t);break}case d.APPLET:case d.OBJECT:case d.MARQUEE:{bP(e,t);break}case d.IFRAME:{kP(e,t);break}case d.SELECT:{CP(e,t);break}case d.OPTION:case d.OPTGROUP:{AP(e,t);break}case d.NOEMBED:case d.NOFRAMES:{E1(e,t);break}case d.FRAMESET:{lP(e,t);break}case d.TEXTAREA:{SP(e,t);break}case d.NOSCRIPT:{e.options.scriptingEnabled?E1(e,t):v1(e,t);break}case d.PLAINTEXT:{pP(e,t);break}case d.COL:case d.TH:case d.TD:case d.TR:case d.HEAD:case d.FRAME:case d.TBODY:case d.TFOOT:case d.THEAD:case d.CAPTION:case d.COLGROUP:break;default:v1(e,t)}}function LP(e,t){if(e.openElements.hasInScope(d.BODY)&&(e.insertionMode=N.AFTER_BODY,e.options.sourceCodeLocationInfo)){const n=e.openElements.tryPeekProperlyNestedBodyElement();n&&e._setEndLocation(n,t)}}function jP(e,t){e.openElements.hasInScope(d.BODY)&&(e.insertionMode=N.AFTER_BODY,iv(e,t))}function DP(e,t){const n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n))}function MP(e){const t=e.openElements.tmplCount>0,{formElement:n}=e;t||(e.formElement=null),(n||t)&&e.openElements.hasInScope(d.FORM)&&(e.openElements.generateImpliedEndTags(),t?e.openElements.popUntilTagNamePopped(d.FORM):n&&e.openElements.remove(n))}function BP(e){e.openElements.hasInButtonScope(d.P)||e._insertFakeElement(O.P,d.P),e._closePElement()}function FP(e){e.openElements.hasInListItemScope(d.LI)&&(e.openElements.generateImpliedEndTagsWithExclusion(d.LI),e.openElements.popUntilTagNamePopped(d.LI))}function UP(e,t){const n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTagsWithExclusion(n),e.openElements.popUntilTagNamePopped(n))}function HP(e){e.openElements.hasNumberedHeaderInScope()&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilNumberedHeaderPopped())}function $P(e,t){const n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n),e.activeFormattingElements.clearToLastMarker())}function zP(e){e._reconstructActiveFormattingElements(),e._insertFakeElement(O.BR,d.BR),e.openElements.pop(),e.framesetOk=!1}function Q2(e,t){const n=t.tagName,r=t.tagID;for(let s=e.openElements.stackTop;s>0;s--){const i=e.openElements.items[s],a=e.openElements.tagIDs[s];if(r===a&&(r!==d.UNKNOWN||e.treeAdapter.getTagName(i)===n)){e.openElements.generateImpliedEndTagsWithExclusion(r),e.openElements.stackTop>=s&&e.openElements.shortenToLength(s);break}if(e._isSpecialElement(i,a))break}}function fc(e,t){switch(t.tagID){case d.A:case d.B:case d.I:case d.S:case d.U:case d.EM:case d.TT:case d.BIG:case d.CODE:case d.FONT:case d.NOBR:case d.SMALL:case d.STRIKE:case d.STRONG:{G0(e,t);break}case d.P:{BP(e);break}case d.DL:case d.UL:case d.OL:case d.DIR:case d.DIV:case d.NAV:case d.PRE:case d.MAIN:case d.MENU:case d.ASIDE:case d.BUTTON:case d.CENTER:case d.FIGURE:case d.FOOTER:case d.HEADER:case d.HGROUP:case d.DIALOG:case d.ADDRESS:case d.ARTICLE:case d.DETAILS:case d.SEARCH:case d.SECTION:case d.SUMMARY:case d.LISTING:case d.FIELDSET:case d.BLOCKQUOTE:case d.FIGCAPTION:{DP(e,t);break}case d.LI:{FP(e);break}case d.DD:case d.DT:{UP(e,t);break}case d.H1:case d.H2:case d.H3:case d.H4:case d.H5:case d.H6:{HP(e);break}case d.BR:{zP(e);break}case d.BODY:{LP(e,t);break}case d.HTML:{jP(e,t);break}case d.FORM:{MP(e);break}case d.APPLET:case d.OBJECT:case d.MARQUEE:{$P(e,t);break}case d.TEMPLATE:{Hs(e,t);break}default:Q2(e,t)}}function X2(e,t){e.tmplInsertionModeStack.length>0?sv(e,t):K0(e,t)}function WP(e,t){var n;t.tagID===d.SCRIPT&&((n=e.scriptHandler)===null||n===void 0||n.call(e,e.openElements.current)),e.openElements.pop(),e.insertionMode=e.originalInsertionMode}function VP(e,t){e._err(t,D.eofInElementThatCanContainOnlyText),e.openElements.pop(),e.insertionMode=e.originalInsertionMode,e.onEof(t)}function vd(e,t){if(e.openElements.currentTagId!==void 0&&V2.has(e.openElements.currentTagId))switch(e.pendingCharacterTokens.length=0,e.hasNonWhitespacePendingCharacterToken=!1,e.originalInsertionMode=e.insertionMode,e.insertionMode=N.IN_TABLE_TEXT,t.type){case fe.CHARACTER:{Z2(e,t);break}case fe.WHITESPACE_CHARACTER:{J2(e,t);break}}else Uo(e,t)}function qP(e,t){e.openElements.clearBackToTableContext(),e.activeFormattingElements.insertMarker(),e._insertElement(t,H.HTML),e.insertionMode=N.IN_CAPTION}function YP(e,t){e.openElements.clearBackToTableContext(),e._insertElement(t,H.HTML),e.insertionMode=N.IN_COLUMN_GROUP}function GP(e,t){e.openElements.clearBackToTableContext(),e._insertFakeElement(O.COLGROUP,d.COLGROUP),e.insertionMode=N.IN_COLUMN_GROUP,Q0(e,t)}function KP(e,t){e.openElements.clearBackToTableContext(),e._insertElement(t,H.HTML),e.insertionMode=N.IN_TABLE_BODY}function QP(e,t){e.openElements.clearBackToTableContext(),e._insertFakeElement(O.TBODY,d.TBODY),e.insertionMode=N.IN_TABLE_BODY,pc(e,t)}function XP(e,t){e.openElements.hasInTableScope(d.TABLE)&&(e.openElements.popUntilTagNamePopped(d.TABLE),e._resetInsertionMode(),e._processStartTag(t))}function JP(e,t){K2(t)?e._appendElement(t,H.HTML):Uo(e,t),t.ackSelfClosing=!0}function ZP(e,t){!e.formElement&&e.openElements.tmplCount===0&&(e._insertElement(t,H.HTML),e.formElement=e.openElements.current,e.openElements.pop())}function Vi(e,t){switch(t.tagID){case d.TD:case d.TH:case d.TR:{QP(e,t);break}case d.STYLE:case d.SCRIPT:case d.TEMPLATE:{An(e,t);break}case d.COL:{GP(e,t);break}case d.FORM:{ZP(e,t);break}case d.TABLE:{XP(e,t);break}case d.TBODY:case d.TFOOT:case d.THEAD:{KP(e,t);break}case d.INPUT:{JP(e,t);break}case d.CAPTION:{qP(e,t);break}case d.COLGROUP:{YP(e,t);break}default:Uo(e,t)}}function To(e,t){switch(t.tagID){case d.TABLE:{e.openElements.hasInTableScope(d.TABLE)&&(e.openElements.popUntilTagNamePopped(d.TABLE),e._resetInsertionMode());break}case d.TEMPLATE:{Hs(e,t);break}case d.BODY:case d.CAPTION:case d.COL:case d.COLGROUP:case d.HTML:case d.TBODY:case d.TD:case d.TFOOT:case d.TH:case d.THEAD:case d.TR:break;default:Uo(e,t)}}function Uo(e,t){const n=e.fosterParentingEnabled;e.fosterParentingEnabled=!0,hc(e,t),e.fosterParentingEnabled=n}function J2(e,t){e.pendingCharacterTokens.push(t)}function Z2(e,t){e.pendingCharacterTokens.push(t),e.hasNonWhitespacePendingCharacterToken=!0}function Ea(e,t){let n=0;if(e.hasNonWhitespacePendingCharacterToken)for(;n<e.pendingCharacterTokens.length;n++)Uo(e,e.pendingCharacterTokens[n]);else for(;n<e.pendingCharacterTokens.length;n++)e._insertCharacters(e.pendingCharacterTokens[n]);e.insertionMode=e.originalInsertionMode,e._processToken(t)}const ev=new Set([d.CAPTION,d.COL,d.COLGROUP,d.TBODY,d.TD,d.TFOOT,d.TH,d.THEAD,d.TR]);function eL(e,t){const n=t.tagID;ev.has(n)?e.openElements.hasInTableScope(d.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(d.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=N.IN_TABLE,Vi(e,t)):St(e,t)}function tL(e,t){const n=t.tagID;switch(n){case d.CAPTION:case d.TABLE:{e.openElements.hasInTableScope(d.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(d.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=N.IN_TABLE,n===d.TABLE&&To(e,t));break}case d.BODY:case d.COL:case d.COLGROUP:case d.HTML:case d.TBODY:case d.TD:case d.TFOOT:case d.TH:case d.THEAD:case d.TR:break;default:fc(e,t)}}function Q0(e,t){switch(t.tagID){case d.HTML:{St(e,t);break}case d.COL:{e._appendElement(t,H.HTML),t.ackSelfClosing=!0;break}case d.TEMPLATE:{An(e,t);break}default:Pu(e,t)}}function nL(e,t){switch(t.tagID){case d.COLGROUP:{e.openElements.currentTagId===d.COLGROUP&&(e.openElements.pop(),e.insertionMode=N.IN_TABLE);break}case d.TEMPLATE:{Hs(e,t);break}case d.COL:break;default:Pu(e,t)}}function Pu(e,t){e.openElements.currentTagId===d.COLGROUP&&(e.openElements.pop(),e.insertionMode=N.IN_TABLE,e._processToken(t))}function pc(e,t){switch(t.tagID){case d.TR:{e.openElements.clearBackToTableBodyContext(),e._insertElement(t,H.HTML),e.insertionMode=N.IN_ROW;break}case d.TH:case d.TD:{e.openElements.clearBackToTableBodyContext(),e._insertFakeElement(O.TR,d.TR),e.insertionMode=N.IN_ROW,mc(e,t);break}case d.CAPTION:case d.COL:case d.COLGROUP:case d.TBODY:case d.TFOOT:case d.THEAD:{e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=N.IN_TABLE,Vi(e,t));break}default:Vi(e,t)}}function ff(e,t){const n=t.tagID;switch(t.tagID){case d.TBODY:case d.TFOOT:case d.THEAD:{e.openElements.hasInTableScope(n)&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=N.IN_TABLE);break}case d.TABLE:{e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=N.IN_TABLE,To(e,t));break}case d.BODY:case d.CAPTION:case d.COL:case d.COLGROUP:case d.HTML:case d.TD:case d.TH:case d.TR:break;default:To(e,t)}}function mc(e,t){switch(t.tagID){case d.TH:case d.TD:{e.openElements.clearBackToTableRowContext(),e._insertElement(t,H.HTML),e.insertionMode=N.IN_CELL,e.activeFormattingElements.insertMarker();break}case d.CAPTION:case d.COL:case d.COLGROUP:case d.TBODY:case d.TFOOT:case d.THEAD:case d.TR:{e.openElements.hasInTableScope(d.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=N.IN_TABLE_BODY,pc(e,t));break}default:Vi(e,t)}}function tv(e,t){switch(t.tagID){case d.TR:{e.openElements.hasInTableScope(d.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=N.IN_TABLE_BODY);break}case d.TABLE:{e.openElements.hasInTableScope(d.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=N.IN_TABLE_BODY,ff(e,t));break}case d.TBODY:case d.TFOOT:case d.THEAD:{(e.openElements.hasInTableScope(t.tagID)||e.openElements.hasInTableScope(d.TR))&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=N.IN_TABLE_BODY,ff(e,t));break}case d.BODY:case d.CAPTION:case d.COL:case d.COLGROUP:case d.HTML:case d.TD:case d.TH:break;default:To(e,t)}}function rL(e,t){const n=t.tagID;ev.has(n)?(e.openElements.hasInTableScope(d.TD)||e.openElements.hasInTableScope(d.TH))&&(e._closeTableCell(),mc(e,t)):St(e,t)}function sL(e,t){const n=t.tagID;switch(n){case d.TD:case d.TH:{e.openElements.hasInTableScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=N.IN_ROW);break}case d.TABLE:case d.TBODY:case d.TFOOT:case d.THEAD:case d.TR:{e.openElements.hasInTableScope(n)&&(e._closeTableCell(),tv(e,t));break}case d.BODY:case d.CAPTION:case d.COL:case d.COLGROUP:case d.HTML:break;default:fc(e,t)}}function nv(e,t){switch(t.tagID){case d.HTML:{St(e,t);break}case d.OPTION:{e.openElements.currentTagId===d.OPTION&&e.openElements.pop(),e._insertElement(t,H.HTML);break}case d.OPTGROUP:{e.openElements.currentTagId===d.OPTION&&e.openElements.pop(),e.openElements.currentTagId===d.OPTGROUP&&e.openElements.pop(),e._insertElement(t,H.HTML);break}case d.HR:{e.openElements.currentTagId===d.OPTION&&e.openElements.pop(),e.openElements.currentTagId===d.OPTGROUP&&e.openElements.pop(),e._appendElement(t,H.HTML),t.ackSelfClosing=!0;break}case d.INPUT:case d.KEYGEN:case d.TEXTAREA:case d.SELECT:{e.openElements.hasInSelectScope(d.SELECT)&&(e.openElements.popUntilTagNamePopped(d.SELECT),e._resetInsertionMode(),t.tagID!==d.SELECT&&e._processStartTag(t));break}case d.SCRIPT:case d.TEMPLATE:{An(e,t);break}}}function rv(e,t){switch(t.tagID){case d.OPTGROUP:{e.openElements.stackTop>0&&e.openElements.currentTagId===d.OPTION&&e.openElements.tagIDs[e.openElements.stackTop-1]===d.OPTGROUP&&e.openElements.pop(),e.openElements.currentTagId===d.OPTGROUP&&e.openElements.pop();break}case d.OPTION:{e.openElements.currentTagId===d.OPTION&&e.openElements.pop();break}case d.SELECT:{e.openElements.hasInSelectScope(d.SELECT)&&(e.openElements.popUntilTagNamePopped(d.SELECT),e._resetInsertionMode());break}case d.TEMPLATE:{Hs(e,t);break}}}function iL(e,t){const n=t.tagID;n===d.CAPTION||n===d.TABLE||n===d.TBODY||n===d.TFOOT||n===d.THEAD||n===d.TR||n===d.TD||n===d.TH?(e.openElements.popUntilTagNamePopped(d.SELECT),e._resetInsertionMode(),e._processStartTag(t)):nv(e,t)}function aL(e,t){const n=t.tagID;n===d.CAPTION||n===d.TABLE||n===d.TBODY||n===d.TFOOT||n===d.THEAD||n===d.TR||n===d.TD||n===d.TH?e.openElements.hasInTableScope(n)&&(e.openElements.popUntilTagNamePopped(d.SELECT),e._resetInsertionMode(),e.onEndTag(t)):rv(e,t)}function oL(e,t){switch(t.tagID){case d.BASE:case d.BASEFONT:case d.BGSOUND:case d.LINK:case d.META:case d.NOFRAMES:case d.SCRIPT:case d.STYLE:case d.TEMPLATE:case d.TITLE:{An(e,t);break}case d.CAPTION:case d.COLGROUP:case d.TBODY:case d.TFOOT:case d.THEAD:{e.tmplInsertionModeStack[0]=N.IN_TABLE,e.insertionMode=N.IN_TABLE,Vi(e,t);break}case d.COL:{e.tmplInsertionModeStack[0]=N.IN_COLUMN_GROUP,e.insertionMode=N.IN_COLUMN_GROUP,Q0(e,t);break}case d.TR:{e.tmplInsertionModeStack[0]=N.IN_TABLE_BODY,e.insertionMode=N.IN_TABLE_BODY,pc(e,t);break}case d.TD:case d.TH:{e.tmplInsertionModeStack[0]=N.IN_ROW,e.insertionMode=N.IN_ROW,mc(e,t);break}default:e.tmplInsertionModeStack[0]=N.IN_BODY,e.insertionMode=N.IN_BODY,St(e,t)}}function lL(e,t){t.tagID===d.TEMPLATE&&Hs(e,t)}function sv(e,t){e.openElements.tmplCount>0?(e.openElements.popUntilTagNamePopped(d.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e.tmplInsertionModeStack.shift(),e._resetInsertionMode(),e.onEof(t)):K0(e,t)}function uL(e,t){t.tagID===d.HTML?St(e,t):Lu(e,t)}function iv(e,t){var n;if(t.tagID===d.HTML){if(e.fragmentContext||(e.insertionMode=N.AFTER_AFTER_BODY),e.options.sourceCodeLocationInfo&&e.openElements.tagIDs[0]===d.HTML){e._setEndLocation(e.openElements.items[0],t);const r=e.openElements.items[1];r&&!(!((n=e.treeAdapter.getNodeSourceCodeLocation(r))===null||n===void 0)&&n.endTag)&&e._setEndLocation(r,t)}}else Lu(e,t)}function Lu(e,t){e.insertionMode=N.IN_BODY,hc(e,t)}function cL(e,t){switch(t.tagID){case d.HTML:{St(e,t);break}case d.FRAMESET:{e._insertElement(t,H.HTML);break}case d.FRAME:{e._appendElement(t,H.HTML),t.ackSelfClosing=!0;break}case d.NOFRAMES:{An(e,t);break}}}function dL(e,t){t.tagID===d.FRAMESET&&!e.openElements.isRootHtmlElementCurrent()&&(e.openElements.pop(),!e.fragmentContext&&e.openElements.currentTagId!==d.FRAMESET&&(e.insertionMode=N.AFTER_FRAMESET))}function hL(e,t){switch(t.tagID){case d.HTML:{St(e,t);break}case d.NOFRAMES:{An(e,t);break}}}function fL(e,t){t.tagID===d.HTML&&(e.insertionMode=N.AFTER_AFTER_FRAMESET)}function pL(e,t){t.tagID===d.HTML?St(e,t):ql(e,t)}function ql(e,t){e.insertionMode=N.IN_BODY,hc(e,t)}function mL(e,t){switch(t.tagID){case d.HTML:{St(e,t);break}case d.NOFRAMES:{An(e,t);break}}}function gL(e,t){t.chars=je,e._insertCharacters(t)}function yL(e,t){e._insertCharacters(t),e.framesetOk=!1}function av(e){for(;e.treeAdapter.getNamespaceURI(e.openElements.current)!==H.HTML&&e.openElements.currentTagId!==void 0&&!e._isIntegrationPoint(e.openElements.currentTagId,e.openElements.current);)e.openElements.pop()}function xL(e,t){if(P5(t))av(e),e._startTagOutsideForeignContent(t);else{const n=e._getAdjustedCurrentElement(),r=e.treeAdapter.getNamespaceURI(n);r===H.MATHML?z2(t):r===H.SVG&&(L5(t),W2(t)),Y0(t),t.selfClosing?e._appendElement(t,r):e._insertElement(t,r),t.ackSelfClosing=!0}}function bL(e,t){if(t.tagID===d.P||t.tagID===d.BR){av(e),e._endTagOutsideForeignContent(t);return}for(let n=e.openElements.stackTop;n>0;n--){const r=e.openElements.items[n];if(e.treeAdapter.getNamespaceURI(r)===H.HTML){e._endTagOutsideForeignContent(t);break}const s=e.treeAdapter.getTagName(r);if(s.toLowerCase()===t.tagName){t.tagName=s,e.openElements.shortenToLength(n);break}}}O.AREA,O.BASE,O.BASEFONT,O.BGSOUND,O.BR,O.COL,O.EMBED,O.FRAME,O.HR,O.IMG,O.INPUT,O.KEYGEN,O.LINK,O.META,O.PARAM,O.SOURCE,O.TRACK,O.WBR;const EL=/<(\/?)(iframe|noembed|noframes|plaintext|script|style|textarea|title|xmp)(?=[\t\n\f\r />])/gi,vL=new Set(["mdxFlowExpression","mdxJsxFlowElement","mdxJsxTextElement","mdxTextExpression","mdxjsEsm"]),_1={sourceCodeLocationInfo:!0,scriptingEnabled:!1};function ov(e,t){const n=OL(e),r=R2("type",{handlers:{root:_L,element:TL,text:wL,comment:uv,doctype:SL,raw:kL},unknown:CL}),s={parser:n?new b1(_1):b1.getFragmentParser(void 0,_1),handle(l){r(l,s)},stitches:!1,options:t||{}};r(e,s),aa(s,Wn());const i=n?s.parser.document:s.parser.getFragment(),a=_R(i,{file:s.options.file});return s.stitches&&$0(a,"comment",function(l,u,c){const h=l;if(h.value.stitch&&c&&u!==void 0){const f=c.children;return f[u]=h.value.stitch,u}}),a.type==="root"&&a.children.length===1&&a.children[0].type===e.type?a.children[0]:a}function lv(e,t){let n=-1;if(e)for(;++n<e.length;)t.handle(e[n])}function _L(e,t){lv(e.children,t)}function TL(e,t){AL(e,t),lv(e.children,t),IL(e,t)}function wL(e,t){t.parser.tokenizer.state>4&&(t.parser.tokenizer.state=0);const n={type:fe.CHARACTER,chars:e.value,location:Ho(e)};aa(t,Wn(e)),t.parser.currentToken=n,t.parser._processToken(t.parser.currentToken)}function SL(e,t){const n={type:fe.DOCTYPE,name:"html",forceQuirks:!1,publicId:"",systemId:"",location:Ho(e)};aa(t,Wn(e)),t.parser.currentToken=n,t.parser._processToken(t.parser.currentToken)}function NL(e,t){t.stitches=!0;const n=RL(e);if("children"in e&&"children"in n){const r=ov({type:"root",children:e.children},t.options);n.children=r.children}uv({type:"comment",value:{stitch:n}},t)}function uv(e,t){const n=e.value,r={type:fe.COMMENT,data:n,location:Ho(e)};aa(t,Wn(e)),t.parser.currentToken=r,t.parser._processToken(t.parser.currentToken)}function kL(e,t){if(t.parser.tokenizer.preprocessor.html="",t.parser.tokenizer.preprocessor.pos=-1,t.parser.tokenizer.preprocessor.lastGapPos=-2,t.parser.tokenizer.preprocessor.gapStack=[],t.parser.tokenizer.preprocessor.skipNextNewLine=!1,t.parser.tokenizer.preprocessor.lastChunkWritten=!1,t.parser.tokenizer.preprocessor.endOfChunkHit=!1,t.parser.tokenizer.preprocessor.isEol=!1,cv(t,Wn(e)),t.parser.tokenizer.write(t.options.tagfilter?e.value.replace(EL,"&lt;$1$2"):e.value,!1),t.parser.tokenizer._runParsingLoop(),t.parser.tokenizer.state===72||t.parser.tokenizer.state===78){t.parser.tokenizer.preprocessor.lastChunkWritten=!0;const n=t.parser.tokenizer._consume();t.parser.tokenizer._callState(n)}}function CL(e,t){const n=e;if(t.options.passThrough&&t.options.passThrough.includes(n.type))NL(n,t);else{let r="";throw vL.has(n.type)&&(r=". It looks like you are using MDX nodes with `hast-util-raw` (or `rehype-raw`). If you use this because you are using remark or rehype plugins that inject `'html'` nodes, then please raise an issue with that plugin, as its a bad and slow idea. If you use this because you are using markdown syntax, then you have to configure this utility (or plugin) to pass through these nodes (see `passThrough` in docs), but you can also migrate to use the MDX syntax"),new Error("Cannot compile `"+n.type+"` node"+r)}}function aa(e,t){cv(e,t);const n=e.parser.tokenizer.currentCharacterToken;n&&n.location&&(n.location.endLine=e.parser.tokenizer.preprocessor.line,n.location.endCol=e.parser.tokenizer.preprocessor.col+1,n.location.endOffset=e.parser.tokenizer.preprocessor.offset+1,e.parser.currentToken=n,e.parser._processToken(e.parser.currentToken)),e.parser.tokenizer.paused=!1,e.parser.tokenizer.inLoop=!1,e.parser.tokenizer.active=!1,e.parser.tokenizer.returnState=Ge.DATA,e.parser.tokenizer.charRefCode=-1,e.parser.tokenizer.consumedAfterSnapshot=-1,e.parser.tokenizer.currentLocation=null,e.parser.tokenizer.currentCharacterToken=null,e.parser.tokenizer.currentToken=null,e.parser.tokenizer.currentAttr={name:"",value:""}}function cv(e,t){if(t&&t.offset!==void 0){const n={startLine:t.line,startCol:t.column,startOffset:t.offset,endLine:-1,endCol:-1,endOffset:-1};e.parser.tokenizer.preprocessor.lineStartPos=-t.column+1,e.parser.tokenizer.preprocessor.droppedBufferSize=t.offset,e.parser.tokenizer.preprocessor.line=t.line,e.parser.tokenizer.currentLocation=n}}function AL(e,t){const n=e.tagName.toLowerCase();if(t.parser.tokenizer.state===Ge.PLAINTEXT)return;aa(t,Wn(e));const r=t.parser.openElements.current;let s="namespaceURI"in r?r.namespaceURI:gs.html;s===gs.html&&n==="svg"&&(s=gs.svg);const i=MR({...e,children:[]},{space:s===gs.svg?"svg":"html"}),a={type:fe.START_TAG,tagName:n,tagID:ia(n),selfClosing:!1,ackSelfClosing:!1,attrs:"attrs"in i?i.attrs:[],location:Ho(e)};t.parser.currentToken=a,t.parser._processToken(t.parser.currentToken),t.parser.tokenizer.lastStartTagName=n}function IL(e,t){const n=e.tagName.toLowerCase();if(!t.parser.tokenizer.inForeignNode&&VR.includes(n)||t.parser.tokenizer.state===Ge.PLAINTEXT)return;aa(t,lc(e));const r={type:fe.END_TAG,tagName:n,tagID:ia(n),selfClosing:!1,ackSelfClosing:!1,attrs:[],location:Ho(e)};t.parser.currentToken=r,t.parser._processToken(t.parser.currentToken),n===t.parser.tokenizer.lastStartTagName&&(t.parser.tokenizer.state===Ge.RCDATA||t.parser.tokenizer.state===Ge.RAWTEXT||t.parser.tokenizer.state===Ge.SCRIPT_DATA)&&(t.parser.tokenizer.state=Ge.DATA)}function OL(e){const t=e.type==="root"?e.children[0]:e;return!!(t&&(t.type==="doctype"||t.type==="element"&&t.tagName.toLowerCase()==="html"))}function Ho(e){const t=Wn(e)||{line:void 0,column:void 0,offset:void 0},n=lc(e)||{line:void 0,column:void 0,offset:void 0};return{startLine:t.line,startCol:t.column,startOffset:t.offset,endLine:n.line,endCol:n.column,endOffset:n.offset}}function RL(e){return"children"in e?Wi({...e,children:[]}):Wi(e)}function PL(e){return function(t,n){return ov(t,{...e,file:n})}}function va({open:e,title:t,description:n,onClose:r,children:s,footer:i,fullScreen:a=!1}){return A.useEffect(()=>{if(!e)return;const l=u=>{u.key==="Escape"&&r()};return window.addEventListener("keydown",l),()=>window.removeEventListener("keydown",l)},[e,r]),e?qx.createPortal(o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-slate-900/40 px-4",role:"dialog","aria-modal":"true",children:o.jsxs("div",{className:`overflow-hidden rounded-2xl bg-white shadow-2xl ${a?"max-h-[95vh] w-full max-w-7xl":"max-h-[90vh] w-full max-w-3xl"}`,children:[o.jsxs("div",{className:"flex items-start justify-between border-b border-slate-200 px-6 py-4",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:t}),n&&o.jsx("p",{className:"mt-1 text-sm text-slate-500",children:n})]}),o.jsx("button",{type:"button",onClick:r,className:"rounded-full p-1 text-slate-500 transition hover:bg-slate-100 hover:text-slate-700","aria-label":"Close dialog",children:o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"h-5 w-5",children:o.jsx("path",{fillRule:"evenodd",d:"M15.78 4.22a.75.75 0 0 0-1.06 0L10 8.94 5.28 4.22a.75.75 0 1 0-1.06 1.06L8.94 10l-4.72 4.72a.75.75 0 1 0 1.06 1.06L10 11.06l4.72 4.72a.75.75 0 1 0 1.06-1.06L11.06 10l4.72-4.72a.75.75 0 0 0 0-1.06",clipRule:"evenodd"})})})]}),o.jsx("div",{className:"max-h-[65vh] overflow-y-auto px-6 py-6",children:s}),i&&o.jsx("div",{className:"border-t border-slate-200 bg-slate-50 px-6 py-4",children:i})]})}),document.body):null}function LL({title:e,company:t,location:n,tags:r,salary:s,postedDate:i,isInternSG:a}){return o.jsxs("div",{className:"rounded-3xl border border-brand-200 bg-gradient-to-br from-brand-50 to-white p-8 shadow-card",children:[a&&o.jsxs("div",{className:"inline-flex items-center gap-2 rounded-full bg-green-100 px-3 py-1 text-xs font-medium text-green-700 mb-4",children:[o.jsx("svg",{className:"h-3 w-3",fill:"currentColor",viewBox:"0 0 20 20",children:o.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),"InternSG Partner"]}),o.jsx("h1",{className:"text-3xl font-bold text-slate-900 mb-4",children:e}),o.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-slate-600 mb-6",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(H3,{className:"h-5 w-5"}),o.jsx("span",{className:"font-medium",children:t})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(hA,{className:"h-5 w-5"}),o.jsx("span",{children:n})]}),s&&o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Z3,{className:"h-5 w-5"}),o.jsx("span",{children:s})]}),i&&o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(C0,{className:"h-5 w-5"}),o.jsx("span",{children:i})]})]}),o.jsx("div",{className:"flex flex-wrap gap-2",children:r.map((l,u)=>o.jsx("span",{className:"rounded-full bg-brand-100 px-3 py-1 text-sm font-medium text-brand-700",children:l},u))})]})}function jL({hasApplied:e,onApply:t,onCheckFit:n,onViewFit:r,isAnalyzing:s,hasAssessment:i}){return o.jsxs("div",{className:"rounded-3xl border border-brand-200 bg-white p-6 shadow-card",children:[o.jsx("h2",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Take Action"}),o.jsxs("div",{className:"flex flex-wrap gap-3",children:[o.jsx("button",{onClick:t,disabled:e,className:`flex-1 min-w-[200px] inline-flex items-center justify-center gap-2 rounded-lg px-6 py-3 text-sm font-semibold transition-colors ${e?"bg-green-100 text-green-700 cursor-not-allowed":"bg-brand-600 text-white hover:bg-brand-700"}`,children:e?o.jsxs(o.Fragment,{children:[o.jsx("svg",{className:"h-5 w-5",fill:"currentColor",viewBox:"0 0 20 20",children:o.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),"Applied"]}):o.jsxs(o.Fragment,{children:[o.jsx("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Apply Now"]})}),i?o.jsxs("button",{onClick:r,className:"flex-1 min-w-[200px] inline-flex items-center justify-center gap-2 rounded-lg bg-purple-600 px-6 py-3 text-sm font-semibold text-white hover:bg-purple-700 transition-colors",children:[o.jsx("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"})}),"View My Fit"]}):o.jsx("button",{onClick:n,disabled:s,className:"flex-1 min-w-[200px] inline-flex items-center justify-center gap-2 rounded-lg bg-purple-600 px-6 py-3 text-sm font-semibold text-white hover:bg-purple-700 transition-colors disabled:opacity-50",children:s?o.jsxs(o.Fragment,{children:[o.jsxs("svg",{className:"animate-spin h-5 w-5",fill:"none",viewBox:"0 0 24 24",children:[o.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),o.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Analyzing..."]}):o.jsxs(o.Fragment,{children:[o.jsx("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"})}),"Check My Fit"]})})]})]})}function DL({companyName:e,isInternSG:t,hrName:n,hrLoading:r,hrProspects:s,hrFetched:i,outreachLoading:a,onFindHR:l,onSearchLinkedIn:u,onGenerateGenericOutreach:c,onGenerateOutreach:h,onCopyEmail:f,onViewAllContacts:m,selectedHRContact:p,outreachMessage:b,onCopyOutreachMessage:E}){return t?n?o.jsxs("div",{className:"mt-6 pt-6 border-t border-slate-200",children:[o.jsx("div",{className:"flex items-start justify-between mb-3",children:o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"HR Contact"}),o.jsx("p",{className:"text-sm text-slate-600 mt-1",children:"Connect with the hiring contact for this position"})]})}),o.jsxs("div",{className:"rounded-lg border border-brand-200 bg-brand-50 p-4",children:[o.jsx("div",{className:"flex items-start justify-between",children:o.jsxs("div",{className:"flex-1",children:[o.jsx("h4",{className:"font-semibold text-slate-900",children:n}),o.jsx("p",{className:"text-sm text-slate-600 mt-1",children:e}),o.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Contact information not available in our database"})]})}),o.jsxs("div",{className:"mt-3 flex flex-wrap gap-2",children:[o.jsxs("button",{onClick:u,className:"inline-flex items-center gap-1 rounded-md bg-white px-3 py-1.5 text-xs font-medium text-blue-700 hover:bg-blue-100 transition border border-blue-200",children:[o.jsx("svg",{className:"h-3 w-3",fill:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{d:"M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"})}),"Search on LinkedIn"]}),o.jsxs("button",{onClick:c,disabled:a,className:"inline-flex items-center gap-1 rounded-md bg-white px-3 py-1.5 text-xs font-medium text-purple-700 hover:bg-purple-100 transition border border-purple-200 disabled:opacity-50",children:[o.jsx("svg",{className:"h-3 w-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),a?"Generating...":"Draft Outreach Message"]})]})]}),b&&!p&&o.jsxs("div",{className:"mt-3 rounded-lg border border-purple-200 bg-purple-50 p-4",children:[o.jsxs("div",{className:"flex items-start justify-between mb-2",children:[o.jsxs("div",{children:[o.jsx("h5",{className:"text-xs font-semibold text-purple-800 uppercase tracking-wide",children:"Outreach Message"}),o.jsx("p",{className:"text-xs text-purple-600 mt-1",children:"Generic message ready to customize and send"})]}),o.jsxs("button",{onClick:E,className:"inline-flex items-center gap-1 rounded-md bg-white px-2 py-1 text-xs font-medium text-purple-700 hover:bg-purple-100 transition border border-purple-200",children:[o.jsx("svg",{className:"h-3 w-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})}),"Copy"]})]}),o.jsxs("div",{className:"mt-3 space-y-2 text-sm",children:[o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-purple-900",children:"Subject:"}),o.jsx("p",{className:"text-purple-800 mt-1",children:b.subject})]}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-purple-900",children:"Body:"}),o.jsx("p",{className:"text-purple-800 mt-1 whitespace-pre-line",children:b.body})]})]})]})]}):null:o.jsxs("div",{className:"mt-6 pt-6 border-t border-slate-200",children:[o.jsx("div",{className:"flex items-start justify-between mb-3",children:o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"HR Contact"}),o.jsx("p",{className:"text-sm text-slate-600 mt-1",children:"Connect directly with hiring managers to increase your chances"})]})}),r?o.jsxs("div",{className:"flex items-center gap-2 py-4",children:[o.jsxs("svg",{className:"animate-spin h-5 w-5 text-brand-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[o.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),o.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),o.jsx("p",{className:"text-sm text-slate-600",children:"Searching for HR contacts..."})]}):i?s.length>0?o.jsxs("div",{className:"space-y-3 mt-4",children:[s.slice(0,2).map((v,g)=>o.jsxs("div",{className:"rounded-lg border border-brand-200 bg-brand-50 p-4",children:[o.jsx("div",{className:"flex items-start justify-between",children:o.jsxs("div",{className:"flex-1",children:[o.jsx("h4",{className:"font-semibold text-slate-900",children:v.full_name}),o.jsx("p",{className:"text-sm text-slate-600 mt-1",children:v.job_title}),o.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:[v.city,", ",v.country]})]})}),o.jsxs("div",{className:"mt-3 flex flex-wrap gap-2",children:[v.email&&o.jsxs("button",{onClick:()=>f(v.email),className:"inline-flex items-center gap-1 rounded-md bg-white px-3 py-1.5 text-xs font-medium text-brand-700 hover:bg-brand-100 transition border border-brand-200",children:[o.jsx("svg",{className:"h-3 w-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),v.email]}),v.linkedin&&o.jsxs("a",{href:v.linkedin,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1 rounded-md bg-white px-3 py-1.5 text-xs font-medium text-blue-700 hover:bg-blue-100 transition border border-blue-200",children:[o.jsx("svg",{className:"h-3 w-3",fill:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{d:"M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"})}),"LinkedIn"]}),o.jsxs("button",{onClick:()=>h(v),disabled:a,className:"inline-flex items-center gap-1 rounded-md bg-white px-3 py-1.5 text-xs font-medium text-purple-700 hover:bg-purple-100 transition border border-purple-200 disabled:opacity-50",children:[o.jsx("svg",{className:"h-3 w-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),a?"Generating...":"Draft Message"]})]})]},g)),b&&p&&o.jsxs("div",{className:"rounded-lg border border-purple-200 bg-purple-50 p-4",children:[o.jsxs("div",{className:"flex items-start justify-between mb-2",children:[o.jsxs("div",{children:[o.jsxs("h5",{className:"text-xs font-semibold text-purple-800 uppercase tracking-wide",children:["Outreach Message for ",p.full_name]}),o.jsx("p",{className:"text-xs text-purple-600 mt-1",children:"Personalized message ready to send"})]}),o.jsxs("button",{onClick:E,className:"text-xs text-purple-700 hover:text-purple-900 font-medium flex items-center gap-1",children:[o.jsx("svg",{className:"h-3 w-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})}),"Copy"]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-xs font-semibold text-purple-700",children:"Subject:"}),o.jsx("p",{className:"text-sm text-purple-900",children:b.subject})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs font-semibold text-purple-700",children:"Message:"}),o.jsx("p",{className:"text-sm text-purple-900 whitespace-pre-wrap",children:b.body})]})]})]}),s.length>2&&o.jsxs("button",{onClick:m,className:"text-sm text-brand-600 hover:text-brand-700 font-medium",children:["View all ",s.length," contacts "]})]}):o.jsx("div",{className:"rounded-lg border border-slate-200 bg-slate-50 p-6",children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("svg",{className:"h-6 w-6 text-slate-400 flex-shrink-0 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h4",{className:"font-semibold text-slate-900 mb-2",children:"No HR Contacts Found"}),o.jsxs("p",{className:"text-sm text-slate-600 mb-4",children:["We couldn't find HR contacts for ",e," in our database. Try searching on LinkedIn to find the hiring manager for this position."]}),o.jsxs("div",{className:"flex flex-wrap gap-2",children:[o.jsxs("button",{onClick:u,className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white text-sm font-medium rounded-lg transition-colors",children:[o.jsx("svg",{className:"h-4 w-4",fill:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{d:"M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"})}),"Search LinkedIn for HR"]}),o.jsxs("button",{onClick:c,disabled:a,className:"inline-flex items-center gap-2 px-4 py-2 bg-purple-600 hover:bg-purple-700 text-white text-sm font-medium rounded-lg transition-colors disabled:opacity-50",children:[o.jsx("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),a?"Generating...":"Draft Generic Message"]})]}),b&&!p&&o.jsxs("div",{className:"mt-4 rounded-lg border border-purple-200 bg-purple-50 p-4",children:[o.jsxs("div",{className:"flex items-start justify-between mb-2",children:[o.jsxs("div",{children:[o.jsx("h5",{className:"text-xs font-semibold text-purple-800 uppercase tracking-wide",children:"Generic Outreach Template"}),o.jsx("p",{className:"text-xs text-purple-600 mt-1",children:"Fill in the placeholder values with the HR contact details you find on LinkedIn"})]}),o.jsxs("button",{onClick:E,className:"text-xs text-purple-700 hover:text-purple-900 font-medium flex items-center gap-1",children:[o.jsx("svg",{className:"h-3 w-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})}),"Copy"]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-xs font-semibold text-purple-700",children:"Subject:"}),o.jsx("p",{className:"text-sm text-purple-900",children:b.subject})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs font-semibold text-purple-700",children:"Message:"}),o.jsx("p",{className:"text-sm text-purple-900 whitespace-pre-wrap",children:b.body})]})]})]})]})]})}):o.jsx("div",{className:"rounded-lg border border-brand-200 bg-brand-50 p-6",children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("svg",{className:"h-6 w-6 text-brand-600 flex-shrink-0 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h4",{className:"font-semibold text-slate-900 mb-2",children:"Find HR Contacts"}),o.jsxs("p",{className:"text-sm text-slate-600 mb-4",children:["Search our database for HR contacts at ",e,". We'll check our cache first, then search if needed."]}),o.jsxs("button",{onClick:l,className:"inline-flex items-center gap-2 px-4 py-2 bg-brand-600 hover:bg-brand-700 text-white text-sm font-medium rounded-lg transition-colors",children:[o.jsx("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),"Find HR Contacts"]})]})]})})]})}function ML({assessmentReport:e,scoreDetails:t,onViewFullReport:n,onHide:r}){var s,i,a,l,u,c,h,f,m,p,b,E,v,g;return o.jsxs("div",{className:"rounded-3xl border border-brand-200 bg-white p-6 shadow-card",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h3",{className:"text-sm font-semibold uppercase tracking-wide text-brand-700",children:"My Fit for This Role"}),e.from_cache&&o.jsx("span",{className:"text-xs bg-brand-50 rounded-full px-2 py-1 text-brand-700 border border-brand-200",children:"Cached"})]}),o.jsxs("div",{className:"space-y-4",children:[(((s=e.evidence)==null?void 0:s.matched_must_haves)||((i=e.gaps)==null?void 0:i.missing_must_haves))&&o.jsxs("div",{className:"rounded-lg bg-slate-50 border border-slate-200 p-4",children:[o.jsx("h4",{className:"text-xs font-semibold uppercase tracking-wide text-slate-500 mb-3",children:"Key Requirements"}),o.jsxs("div",{className:"space-y-2",children:[(((a=e.evidence)==null?void 0:a.matched_must_haves)||[]).slice(0,3).map((y,x)=>o.jsxs("div",{className:"flex items-start gap-2",children:[o.jsx("span",{className:"text-green-500 text-xs mt-0.5 flex-shrink-0",children:""}),o.jsx("span",{className:"text-xs text-slate-700",children:y})]},`match-${x}`)),(((l=e.gaps)==null?void 0:l.missing_must_haves)||[]).slice(0,3).map((y,x)=>o.jsxs("div",{className:"flex items-start gap-2",children:[o.jsx("span",{className:"text-orange-500 text-xs mt-0.5 flex-shrink-0",children:"!"}),o.jsx("span",{className:"text-xs text-slate-700",children:y})]},`gap-${x}`)),(((c=(u=e.evidence)==null?void 0:u.matched_must_haves)==null?void 0:c.length)||0)+(((f=(h=e.gaps)==null?void 0:h.missing_must_haves)==null?void 0:f.length)||0)>6&&o.jsxs("p",{className:"text-xs text-slate-500 italic mt-2",children:["+",(((p=(m=e.evidence)==null?void 0:m.matched_must_haves)==null?void 0:p.length)||0)+(((E=(b=e.gaps)==null?void 0:b.missing_must_haves)==null?void 0:E.length)||0)-6," more requirements"]})]})]}),o.jsxs("div",{className:"flex items-center gap-4 pb-4 border-b border-slate-200",children:[o.jsx("div",{className:"flex-shrink-0",children:o.jsxs("div",{className:`inline-flex items-center justify-center w-16 h-16 rounded-full text-lg font-bold ${e.decision==="strong_match"?"bg-green-100 text-green-700":e.decision==="possible_match"?"bg-yellow-100 text-yellow-700":e.decision==="weak_match"?"bg-orange-100 text-orange-700":"bg-red-100 text-red-700"}`,children:[Math.round((e.must_have_coverage||0)*100),"%"]})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("div",{className:"text-sm font-semibold text-slate-900 capitalize",children:(e.decision||"unknown").replace("_"," ")}),o.jsx("div",{className:"text-xs text-slate-600 mt-1",children:"Must-have coverage"})]})]}),((v=e.evidence)==null?void 0:v.matched_must_haves)&&e.evidence.matched_must_haves.length>0&&o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx("svg",{className:"h-4 w-4 text-green-600",fill:"currentColor",viewBox:"0 0 20 20",children:o.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),o.jsxs("h4",{className:"text-xs font-semibold text-green-700",children:["You Match (",e.evidence.matched_must_haves.length,")"]})]}),o.jsxs("ul",{className:"space-y-1.5 text-xs text-slate-600 ml-6",children:[e.evidence.matched_must_haves.slice(0,3).map((y,x)=>o.jsxs("li",{className:"flex items-start gap-1.5",children:[o.jsx("span",{className:"text-green-600 mt-0.5",children:""}),o.jsx("span",{children:y})]},x)),e.evidence.matched_must_haves.length>3&&o.jsxs("li",{className:"text-slate-500 italic",children:["+",e.evidence.matched_must_haves.length-3," more matches"]})]})]}),((g=e.gaps)==null?void 0:g.missing_must_haves)&&e.gaps.missing_must_haves.length>0&&o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx("svg",{className:"h-4 w-4 text-orange-600",fill:"currentColor",viewBox:"0 0 20 20",children:o.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),o.jsxs("h4",{className:"text-xs font-semibold text-orange-700",children:["Gaps to Address (",e.gaps.missing_must_haves.length,")"]})]}),o.jsxs("ul",{className:"space-y-1.5 text-xs text-slate-600 ml-6",children:[e.gaps.missing_must_haves.slice(0,3).map((y,x)=>o.jsxs("li",{className:"flex items-start gap-1.5",children:[o.jsx("span",{className:"text-orange-600 mt-0.5",children:"!"}),o.jsx("span",{children:y})]},x)),e.gaps.missing_must_haves.length>3&&o.jsxs("li",{className:"text-slate-500 italic",children:["+",e.gaps.missing_must_haves.length-3," more gaps"]})]})]}),e.recommendations_to_candidate&&e.recommendations_to_candidate.length>0&&o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx("svg",{className:"h-4 w-4 text-blue-600",fill:"currentColor",viewBox:"0 0 20 20",children:o.jsx("path",{d:"M11 3a1 1 0 10-2 0v1a1 1 0 102 0V3zM15.657 5.757a1 1 0 00-1.414-1.414l-.707.707a1 1 0 001.414 1.414l.707-.707zM18 10a1 1 0 01-1 1h-1a1 1 0 110-2h1a1 1 0 011 1zM5.05 6.464A1 1 0 106.464 5.05l-.707-.707a1 1 0 00-1.414 1.414l.707.707zM5 10a1 1 0 01-1 1H3a1 1 0 110-2h1a1 1 0 011 1zM8 16v-1h4v1a2 2 0 11-4 0zM12 14c.015-.34.208-.646.477-.859a4 4 0 10-4.954 0c.27.213.462.519.476.859h4.002z"})}),o.jsx("h4",{className:"text-xs font-semibold text-blue-700",children:"Tips to Improve"})]}),o.jsxs("ul",{className:"space-y-1.5 text-xs text-slate-600 ml-6",children:[e.recommendations_to_candidate.slice(0,3).map((y,x)=>o.jsxs("li",{className:"flex items-start gap-1.5",children:[o.jsx("span",{className:"text-blue-600 mt-0.5",children:""}),o.jsx("span",{children:y})]},x)),e.recommendations_to_candidate.length>3&&o.jsxs("li",{className:"text-slate-500 italic",children:["+",e.recommendations_to_candidate.length-3," more tips"]})]})]}),t&&o.jsxs("details",{className:"group border-t border-slate-200 pt-4",children:[o.jsxs("summary",{className:"flex items-center justify-between cursor-pointer list-none",children:[o.jsx("h4",{className:"text-xs font-semibold uppercase tracking-wide text-slate-500",children:"COMPASS Score Details"}),o.jsx("svg",{className:"h-4 w-4 text-slate-400 transition-transform group-open:rotate-180",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),o.jsxs("div",{className:"mt-3 space-y-3",children:[o.jsxs("div",{className:"flex items-center gap-3 pb-3 border-b border-slate-100",children:[o.jsx("div",{className:"text-2xl font-bold text-brand-600",children:t.totalRaw}),o.jsxs("div",{className:"flex-1",children:[o.jsx("div",{className:"text-sm font-semibold text-slate-900",children:t.verdict}),o.jsx("div",{className:"text-xs text-slate-500",children:"Overall EP Score"})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex justify-between items-center text-xs",children:[o.jsx("span",{className:"text-slate-600",children:"Salary"}),o.jsxs("span",{className:"font-semibold text-slate-900",children:[t.breakdown.salary,"/25"]})]}),o.jsxs("div",{className:"flex justify-between items-center text-xs",children:[o.jsx("span",{className:"text-slate-600",children:"Qualifications"}),o.jsxs("span",{className:"font-semibold text-slate-900",children:[t.breakdown.qualifications,"/25"]})]}),o.jsxs("div",{className:"flex justify-between items-center text-xs",children:[o.jsx("span",{className:"text-slate-600",children:"Diversity"}),o.jsxs("span",{className:"font-semibold text-slate-900",children:[t.breakdown.diversity,"/10"]})]}),o.jsxs("div",{className:"flex justify-between items-center text-xs",children:[o.jsx("span",{className:"text-slate-600",children:"Support"}),o.jsxs("span",{className:"font-semibold text-slate-900",children:[t.breakdown.support,"/10"]})]}),o.jsxs("div",{className:"flex justify-between items-center text-xs",children:[o.jsx("span",{className:"text-slate-600",children:"Skills"}),o.jsxs("span",{className:"font-semibold text-slate-900",children:[t.breakdown.skills,"/20"]})]}),o.jsxs("div",{className:"flex justify-between items-center text-xs",children:[o.jsx("span",{className:"text-slate-600",children:"Strategic"}),o.jsxs("span",{className:"font-semibold text-slate-900",children:[t.breakdown.strategic,"/10"]})]})]})]})]}),o.jsxs("button",{onClick:n,className:"w-full mt-4 text-xs text-brand-600 hover:text-brand-700 font-medium flex items-center justify-center gap-1",children:["View Full Report",o.jsx("svg",{className:"h-3 w-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]}),o.jsx("button",{onClick:r,className:"w-full text-xs text-slate-500 hover:text-slate-700 font-medium",children:"Hide Analysis"})]})]})}function BL({materials:e,onGenerateResume:t,onGenerateCoverLetter:n,onViewMaterials:r,isGeneratingResume:s,isGeneratingCoverLetter:i}){return o.jsxs("div",{className:"rounded-3xl border border-brand-200 bg-white p-6 shadow-card",children:[o.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Application Materials"}),o.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:gap-3",children:[o.jsxs("button",{type:"button",onClick:t,disabled:s,className:"inline-flex items-center justify-center rounded-lg border border-indigo-200 bg-indigo-50 px-4 py-2 text-sm font-semibold text-indigo-700 hover:border-indigo-300 hover:bg-indigo-100 disabled:opacity-60 disabled:cursor-not-allowed transition",children:[o.jsx(nr,{className:"mr-2 h-4 w-4"}),s?"Generating...":"Generate Resume"]}),o.jsxs("button",{type:"button",onClick:n,disabled:i,className:"inline-flex items-center justify-center rounded-lg border border-purple-200 bg-purple-50 px-4 py-2 text-sm font-semibold text-purple-700 hover:border-purple-300 hover:bg-purple-100 disabled:opacity-60 disabled:cursor-not-allowed transition",children:[o.jsx(nr,{className:"mr-2 h-4 w-4"}),i?"Generating...":"Generate Cover Letter"]}),e.length>0&&o.jsxs("button",{type:"button",onClick:r,className:"inline-flex items-center justify-center rounded-lg border border-slate-200 px-4 py-2 text-sm font-semibold text-slate-600 hover:border-slate-300 hover:bg-slate-50 transition",children:[o.jsx(tA,{className:"mr-2 h-4 w-4"}),"View Materials (",e.length,")"]})]})]})}function FL(){const{id:e}=Gw(),t=Zr(),{data:n,isLoading:r}=NA(e),s=pt(L=>L.profile),i=pt(L=>L.addApplication),[a,l]=A.useState(void 0),[u,c]=A.useState(void 0),[h,f]=A.useState(void 0),[m,p]=A.useState(null),[b,E]=A.useState(""),[v,g]=A.useState(!1),[y,x]=A.useState([]),[S,P]=A.useState(!1),[C,M]=A.useState(!1),[R,U]=A.useState(null),[B,$]=A.useState(!1),[Q,ie]=A.useState(null),[be,se]=A.useState(!1),[_e,we]=A.useState(null),[Y,ee]=A.useState([]),[w,j]=A.useState(!1),[G,k]=A.useState(!1),[ce,it]=A.useState(!1),[pe,at]=A.useState({}),[Be,ot]=A.useState(null),[Pt,rn]=A.useState(""),[$s,hr]=A.useState(!1);A.useEffect(()=>{},[]),A.useEffect(()=>{},[e]),A.useEffect(()=>{(async()=>{if(e)try{const X=await ig(e);ee(X.materials)}catch{console.log("No existing materials found")}})()},[e]);const $o=async()=>{if(e)try{const L=await ig(e);ee(L.materials),console.log("Reloaded materials from database:",L.materials.length)}catch{console.log("Failed to reload materials")}},zo=async()=>{if(e){j(!0);try{const{material:L}=await N3(e,{tone:"professional"});await $o(),We.success('Resume generated successfully! Click "View Materials" to see it.')}catch(L){We.error(L instanceof Error?L.message:"Failed to generate resume")}finally{j(!1)}}},Wo=async()=>{if(e){k(!0);try{const{material:L}=await k3(e,{tone:"professional"});await $o(),We.success('Cover letter generated successfully! Click "View Materials" to see it.')}catch(L){We.error(L instanceof Error?L.message:"Failed to generate cover letter")}finally{k(!1)}}},Vo=()=>{p("materials")};if(!e)return o.jsx("div",{className:"mx-auto max-w-4xl px-6 py-12",children:o.jsx("p",{className:"text-sm text-red-500",children:"Job not found."})});if(r||!n)return o.jsx("div",{className:"mx-auto max-w-7xl px-6 py-12",children:o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[o.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[o.jsx("div",{className:"rounded-3xl border border-slate-200 bg-white p-8 shadow-card",children:o.jsxs("div",{className:"animate-pulse space-y-4",children:[o.jsx("div",{className:"h-4 bg-slate-200 rounded w-1/4"}),o.jsx("div",{className:"h-8 bg-slate-200 rounded w-3/4"}),o.jsx("div",{className:"h-4 bg-slate-200 rounded w-1/2"}),o.jsxs("div",{className:"mt-6 space-y-3",children:[o.jsx("div",{className:"h-4 bg-slate-200 rounded"}),o.jsx("div",{className:"h-4 bg-slate-200 rounded"}),o.jsx("div",{className:"h-4 bg-slate-200 rounded w-5/6"})]})]})}),o.jsx("div",{className:"rounded-3xl border border-slate-200 bg-white p-8 shadow-card",children:o.jsxs("div",{className:"animate-pulse space-y-3",children:[o.jsx("div",{className:"h-10 bg-slate-200 rounded w-full"}),o.jsx("div",{className:"h-10 bg-slate-200 rounded w-full"})]})})]}),o.jsx("div",{className:"lg:col-span-1 space-y-6",children:o.jsx("div",{className:"rounded-2xl border border-slate-200 bg-white p-6 shadow-card",children:o.jsxs("div",{className:"animate-pulse space-y-3",children:[o.jsx("div",{className:"h-6 bg-slate-200 rounded w-3/4"}),o.jsx("div",{className:"h-4 bg-slate-200 rounded"}),o.jsx("div",{className:"h-4 bg-slate-200 rounded w-5/6"})]})})})]})});const gc=async()=>{if(!s){t("/knowledge-base");return}p("assess")},oa=async(L=!1)=>{if(!(!s||!e)){L||p(null),$(!0);try{const X=await f3(e,L);U(X),X.compass_score&&(l(X.compass_score.totalRaw),c(X.compass_score.verdict),f(X.compass_score)),We.success(X.from_cache&&!L?"Loaded existing assessment from database.":"Fit assessment completed with detailed LLM analysis."),p("report")}catch(X){We.error(X instanceof Error?X.message:"Unable to assess fit."),L&&p(null)}finally{$(!1)}}},qo=()=>{if(!n)return;const L=n.applyUrl||n.url||"";window.open(L,"_blank","noopener,noreferrer"),setTimeout(()=>{p("apply")},1e3)},yc=async()=>{if(!s){t("/knowledge-base");return}try{const L=n.applyUrl||n.url||"",X=await p3({jobId:n.id,jobTitle:n.title,jobCompany:n.company,jobUrl:L,status:"sent",notes:b,appliedAt:new Date().toISOString()});i(X),g(!0),We.success("Application recorded! Track it in Applications."),p(null),E("")}catch(L){We.error(L instanceof Error?L.message:"Unable to record application.")}},Yo=L=>{navigator.clipboard.writeText(L),We.success("Email copied to clipboard!")},Go=async L=>{if(n){we(L),se(!0),ie(null);try{const X=await ng({job_external_id:n.id,job_title:n.title,job_company:n.company,hr_name:L.full_name,hr_email:L.email||L.personal_email||void 0,hr_job_title:L.job_title});ie(X),We.success("Outreach message generated!")}catch(X){We.error(X instanceof Error?X.message:"Failed to generate message")}finally{se(!1)}}},xc=async()=>{if(n){we(null),se(!0),ie(null);try{const L=await ng({job_external_id:n.id,job_title:n.title,job_company:n.company,hr_name:n.hrName||"[HR Name]",hr_email:void 0,hr_job_title:"[HR Title]"});ie(L),n.hrName?We.success(`Outreach message generated for ${n.hrName}!`):We.success("Generic outreach template generated! Fill in HR details after finding contact.")}catch(L){We.error(L instanceof Error?L.message:"Failed to generate message")}finally{se(!1)}}},bc=async()=>{if(n){P(!0),M(!0);try{const L=`${n.company.toLowerCase().replace(/\s+/g,"")}.com`;console.log("Checking cache for:",L);const X=await g3(L);if(console.log("Cache result:",X),X.prospects&&X.prospects.length>0){x(X.prospects),We.success("HR contacts loaded from cache!"),P(!1);return}console.log("Not in cache, searching external API...");const lt=await m3({company_domain:L,fetch_count:3});console.log("Search result:",lt),x(lt.prospects),lt.prospects.length>0&&We.success("HR contacts found and cached!")}catch(L){console.error("Error in handleFindHR:",L),We.error(L instanceof Error?L.message:"Failed to search for HR contacts"),x([])}finally{P(!1)}}},F=()=>{if(!Q)return;const L=`Subject: ${Q.subject}

${Q.body}`;navigator.clipboard.writeText(L),We.success("Message copied to clipboard!")},K=(L,X)=>{ot(L),rn(X)},le=()=>{ot(null),rn("")},me=async L=>{if(!Pt.trim()){We.error("Content cannot be empty");return}hr(!0);try{const{material:X}=await C3(L,Pt);ee(lt=>lt.map(ue=>ue.id===L?X:ue)),ot(null),rn(""),We.success("Material updated successfully!")}catch(X){We.error(X instanceof Error?X.message:"Failed to update material")}finally{hr(!1)}};return a??n.scoreRaw,u??n.epIndicator,o.jsxs("div",{className:"mx-auto max-w-5xl px-6 py-12",children:[o.jsx(va,{open:m==="apply",title:"Confirm Application",description:"Did you complete your application on the external site?",onClose:()=>p(null),footer:o.jsxs("div",{className:"flex gap-3 justify-end",children:[o.jsx("button",{type:"button",onClick:()=>p(null),className:"rounded-lg border border-slate-300 bg-white px-4 py-2 text-sm font-medium text-slate-700 hover:bg-slate-50",children:"Cancel"}),o.jsx("button",{type:"button",onClick:yc,className:"rounded-lg bg-brand-600 px-4 py-2 text-sm font-medium text-white hover:bg-brand-700",children:"Yes, I Applied"})]}),children:o.jsxs("div",{className:"space-y-4",children:[o.jsx("p",{className:"text-sm text-slate-600",children:"We'll track this application in your dashboard. You can add notes to help you remember details about this role."}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-semibold uppercase tracking-wide text-slate-500 mb-2",children:"Notes (optional)"}),o.jsx("textarea",{value:b,onChange:L=>E(L.target.value),placeholder:"e.g., Submitted cover letter, contacted recruiter...",className:"w-full rounded-lg border border-slate-300 px-3 py-2 text-sm",rows:3})]})]})}),o.jsx(va,{open:m==="hr",title:"HR Contacts",description:n.isInternSG?"This is a smaller company from InternSG":`Found ${y.length} HR contacts at ${n.company}`,onClose:()=>{p(null),ie(null),we(null)},children:o.jsx("div",{className:"space-y-4",children:n.isInternSG?o.jsx("div",{className:"rounded-lg bg-blue-50 border border-blue-200 p-6",children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("svg",{className:"h-6 w-6 text-blue-600 flex-shrink-0 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h4",{className:"font-semibold text-blue-900 mb-2",children:"InternSG Company"}),o.jsxs("p",{className:"text-sm text-blue-800 mb-4 leading-relaxed",children:["This position is from a smaller company listed on InternSG. HR outreach may not be available through our platform.",n.hrName&&o.jsxs(o.Fragment,{children:[" ","Please search for ",o.jsx("span",{className:"font-semibold",children:n.hrName})," on LinkedIn or apply directly on InternSG."]})]}),n.hrName&&o.jsxs("div",{className:"rounded-md bg-white border border-blue-200 p-4 mb-4",children:[o.jsx("p",{className:"text-xs font-semibold text-blue-700 uppercase tracking-wide mb-2",children:"HR Contact"}),o.jsx("p",{className:"text-base text-blue-900 font-bold mb-3",children:n.hrName}),o.jsxs("button",{onClick:()=>{const L=`site:linkedin.com/in/ ${n.hrName} ${n.company}`,X=`https://www.google.com/search?q=${encodeURIComponent(L)}`;window.open(X,"_blank")},className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white text-sm font-medium rounded-lg transition-colors",children:[o.jsx("svg",{className:"h-4 w-4",fill:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{d:"M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"})}),"Search on LinkedIn"]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("p",{className:"text-sm font-semibold text-blue-900",children:"Recommended Actions:"}),o.jsxs("ul",{className:"text-sm text-blue-800 space-y-1.5",children:[o.jsxs("li",{className:"flex items-start gap-2",children:[o.jsx("span",{className:"text-blue-600 mt-0.5",children:""}),o.jsx("span",{children:"Apply directly on InternSG using the Apply Now button"})]}),o.jsxs("li",{className:"flex items-start gap-2",children:[o.jsx("span",{className:"text-blue-600 mt-0.5",children:""}),o.jsx("span",{children:"Check the company's website or LinkedIn page for contact information"})]})]})]})]})]})}):o.jsx(o.Fragment,{children:S?o.jsxs("div",{className:"flex items-center justify-center py-8",children:[o.jsxs("svg",{className:"animate-spin h-8 w-8 text-brand-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[o.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),o.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),o.jsx("p",{className:"ml-3 text-sm text-slate-600",children:"Searching for HR contacts..."})]}):y.length===0?o.jsxs("div",{className:"rounded-lg bg-slate-50 border border-slate-200 p-6 text-center",children:[o.jsx("p",{className:"text-sm text-slate-600",children:"No HR contacts found for this company."}),o.jsx("p",{className:"text-xs text-slate-500 mt-2",children:"Try searching on LinkedIn or the company's careers page."})]}):o.jsx("div",{className:"space-y-3",children:y.map((L,X)=>o.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-4 hover:border-brand-300 transition",children:[o.jsx("div",{className:"flex items-start justify-between",children:o.jsxs("div",{className:"flex-1",children:[o.jsx("h4",{className:"font-semibold text-slate-900",children:L.full_name}),o.jsx("p",{className:"text-sm text-slate-600 mt-1",children:L.job_title}),o.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:[L.city,", ",L.country]})]})}),o.jsxs("div",{className:"mt-3 flex flex-wrap gap-2",children:[L.email&&o.jsxs("button",{onClick:()=>Yo(L.email),className:"inline-flex items-center gap-1 rounded-md bg-brand-50 px-3 py-1.5 text-xs font-medium text-brand-700 hover:bg-brand-100 transition",children:[o.jsx("svg",{className:"h-3 w-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),L.email]}),L.linkedin&&o.jsxs("a",{href:L.linkedin,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1 rounded-md bg-blue-50 px-3 py-1.5 text-xs font-medium text-blue-700 hover:bg-blue-100 transition",children:[o.jsx("svg",{className:"h-3 w-3",fill:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{d:"M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"})}),"LinkedIn"]}),o.jsxs("button",{onClick:()=>Go(L),disabled:be,className:"inline-flex items-center gap-1 rounded-md bg-purple-50 px-3 py-1.5 text-xs font-medium text-purple-700 hover:bg-purple-100 transition disabled:opacity-50",children:[o.jsx("svg",{className:"h-3 w-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),be&&(_e==null?void 0:_e.email)===L.email?"Generating...":"Draft Message"]})]}),Q&&(_e==null?void 0:_e.email)===L.email&&o.jsxs("div",{className:"mt-4 rounded-lg border border-purple-200 bg-purple-50 p-4",children:[o.jsxs("div",{className:"flex items-start justify-between mb-2",children:[o.jsx("h5",{className:"text-xs font-semibold text-purple-800 uppercase tracking-wide",children:"Generated Outreach Message"}),o.jsxs("button",{onClick:F,className:"text-xs text-purple-700 hover:text-purple-900 font-medium flex items-center gap-1",children:[o.jsx("svg",{className:"h-3 w-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})}),"Copy"]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-xs font-semibold text-purple-700",children:"Subject:"}),o.jsx("p",{className:"text-sm text-purple-900",children:Q.subject})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs font-semibold text-purple-700",children:"Message:"}),o.jsx("p",{className:"text-sm text-purple-900 whitespace-pre-wrap",children:Q.body})]})]})]})]},X))})})})}),o.jsx(va,{open:m==="materials",title:"Application Materials",description:`${Y.length} generated ${Y.length===1?"document":"documents"} for this position`,onClose:()=>{p(null),le()},fullScreen:!0,children:o.jsx("div",{className:"space-y-4",children:Y.length===0?o.jsxs("div",{className:"rounded-lg bg-slate-50 border border-slate-200 p-6 text-center",children:[o.jsx("p",{className:"text-sm text-slate-600",children:"No materials generated yet."}),o.jsx("p",{className:"text-xs text-slate-500 mt-2",children:"Use the buttons on the job page to generate a resume or cover letter."})]}):Y.map(L=>{const X=pe[L.id]||"preview",lt=Be===L.id;return o.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-6",children:[o.jsxs("div",{className:"flex items-start justify-between mb-4",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:`p-2 rounded-lg ${L.material_type==="resume"?"bg-indigo-100 text-indigo-700":"bg-purple-100 text-purple-700"}`,children:o.jsx(nr,{className:"h-5 w-5"})}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-slate-900 capitalize",children:L.material_type.replace("_"," ")}),o.jsxs("p",{className:"text-xs text-slate-500",children:["Generated ",new Date(L.created_at).toLocaleDateString()," at"," ",new Date(L.created_at).toLocaleTimeString()]})]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[!lt&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex items-center gap-1 rounded-md bg-slate-100 p-1",children:[o.jsx("button",{onClick:()=>at(ue=>({...ue,[L.id]:"preview"})),className:`px-2 py-1 text-xs font-medium rounded transition ${X==="preview"?"bg-white text-slate-900 shadow-sm":"text-slate-600 hover:text-slate-900"}`,children:"Preview"}),o.jsx("button",{onClick:()=>at(ue=>({...ue,[L.id]:"raw"})),className:`px-2 py-1 text-xs font-medium rounded transition ${X==="raw"?"bg-white text-slate-900 shadow-sm":"text-slate-600 hover:text-slate-900"}`,children:"Raw"})]}),o.jsxs("button",{onClick:()=>K(L.id,L.content),className:"inline-flex items-center gap-1 rounded-md bg-blue-100 px-3 py-1.5 text-xs font-medium text-blue-700 hover:bg-blue-200 transition",children:[o.jsx("svg",{className:"h-3 w-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),"Edit"]}),o.jsxs("button",{onClick:()=>{navigator.clipboard.writeText(L.content),We.success("Content copied to clipboard!")},className:"inline-flex items-center gap-1 rounded-md bg-slate-100 px-3 py-1.5 text-xs font-medium text-slate-700 hover:bg-slate-200 transition",children:[o.jsx("svg",{className:"h-3 w-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})}),"Copy"]})]}),lt&&o.jsxs(o.Fragment,{children:[o.jsx("button",{onClick:le,disabled:$s,className:"inline-flex items-center gap-1 rounded-md bg-slate-100 px-3 py-1.5 text-xs font-medium text-slate-700 hover:bg-slate-200 transition disabled:opacity-50",children:"Cancel"}),o.jsxs("button",{onClick:()=>me(L.id),disabled:$s,className:"inline-flex items-center gap-1 rounded-md bg-green-600 px-3 py-1.5 text-xs font-medium text-white hover:bg-green-700 transition disabled:opacity-50",children:[o.jsx("svg",{className:"h-3 w-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),$s?"Saving...":"Save"]})]})]})]}),o.jsx("div",{className:"rounded-md border border-slate-200 bg-slate-50 p-6 max-h-[60vh] overflow-y-auto",children:lt?o.jsx("textarea",{value:Pt,onChange:ue=>rn(ue.target.value),className:"w-full min-h-[500px] p-3 text-sm text-slate-700 font-mono border border-slate-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-y",placeholder:"Edit your material here..."}):X==="preview"?o.jsx("div",{className:"markdown-preview",children:o.jsx(oR,{rehypePlugins:[PL],components:{h1(ue){const{node:Ze,...Ee}=ue;return o.jsx("h1",{className:"text-2xl font-bold mb-4 pb-2 border-b border-slate-300 text-slate-900",...Ee})},h2(ue){const{node:Ze,...Ee}=ue;return o.jsx("h2",{className:"text-xl font-semibold mt-6 mb-3 text-slate-900",...Ee})},h3(ue){const{node:Ze,...Ee}=ue;return o.jsx("h3",{className:"text-lg font-semibold mt-4 mb-2 text-slate-800",...Ee})},p(ue){const{node:Ze,...Ee}=ue;return o.jsx("p",{className:"mb-4 leading-relaxed text-slate-700 whitespace-pre-wrap break-words",...Ee})},strong(ue){const{node:Ze,...Ee}=ue;return o.jsx("strong",{className:"font-bold text-slate-900",...Ee})},em(ue){const{node:Ze,...Ee}=ue;return o.jsx("em",{className:"italic text-slate-700",...Ee})},mark(ue){const{node:Ze,...Ee}=ue;return o.jsx("mark",{className:"bg-yellow-200 px-0.5 rounded",...Ee})},ul(ue){const{node:Ze,...Ee}=ue;return o.jsx("ul",{className:"list-disc ml-6 my-4 space-y-2",...Ee})},ol(ue){const{node:Ze,...Ee}=ue;return o.jsx("ol",{className:"list-decimal ml-6 my-4 space-y-2",...Ee})},li(ue){const{node:Ze,...Ee}=ue;return o.jsx("li",{className:"text-slate-700 leading-relaxed",...Ee})},a(ue){const{node:Ze,...Ee}=ue;return o.jsx("a",{className:"text-blue-600 hover:underline break-words",...Ee})},code(ue){const{node:Ze,...Ee}=ue;return o.jsx("code",{className:"bg-slate-200 px-1.5 py-0.5 rounded text-sm font-mono text-slate-800",...Ee})},blockquote(ue){const{node:Ze,...Ee}=ue;return o.jsx("blockquote",{className:"border-l-4 border-slate-300 pl-4 italic text-slate-600 my-4",...Ee})},hr(ue){const{node:Ze,...Ee}=ue;return o.jsx("hr",{className:"my-6 border-slate-300",...Ee})}},children:L.content.replace(/^```markdown\n?/,"").replace(/\n?```$/,"")})}):o.jsx("pre",{className:"text-sm text-slate-700 whitespace-pre-wrap break-words font-mono leading-relaxed",children:L.content})}),L.metadata&&!lt&&o.jsxs("div",{className:"mt-3 text-xs text-slate-500",children:[o.jsx("span",{className:"font-semibold",children:"Tone:"})," ",L.metadata.tone||"Professional"]})]},L.id)})})}),o.jsx(va,{open:m==="assess",title:"Assess Fit with LLM",description:"Get detailed analysis of how well you match this role",onClose:()=>p(null),footer:o.jsxs("div",{className:"flex gap-3 justify-end",children:[o.jsx("button",{type:"button",onClick:()=>p(null),className:"rounded-lg border border-slate-300 bg-white px-4 py-2 text-sm font-medium text-slate-700 hover:bg-slate-50",children:"Cancel"}),o.jsx("button",{type:"button",onClick:()=>oa(!1),className:"rounded-lg bg-brand-600 px-4 py-2 text-sm font-medium text-white hover:bg-brand-700",children:"Run Assessment"})]}),children:o.jsxs("div",{className:"space-y-4",children:[o.jsx("p",{className:"text-sm text-slate-600",children:"This will use AI to analyze your profile against the job requirements and provide detailed recommendations. The analysis typically takes 10-15 seconds."}),o.jsxs("div",{className:"rounded-lg bg-blue-50 border border-blue-200 p-4",children:[o.jsx("h4",{className:"text-sm font-semibold text-blue-900 mb-2",children:"What you'll get:"}),o.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[o.jsx("li",{children:" Updated COMPASS score based on this specific role"}),o.jsx("li",{children:" Detailed breakdown across 6 dimensions"}),o.jsx("li",{children:" Personalized recommendations to improve your match"})]})]})]})}),o.jsxs(va,{open:m==="report",title:"Job Fit Assessment Report",description:R?`Analysis for ${R.role_title} at ${n.company}`:"",onClose:()=>p(null),footer:o.jsxs("div",{className:"flex gap-3 justify-between w-full",children:[o.jsx("div",{className:"flex items-center gap-2",children:(R==null?void 0:R.from_cache)&&o.jsx("span",{className:"text-xs text-slate-500 italic",children:"Loaded from previous analysis"})}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{type:"button",onClick:()=>oa(!0),disabled:B,className:"rounded-lg border border-brand-600 bg-white px-4 py-2 text-sm font-medium text-brand-600 hover:bg-brand-50 disabled:opacity-50 disabled:cursor-not-allowed",children:B?"Regenerating...":"Regenerate"}),o.jsx("button",{type:"button",onClick:()=>p(null),disabled:B,className:"rounded-lg bg-brand-600 px-4 py-2 text-sm font-medium text-white hover:bg-brand-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"Close"})]})]}),children:[B&&o.jsx("div",{className:"absolute inset-0 bg-white/80 backdrop-blur-sm flex items-center justify-center z-50 rounded-lg",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-4 border-brand-200 border-t-brand-600 mb-4"}),o.jsx("p",{className:"text-sm font-medium text-slate-900",children:"Regenerating assessment..."}),o.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"This may take a few moments"})]})}),R&&o.jsxs("div",{className:"space-y-6 max-h-[70vh] overflow-y-auto",children:[o.jsxs("div",{className:"rounded-lg bg-gradient-to-br from-brand-50 to-blue-50 border border-brand-200 p-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsxs("h3",{className:"text-2xl font-bold text-slate-900",children:[R.overall_score,"/100"]}),o.jsx("p",{className:"text-sm text-slate-600 mt-1",children:"Overall Match Score"})]}),o.jsx("div",{className:`inline-flex items-center rounded-full px-4 py-2 text-sm font-semibold ${R.decision==="strong_match"?"bg-green-100 text-green-800":R.decision==="possible_match"?"bg-yellow-100 text-yellow-800":R.decision==="weak_match"?"bg-orange-100 text-orange-800":"bg-red-100 text-red-800"}`,children:R.decision.replace("_"," ").toUpperCase()})]}),o.jsxs("div",{className:"mt-4 pt-4 border-t border-brand-200",children:[o.jsx("p",{className:"text-xs text-slate-500 uppercase tracking-wide font-semibold mb-2",children:"Must-Have Coverage"}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"flex-1 bg-white rounded-full h-3 overflow-hidden",children:o.jsx("div",{className:"bg-brand-600 h-full rounded-full transition-all duration-500",style:{width:`${R.must_have_coverage*100}%`}})}),o.jsxs("span",{className:"text-sm font-semibold text-slate-700",children:[Math.round(R.must_have_coverage*100),"%"]})]})]})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-sm font-semibold uppercase tracking-wide text-slate-500 mb-3",children:"Detailed Subscores"}),o.jsx("div",{className:"grid grid-cols-2 gap-3",children:Object.entries(R.subscores).map(([L,X])=>o.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-4",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("span",{className:"text-xs font-medium text-slate-600 capitalize",children:L.replace(/_/g," ")}),o.jsxs("span",{className:"text-lg font-bold text-brand-600",children:[X,"/5"]})]}),o.jsx("div",{className:"bg-slate-100 rounded-full h-2 overflow-hidden",children:o.jsx("div",{className:"bg-brand-600 h-full rounded-full transition-all",style:{width:`${X/5*100}%`}})})]},L))})]}),(R.evidence.matched_must_haves.length>0||R.evidence.matched_nice_to_haves.length>0)&&o.jsxs("div",{children:[o.jsx("h4",{className:"text-sm font-semibold uppercase tracking-wide text-slate-500 mb-3",children:" Strengths & Matches"}),o.jsxs("div",{className:"space-y-4",children:[R.evidence.matched_must_haves.length>0&&o.jsxs("div",{className:"rounded-lg border border-green-200 bg-green-50 p-4",children:[o.jsx("h5",{className:"text-xs font-semibold text-green-800 uppercase tracking-wide mb-2",children:"Matched Must-Haves"}),o.jsx("ul",{className:"space-y-1",children:R.evidence.matched_must_haves.map((L,X)=>o.jsxs("li",{className:"text-sm text-green-900 flex items-start gap-2",children:[o.jsx("span",{className:"text-green-600 mt-0.5",children:""}),o.jsx("span",{children:L})]},X))})]}),R.evidence.matched_nice_to_haves.length>0&&o.jsxs("div",{className:"rounded-lg border border-blue-200 bg-blue-50 p-4",children:[o.jsx("h5",{className:"text-xs font-semibold text-blue-800 uppercase tracking-wide mb-2",children:"Matched Nice-to-Haves"}),o.jsx("ul",{className:"space-y-1",children:R.evidence.matched_nice_to_haves.map((L,X)=>o.jsxs("li",{className:"text-sm text-blue-900 flex items-start gap-2",children:[o.jsx("span",{className:"text-blue-600 mt-0.5",children:""}),o.jsx("span",{children:L})]},X))})]}),R.evidence.impact_highlights.length>0&&o.jsxs("div",{className:"rounded-lg border border-purple-200 bg-purple-50 p-4",children:[o.jsx("h5",{className:"text-xs font-semibold text-purple-800 uppercase tracking-wide mb-2",children:"Impact Highlights"}),o.jsx("ul",{className:"space-y-1",children:R.evidence.impact_highlights.map((L,X)=>o.jsxs("li",{className:"text-sm text-purple-900 flex items-start gap-2",children:[o.jsx("span",{className:"text-purple-600 mt-0.5",children:""}),o.jsx("span",{children:L})]},X))})]}),R.evidence.tools_stack_matched.length>0&&o.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 p-4",children:[o.jsx("h5",{className:"text-xs font-semibold text-slate-800 uppercase tracking-wide mb-2",children:"Tools & Tech Stack"}),o.jsx("div",{className:"flex flex-wrap gap-2",children:R.evidence.tools_stack_matched.map((L,X)=>o.jsx("span",{className:"inline-block rounded-full bg-white border border-slate-300 px-3 py-1 text-xs font-medium text-slate-700",children:L},X))})]})]})]}),(R.gaps.missing_must_haves.length>0||R.gaps.risks.length>0)&&o.jsxs("div",{children:[o.jsx("h4",{className:"text-sm font-semibold uppercase tracking-wide text-slate-500 mb-3",children:" Gaps & Areas for Improvement"}),o.jsxs("div",{className:"space-y-4",children:[R.gaps.missing_must_haves.length>0&&o.jsxs("div",{className:"rounded-lg border border-red-200 bg-red-50 p-4",children:[o.jsx("h5",{className:"text-xs font-semibold text-red-800 uppercase tracking-wide mb-2",children:"Missing Must-Haves"}),o.jsx("ul",{className:"space-y-1",children:R.gaps.missing_must_haves.map((L,X)=>o.jsxs("li",{className:"text-sm text-red-900 flex items-start gap-2",children:[o.jsx("span",{className:"text-red-600 mt-0.5",children:""}),o.jsx("span",{children:L})]},X))})]}),R.gaps.risks.length>0&&o.jsxs("div",{className:"rounded-lg border border-orange-200 bg-orange-50 p-4",children:[o.jsx("h5",{className:"text-xs font-semibold text-orange-800 uppercase tracking-wide mb-2",children:"Potential Risks"}),o.jsx("ul",{className:"space-y-1",children:R.gaps.risks.map((L,X)=>o.jsxs("li",{className:"text-sm text-orange-900 flex items-start gap-2",children:[o.jsx("span",{className:"text-orange-600 mt-0.5",children:""}),o.jsx("span",{children:L})]},X))})]})]})]}),R.recommendations_to_candidate.length>0&&o.jsxs("div",{children:[o.jsx("h4",{className:"text-sm font-semibold uppercase tracking-wide text-slate-500 mb-3",children:"Recommendations for You"}),o.jsx("div",{className:"rounded-lg border border-brand-200 bg-brand-50 p-4",children:o.jsx("ul",{className:"space-y-2",children:R.recommendations_to_candidate.map((L,X)=>o.jsxs("li",{className:"text-sm text-slate-700 flex items-start gap-3",children:[o.jsx("span",{className:"inline-flex items-center justify-center w-6 h-6 rounded-full bg-brand-600 text-white text-xs font-bold flex-shrink-0 mt-0.5",children:X+1}),o.jsx("span",{children:L})]},X))})})]}),R.questions_for_interview.length>0&&o.jsxs("div",{children:[o.jsx("h4",{className:"text-sm font-semibold uppercase tracking-wide text-slate-500 mb-3",children:"Suggested Interview Questions"}),o.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 p-4",children:[o.jsx("p",{className:"text-xs text-slate-500 mb-3",children:"Questions the hiring manager might ask based on your profile:"}),o.jsx("ul",{className:"space-y-2",children:R.questions_for_interview.map((L,X)=>o.jsx("li",{className:"text-sm text-slate-700 flex items-start gap-3 pl-4 border-l-2 border-brand-400",children:o.jsx("span",{children:L})},X))})]})]}),R.notes&&o.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 p-4",children:[o.jsx("h5",{className:"text-xs font-semibold text-slate-600 uppercase tracking-wide mb-2",children:"Additional Notes"}),o.jsx("p",{className:"text-sm text-slate-700",children:R.notes})]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[o.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[o.jsx(LL,{title:n.title,company:n.company,location:n.location,tags:[n.industry],salary:n.salaryMinSGD&&n.salaryMaxSGD?`SGD ${n.salaryMinSGD.toLocaleString()} - ${n.salaryMaxSGD.toLocaleString()}`:void 0,postedDate:n.createdAt,isInternSG:n.isInternSG}),o.jsx(jL,{hasApplied:v,onApply:qo,onCheckFit:gc,onViewFit:()=>p("report"),isAnalyzing:B,hasAssessment:!!R}),o.jsx(BL,{materials:Y,onGenerateResume:zo,onGenerateCoverLetter:Wo,onViewMaterials:Vo,isGeneratingResume:w,isGeneratingCoverLetter:G}),o.jsx(DL,{companyName:n.company,isInternSG:n.isInternSG,hrName:n.hrName,hrLoading:S,hrProspects:y,hrFetched:C,outreachLoading:be,outreachMessage:Q,selectedHRContact:_e,onFindHR:bc,onSearchLinkedIn:()=>{const L=n.hrName?`site:linkedin.com/in/ "${n.hrName}" ${n.company} singapore`:`site:linkedin.com/in/ ${n.company} (hr OR "hiring manager" OR "talent acquisition" OR recruiter) singapore`,X=`https://www.google.com/search?q=${encodeURIComponent(L)}`;window.open(X,"_blank")},onCopyEmail:Yo,onGenerateOutreach:Go,onGenerateGenericOutreach:xc,onCopyOutreachMessage:F,onViewAllContacts:()=>p("hr")}),o.jsxs("div",{className:"rounded-3xl border border-slate-200 bg-white p-8 shadow-card",children:[o.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Job Description"}),o.jsx("div",{className:"mt-6 text-sm leading-relaxed text-slate-600",dangerouslySetInnerHTML:{__html:n.description.replace(/^#{1,3}\s+(.+)$/gm,'<h3 class="text-base font-bold text-slate-900 mt-6 mb-3">$1</h3>').replace(/^([^:\n]+):$/gm,'<p class="font-semibold text-slate-900 mt-4 mb-2">$1:</p>').split(`

`).map(L=>L.trim().startsWith("<")?L:`<p class="mb-4">${L.replace(/\n/g,"<br />")}</p>`).join("")}})]})]}),o.jsx("div",{className:"lg:col-span-1 space-y-6",children:R&&o.jsx(ML,{assessmentReport:R,scoreDetails:h,onViewFullReport:()=>p("report"),onHide:()=>{U(null),f(void 0),l(void 0),c(void 0)}})})]})]})}function UL(){const e=Zr(),t=pt(u=>u.profile),n=pt(u=>u.applications),r=pt(u=>u.setApplications),[s,i]=A.useState("idle");if(A.useEffect(()=>{(!t||!t.id||t.id==="local-user"||!t.skills||t.skills.length===0)&&e("/knowledge-base")},[t,e]),A.useEffect(()=>{let u=!0;return(async()=>{i("loading");try{const h=await y3();u&&(r(h.items),i("idle"))}catch{u&&i("error")}})(),()=>{u=!1}},[r]),!t)return o.jsx("div",{className:"mx-auto max-w-5xl px-6 py-12",children:o.jsx(Iu,{title:"No profile yet",description:"Add your knowledge sources to start tracking your job applications.",action:o.jsx(st,{to:"/knowledge-base",className:"rounded-lg bg-brand-600 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-brand-700",children:"Go to Knowledge Base"})})});const a=u=>{switch(u){case"draft":return"bg-slate-100 text-slate-700";case"sent":return"bg-blue-100 text-blue-700";case"responded":return"bg-purple-100 text-purple-700";case"interview":return"bg-green-100 text-green-700";case"offer":return"bg-emerald-100 text-emerald-700";case"rejected":return"bg-red-100 text-red-700";default:return"bg-slate-100 text-slate-700"}},l=u=>{switch(u){case"sent":return"Applied";case"responded":return"Responded";case"interview":return"Interview";case"offer":return"Offer";case"rejected":return"Rejected";case"draft":return"Draft";default:return u}};return o.jsxs("div",{className:"mx-auto max-w-6xl px-6 py-12",children:[o.jsxs("div",{className:"mb-8",children:[o.jsx("h2",{className:"text-3xl font-semibold text-slate-900",children:"My Applications"}),o.jsx("p",{className:"mt-2 text-sm text-slate-500",children:"Track and manage all your job applications in one place."})]}),s==="loading"&&o.jsx("p",{className:"text-sm text-slate-500",children:"Loading applications"}),s==="error"&&o.jsx("p",{className:"text-sm text-red-500",children:"Unable to load applications. Please try again later."}),n.length===0?o.jsx(Iu,{title:"No applications yet",description:"Start applying to jobs and track your progress here.",action:o.jsx(st,{to:"/jobs",className:"rounded-lg bg-brand-600 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-brand-700",children:"Browse Jobs"})}):o.jsx("div",{className:"space-y-4",children:n.map(u=>o.jsx("div",{className:"rounded-2xl border border-slate-200 bg-white p-6 shadow-card hover:shadow-lg transition-shadow",children:o.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-start sm:justify-between",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:u.jobTitle}),o.jsx("p",{className:"mt-1 text-sm text-slate-600",children:u.jobCompany})]}),o.jsx("span",{className:`inline-flex items-center rounded-full px-3 py-1 text-xs font-medium ${a(u.status)}`,children:l(u.status)})]}),u.notes&&o.jsx("p",{className:"mt-3 text-sm text-slate-500 line-clamp-2",children:u.notes}),o.jsxs("div",{className:"mt-4 flex flex-wrap gap-4 text-xs text-slate-400",children:[u.appliedAt&&o.jsxs("span",{children:["Applied: ",new Date(u.appliedAt).toLocaleDateString()]}),o.jsxs("span",{children:["Updated: ",new Date(u.updatedAt).toLocaleDateString()]})]})]}),o.jsxs("div",{className:"flex gap-2 sm:flex-col sm:items-end",children:[u.jobUrl&&o.jsxs("a",{href:u.jobUrl,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1 text-xs font-medium text-brand-600 hover:text-brand-700",children:["View Job",o.jsx("svg",{className:"h-3 w-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})})]}),o.jsxs(st,{to:`/jobs/${u.jobId}`,className:"inline-flex items-center gap-1 text-xs font-medium text-slate-600 hover:text-slate-900",children:["View Details",o.jsx("svg",{className:"h-3 w-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})]})},u.id))})]})}const HL=e=>{const t=e.split(" ").filter(Boolean).slice(0,2);return t.length===0?"U":t.map(n=>{var r;return((r=n[0])==null?void 0:r.toUpperCase())??""}).join("")};function $L(){var p,b;const e=A.useRef(null),{user:t,signOut:n}=Bs(),r=pt(E=>E.profile),s=pt(E=>E.basicInfo),[i,a]=A.useState(!1),l=((p=t==null?void 0:t.user_metadata)==null?void 0:p.full_name)||(r==null?void 0:r.name)||(s==null?void 0:s.name)||"User",u=(t==null?void 0:t.email)||"",c=(b=t==null?void 0:t.user_metadata)==null?void 0:b.avatar_url,h=A.useMemo(()=>HL(l),[l]),f=A.useMemo(()=>{const E=[];return r!=null&&r.nationality&&E.push(r.nationality),(r==null?void 0:r.yearsExperience)!=null&&E.push(`${r.yearsExperience} yrs exp`),E.length>0?E.join("  "):null},[r]);A.useEffect(()=>{if(!i)return;const E=v=>{e.current&&!e.current.contains(v.target)&&a(!1)};return document.addEventListener("mousedown",E),()=>document.removeEventListener("mousedown",E)},[i]);const m=async()=>{try{await n(),a(!1)}catch(E){console.error("Sign out failed:",E)}};return o.jsxs("div",{className:"relative",ref:e,children:[o.jsxs("button",{type:"button",onClick:()=>a(E=>!E),className:"flex items-center gap-2 rounded-full border border-slate-200 bg-white px-3 py-1.5 text-sm font-medium text-slate-700 shadow-sm transition hover:bg-slate-50 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-brand-500","aria-haspopup":"menu","aria-expanded":i,children:[c?o.jsx("img",{src:c,alt:l,className:"h-8 w-8 rounded-full object-cover"}):o.jsx("span",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-brand-100 text-sm font-semibold text-brand-700",children:h}),o.jsx("span",{className:"hidden sm:inline",children:l.split(" ")[0]}),o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"h-4 w-4 text-slate-400",children:o.jsx("path",{fillRule:"evenodd",d:"M5.23 7.21a.75.75 0 011.06.02L10 11.168l3.71-3.938a.75.75 0 111.08 1.04l-4.25 4.5a.75.75 0 01-1.08 0l-4.25-4.5a.75.75 0 01.02-1.06z",clipRule:"evenodd"})})]}),i&&o.jsxs("div",{className:"absolute right-0 mt-2 w-80 origin-top-right rounded-xl border border-slate-200 bg-white shadow-xl ring-1 ring-black ring-opacity-5 focus:outline-none z-50",children:[o.jsx("div",{className:"p-4 border-b border-slate-100",children:o.jsxs("div",{className:"flex items-start gap-3",children:[c?o.jsx("img",{src:c,alt:l,className:"h-12 w-12 rounded-full object-cover flex-shrink-0"}):o.jsx("span",{className:"flex h-12 w-12 items-center justify-center rounded-full bg-brand-100 text-lg font-semibold text-brand-700 flex-shrink-0",children:h}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"text-sm font-semibold text-slate-900 truncate",children:l}),o.jsx("p",{className:"text-xs text-slate-500 truncate mt-0.5",children:u}),f&&o.jsx("p",{className:"text-xs text-slate-600 mt-1",children:f}),(r==null?void 0:r.educationLevel)&&o.jsx("div",{className:"mt-2 inline-flex items-center rounded-full bg-brand-50 px-2 py-0.5 text-xs font-medium text-brand-700",children:r.educationLevel})]})]})}),(r==null?void 0:r.latestCompassScore)&&o.jsx("div",{className:"px-4 py-3 border-b border-slate-100 bg-slate-50",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-xs font-medium text-slate-500 uppercase tracking-wide",children:"Latest COMPASS Score"}),o.jsxs("p",{className:"text-lg font-bold text-slate-900 mt-1",children:[r.latestCompassScore.totalRaw??r.latestCompassScore.total,"/110"]})]}),o.jsx("div",{className:`rounded-lg px-3 py-1 text-xs font-semibold ${r.latestCompassScore.verdict==="Likely"?"bg-green-100 text-green-700":r.latestCompassScore.verdict==="Borderline"?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700"}`,children:r.latestCompassScore.verdict})]})}),o.jsx("div",{className:"py-1",children:o.jsxs("button",{onClick:m,className:"w-full text-left px-4 py-2 text-sm text-slate-700 hover:bg-slate-50 flex items-center gap-2",children:[o.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-4 h-4",children:[o.jsx("path",{fillRule:"evenodd",d:"M3 4.25A2.25 2.25 0 015.25 2h5.5A2.25 2.25 0 0113 4.25v2a.75.75 0 01-1.5 0v-2a.75.75 0 00-.75-.75h-5.5a.75.75 0 00-.75.75v11.5c0 .414.336.75.75.75h5.5a.75.75 0 00.75-.75v-2a.75.75 0 011.5 0v2A2.25 2.25 0 0110.75 18h-5.5A2.25 2.25 0 013 15.75V4.25z",clipRule:"evenodd"}),o.jsx("path",{fillRule:"evenodd",d:"M19 10a.75.75 0 00-.75-.75H8.704l1.048-.943a.75.75 0 10-1.004-1.114l-2.5 2.25a.75.75 0 000 1.114l2.5 2.25a.75.75 0 101.004-1.114l-1.048-.943h9.546A.75.75 0 0019 10z",clipRule:"evenodd"})]}),"Sign out"]})})]})]})}const zL=e=>{const t=e.split(" ").filter(Boolean).slice(0,2);return t.length===0?"U":t.map(n=>{var r;return((r=n[0])==null?void 0:r.toUpperCase())??""}).join("")};function WL(){var c,h;const{user:e,signOut:t}=Bs(),n=pt(f=>f.profile),r=pt(f=>f.basicInfo),s=((c=e==null?void 0:e.user_metadata)==null?void 0:c.full_name)||(n==null?void 0:n.name)||(r==null?void 0:r.name)||"User",i=(e==null?void 0:e.email)||"",a=(h=e==null?void 0:e.user_metadata)==null?void 0:h.avatar_url,l=zL(s),u=async()=>{try{await t()}catch(f){console.error("Sign out failed:",f)}};return o.jsxs("div",{className:"rounded-lg bg-slate-50 p-4",children:[o.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[a?o.jsx("img",{src:a,alt:s,className:"h-12 w-12 rounded-full object-cover flex-shrink-0"}):o.jsx("span",{className:"flex h-12 w-12 items-center justify-center rounded-full bg-brand-100 text-lg font-semibold text-brand-700 flex-shrink-0",children:l}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"text-sm font-semibold text-slate-900 truncate",children:s}),o.jsx("p",{className:"text-xs text-slate-500 truncate mt-0.5",children:i}),(n==null?void 0:n.nationality)&&(n==null?void 0:n.yearsExperience)!=null&&o.jsxs("p",{className:"text-xs text-slate-600 mt-1",children:[n.nationality,"  ",n.yearsExperience," yrs exp"]}),(n==null?void 0:n.educationLevel)&&o.jsx("div",{className:"mt-2 inline-flex items-center rounded-full bg-brand-50 px-2 py-0.5 text-xs font-medium text-brand-700",children:n.educationLevel})]})]}),(n==null?void 0:n.latestCompassScore)&&o.jsx("div",{className:"rounded-lg bg-white border border-slate-200 p-3 mb-3",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-xs font-medium text-slate-500 uppercase tracking-wide",children:"Latest Score"}),o.jsxs("p",{className:"text-lg font-bold text-slate-900 mt-0.5",children:[n.latestCompassScore.totalRaw??n.latestCompassScore.total,"/110"]})]}),o.jsx("div",{className:`rounded-lg px-3 py-1.5 text-xs font-semibold ${n.latestCompassScore.verdict==="Likely"?"bg-green-100 text-green-700":n.latestCompassScore.verdict==="Borderline"?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700"}`,children:n.latestCompassScore.verdict})]})}),o.jsxs("button",{onClick:u,className:"w-full flex items-center justify-center gap-2 rounded-lg bg-white border border-slate-200 px-4 py-2.5 text-sm font-medium text-slate-700 hover:bg-slate-50 transition",children:[o.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-4 h-4",children:[o.jsx("path",{fillRule:"evenodd",d:"M3 4.25A2.25 2.25 0 015.25 2h5.5A2.25 2.25 0 0113 4.25v2a.75.75 0 01-1.5 0v-2a.75.75 0 00-.75-.75h-5.5a.75.75 0 00-.75.75v11.5c0 .414.336.75.75.75h5.5a.75.75 0 00.75-.75v-2a.75.75 0 011.5 0v2A2.25 2.25 0 0110.75 18h-5.5A2.25 2.25 0 013 15.75V4.25z",clipRule:"evenodd"}),o.jsx("path",{fillRule:"evenodd",d:"M19 10a.75.75 0 00-.75-.75H8.704l1.048-.943a.75.75 0 10-1.004-1.114l-2.5 2.25a.75.75 0 000 1.114l2.5 2.25a.75.75 0 101.004-1.114l-1.048-.943h9.546A.75.75 0 0019 10z",clipRule:"evenodd"})]}),"Sign out"]})]})}const Al=({isActive:e})=>["px-3 py-2 rounded-md text-sm font-medium transition-colors",e?"bg-brand-100 text-brand-800":"text-slate-600 hover:bg-slate-100"].join(" "),_d=()=>"px-3 py-2 rounded-md text-sm font-medium text-slate-300 cursor-not-allowed opacity-60 relative group";function VL(){const{user:e}=Bs(),t=pt(a=>a.profile),n=pt(a=>a.loadProfileFromDB),[r,s]=A.useState(!1);A.useEffect(()=>{e&&n().catch(a=>console.warn("Failed to load profile on init",a))},[e,n]);const i=!!(t&&t.id&&t.id!=="local-user"&&t.skills&&t.skills.length>0);return o.jsxs(i3,{children:[o.jsx(hN,{position:"top-right",toastOptions:{duration:4e3,style:{background:"#fff",color:"#0f172a",boxShadow:"0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1)"},success:{iconTheme:{primary:"#10b981",secondary:"#fff"}},error:{iconTheme:{primary:"#ef4444",secondary:"#fff"}}}}),o.jsxs("div",{className:"min-h-screen flex flex-col",children:[e&&o.jsxs("header",{className:"border-b bg-white sticky top-0 z-30",children:[o.jsxs("div",{className:"mx-auto flex max-w-6xl items-center justify-between px-6 py-3 sm:py-4",children:[o.jsx(st,{to:"/",className:"text-lg sm:text-xl font-semibold text-brand-600 flex-shrink-0",children:"CTO"}),o.jsx("p",{className:"hidden sm:block text-xs text-slate-500 ml-2",children:"Your Personal Chief Talent Officer"}),o.jsxs("nav",{className:"hidden md:flex gap-2",children:[o.jsx(pr,{to:"/knowledge-base",className:Al,children:"Knowledge Base"}),i?o.jsxs(o.Fragment,{children:[o.jsx(pr,{to:"/dashboard",className:Al,children:"Dashboard"}),o.jsx(pr,{to:"/jobs",className:Al,children:"Jobs"}),o.jsx(pr,{to:"/applications",className:Al,children:"Applications"})]}):o.jsxs(o.Fragment,{children:[o.jsx("span",{"data-tour":"locked-navigation",className:_d(),title:"Complete onboarding to unlock",children:"Dashboard"}),o.jsx("span",{className:_d(),title:"Complete onboarding to unlock",children:"Jobs"}),o.jsx("span",{className:_d(),title:"Complete onboarding to unlock",children:"Applications"})]})]}),o.jsx("div",{className:"hidden md:flex items-center gap-3",children:o.jsx($L,{})}),o.jsxs("button",{type:"button",onClick:()=>s(!r),className:"md:hidden inline-flex items-center justify-center rounded-md p-2 text-slate-600 hover:bg-slate-100 hover:text-slate-900 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-brand-500","aria-expanded":r,children:[o.jsx("span",{className:"sr-only",children:"Open main menu"}),r?o.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})}):o.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"})})]})]}),r&&o.jsx("div",{className:"md:hidden border-t border-slate-200",children:o.jsxs("div",{className:"space-y-1 px-4 pb-3 pt-2",children:[o.jsx(pr,{to:"/knowledge-base",className:({isActive:a})=>`block px-3 py-2 rounded-md text-base font-medium ${a?"bg-brand-100 text-brand-800":"text-slate-600 hover:bg-slate-100 hover:text-slate-900"}`,onClick:()=>s(!1),children:"Knowledge Base"}),i?o.jsxs(o.Fragment,{children:[o.jsx(pr,{to:"/dashboard",className:({isActive:a})=>`block px-3 py-2 rounded-md text-base font-medium ${a?"bg-brand-100 text-brand-800":"text-slate-600 hover:bg-slate-100 hover:text-slate-900"}`,onClick:()=>s(!1),children:"Dashboard"}),o.jsx(pr,{to:"/jobs",className:({isActive:a})=>`block px-3 py-2 rounded-md text-base font-medium ${a?"bg-brand-100 text-brand-800":"text-slate-600 hover:bg-slate-100 hover:text-slate-900"}`,onClick:()=>s(!1),children:"Jobs"}),o.jsx(pr,{to:"/applications",className:({isActive:a})=>`block px-3 py-2 rounded-md text-base font-medium ${a?"bg-brand-100 text-brand-800":"text-slate-600 hover:bg-slate-100 hover:text-slate-900"}`,onClick:()=>s(!1),children:"Applications"})]}):o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"block px-3 py-2 rounded-md text-base font-medium text-slate-300 cursor-not-allowed",children:"Dashboard"}),o.jsx("span",{className:"block px-3 py-2 rounded-md text-base font-medium text-slate-300 cursor-not-allowed",children:"Jobs"}),o.jsx("span",{className:"block px-3 py-2 rounded-md text-base font-medium text-slate-300 cursor-not-allowed",children:"Applications"})]}),o.jsx("div",{className:"pt-4 mt-3 border-t border-slate-200",children:o.jsx(WL,{})})]})})]}),o.jsx("main",{className:"flex-1 bg-slate-50",children:o.jsxs(dS,{children:[o.jsx(On,{path:"/login",element:o.jsx(I3,{})}),o.jsx(On,{path:"/terms",element:o.jsx(O3,{})}),o.jsx(On,{path:"/privacy",element:o.jsx(R3,{})}),o.jsx(On,{path:"/",element:o.jsx(A3,{})}),o.jsx(On,{path:"/knowledge-base",element:o.jsx(ga,{children:o.jsx(TA,{})})}),o.jsx(On,{path:"/dashboard",element:o.jsx(ga,{children:o.jsx(kA,{})})}),o.jsx(On,{path:"/jobs",element:o.jsx(ga,{children:o.jsx(CA,{})})}),o.jsx(On,{path:"/jobs/:id",element:o.jsx(ga,{children:o.jsx(FL,{})})}),o.jsx(On,{path:"/applications",element:o.jsx(ga,{children:o.jsx(UL,{})})})]})}),e&&o.jsx("footer",{className:"border-t bg-white",children:o.jsxs("div",{className:"mx-auto max-w-6xl px-6 py-4 text-sm text-slate-500",children:[" ",new Date().getFullYear()," CTO  Your Personal Chief Talent Officer."]})})]})]})}const qL=new ow({defaultOptions:{queries:{refetchOnWindowFocus:!1,staleTime:60*1e3}}});Td.createRoot(document.getElementById("root")).render(o.jsx(bf.StrictMode,{children:o.jsx(uw,{client:qL,children:o.jsx(bS,{children:o.jsx(VL,{})})})}));

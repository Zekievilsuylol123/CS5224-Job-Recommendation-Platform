var Ad=t=>{throw TypeError(t)};var Jo=(t,e,r)=>e.has(t)||Ad("Cannot "+r);var _=(t,e,r)=>(Jo(t,e,"read from private field"),r?r.call(t):e.get(t)),F=(t,e,r)=>e.has(t)?Ad("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),A=(t,e,r,n)=>(Jo(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),q=(t,e,r)=>(Jo(t,e,"access private method"),r);var Ji=(t,e,r,n)=>({set _(s){A(t,e,s,r)},get _(){return _(t,e,n)}});function sp(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();function ip(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function uv(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var s=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return t[n]}})}),r}var ap={exports:{}},wo={},op={exports:{}},H={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bi=Symbol.for("react.element"),cv=Symbol.for("react.portal"),dv=Symbol.for("react.fragment"),hv=Symbol.for("react.strict_mode"),fv=Symbol.for("react.profiler"),pv=Symbol.for("react.provider"),mv=Symbol.for("react.context"),gv=Symbol.for("react.forward_ref"),vv=Symbol.for("react.suspense"),yv=Symbol.for("react.memo"),xv=Symbol.for("react.lazy"),Id=Symbol.iterator;function wv(t){return t===null||typeof t!="object"?null:(t=Id&&t[Id]||t["@@iterator"],typeof t=="function"?t:null)}var lp={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},up=Object.assign,cp={};function Ss(t,e,r){this.props=t,this.context=e,this.refs=cp,this.updater=r||lp}Ss.prototype.isReactComponent={};Ss.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ss.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function dp(){}dp.prototype=Ss.prototype;function hc(t,e,r){this.props=t,this.context=e,this.refs=cp,this.updater=r||lp}var fc=hc.prototype=new dp;fc.constructor=hc;up(fc,Ss.prototype);fc.isPureReactComponent=!0;var Ld=Array.isArray,hp=Object.prototype.hasOwnProperty,pc={current:null},fp={key:!0,ref:!0,__self:!0,__source:!0};function pp(t,e,r){var n,s={},i=null,a=null;if(e!=null)for(n in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(i=""+e.key),e)hp.call(e,n)&&!fp.hasOwnProperty(n)&&(s[n]=e[n]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];s.children=u}if(t&&t.defaultProps)for(n in l=t.defaultProps,l)s[n]===void 0&&(s[n]=l[n]);return{$$typeof:Bi,type:t,key:i,ref:a,props:s,_owner:pc.current}}function bv(t,e){return{$$typeof:Bi,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function mc(t){return typeof t=="object"&&t!==null&&t.$$typeof===Bi}function _v(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var $d=/\/+/g;function Yo(t,e){return typeof t=="object"&&t!==null&&t.key!=null?_v(""+t.key):e.toString(36)}function Ea(t,e,r,n,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case Bi:case cv:a=!0}}if(a)return a=t,s=s(a),t=n===""?"."+Yo(a,0):n,Ld(s)?(r="",t!=null&&(r=t.replace($d,"$&/")+"/"),Ea(s,e,r,"",function(c){return c})):s!=null&&(mc(s)&&(s=bv(s,r+(!s.key||a&&a.key===s.key?"":(""+s.key).replace($d,"$&/")+"/")+t)),e.push(s)),1;if(a=0,n=n===""?".":n+":",Ld(t))for(var l=0;l<t.length;l++){i=t[l];var u=n+Yo(i,l);a+=Ea(i,e,r,u,s)}else if(u=wv(t),typeof u=="function")for(t=u.call(t),l=0;!(i=t.next()).done;)i=i.value,u=n+Yo(i,l++),a+=Ea(i,e,r,u,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function Yi(t,e,r){if(t==null)return t;var n=[],s=0;return Ea(t,n,"","",function(i){return e.call(r,i,s++)}),n}function jv(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var We={current:null},Ca={transition:null},Sv={ReactCurrentDispatcher:We,ReactCurrentBatchConfig:Ca,ReactCurrentOwner:pc};function mp(){throw Error("act(...) is not supported in production builds of React.")}H.Children={map:Yi,forEach:function(t,e,r){Yi(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return Yi(t,function(){e++}),e},toArray:function(t){return Yi(t,function(e){return e})||[]},only:function(t){if(!mc(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};H.Component=Ss;H.Fragment=dv;H.Profiler=fv;H.PureComponent=hc;H.StrictMode=hv;H.Suspense=vv;H.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Sv;H.act=mp;H.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=up({},t.props),s=t.key,i=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,a=pc.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(u in e)hp.call(e,u)&&!fp.hasOwnProperty(u)&&(n[u]=e[u]===void 0&&l!==void 0?l[u]:e[u])}var u=arguments.length-2;if(u===1)n.children=r;else if(1<u){l=Array(u);for(var c=0;c<u;c++)l[c]=arguments[c+2];n.children=l}return{$$typeof:Bi,type:t.type,key:s,ref:i,props:n,_owner:a}};H.createContext=function(t){return t={$$typeof:mv,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:pv,_context:t},t.Consumer=t};H.createElement=pp;H.createFactory=function(t){var e=pp.bind(null,t);return e.type=t,e};H.createRef=function(){return{current:null}};H.forwardRef=function(t){return{$$typeof:gv,render:t}};H.isValidElement=mc;H.lazy=function(t){return{$$typeof:xv,_payload:{_status:-1,_result:t},_init:jv}};H.memo=function(t,e){return{$$typeof:yv,type:t,compare:e===void 0?null:e}};H.startTransition=function(t){var e=Ca.transition;Ca.transition={};try{t()}finally{Ca.transition=e}};H.unstable_act=mp;H.useCallback=function(t,e){return We.current.useCallback(t,e)};H.useContext=function(t){return We.current.useContext(t)};H.useDebugValue=function(){};H.useDeferredValue=function(t){return We.current.useDeferredValue(t)};H.useEffect=function(t,e){return We.current.useEffect(t,e)};H.useId=function(){return We.current.useId()};H.useImperativeHandle=function(t,e,r){return We.current.useImperativeHandle(t,e,r)};H.useInsertionEffect=function(t,e){return We.current.useInsertionEffect(t,e)};H.useLayoutEffect=function(t,e){return We.current.useLayoutEffect(t,e)};H.useMemo=function(t,e){return We.current.useMemo(t,e)};H.useReducer=function(t,e,r){return We.current.useReducer(t,e,r)};H.useRef=function(t){return We.current.useRef(t)};H.useState=function(t){return We.current.useState(t)};H.useSyncExternalStore=function(t,e,r){return We.current.useSyncExternalStore(t,e,r)};H.useTransition=function(){return We.current.useTransition()};H.version="18.3.1";op.exports=H;var j=op.exports;const gc=ip(j),kv=sp({__proto__:null,default:gc},[j]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nv=j,Ev=Symbol.for("react.element"),Cv=Symbol.for("react.fragment"),Pv=Object.prototype.hasOwnProperty,Ov=Nv.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Tv={key:!0,ref:!0,__self:!0,__source:!0};function gp(t,e,r){var n,s={},i=null,a=null;r!==void 0&&(i=""+r),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(a=e.ref);for(n in e)Pv.call(e,n)&&!Tv.hasOwnProperty(n)&&(s[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)s[n]===void 0&&(s[n]=e[n]);return{$$typeof:Ev,type:t,key:i,ref:a,props:s,_owner:Ov.current}}wo.Fragment=Cv;wo.jsx=gp;wo.jsxs=gp;ap.exports=wo;var o=ap.exports,Fl={},vp={exports:{}},at={},yp={exports:{}},xp={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(k,I){var B=k.length;k.push(I);e:for(;0<B;){var W=B-1>>>1,Q=k[W];if(0<s(Q,I))k[W]=I,k[B]=Q,B=W;else break e}}function r(k){return k.length===0?null:k[0]}function n(k){if(k.length===0)return null;var I=k[0],B=k.pop();if(B!==I){k[0]=B;e:for(var W=0,Q=k.length,ke=Q>>>1;W<ke;){var De=2*(W+1)-1,lt=k[De],Ze=De+1,Vt=k[Ze];if(0>s(lt,B))Ze<Q&&0>s(Vt,lt)?(k[W]=Vt,k[Ze]=B,W=Ze):(k[W]=lt,k[De]=B,W=De);else if(Ze<Q&&0>s(Vt,B))k[W]=Vt,k[Ze]=B,W=Ze;else break e}}return I}function s(k,I){var B=k.sortIndex-I.sortIndex;return B!==0?B:k.id-I.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var u=[],c=[],d=1,h=null,m=3,f=!1,x=!1,y=!1,w=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(k){for(var I=r(c);I!==null;){if(I.callback===null)n(c);else if(I.startTime<=k)n(c),I.sortIndex=I.expirationTime,e(u,I);else break;I=r(c)}}function b(k){if(y=!1,v(k),!x)if(r(u)!==null)x=!0,$e(N);else{var I=r(c);I!==null&&vt(b,I.startTime-k)}}function N(k,I){x=!1,y&&(y=!1,p(C),C=-1),f=!0;var B=m;try{for(v(I),h=r(u);h!==null&&(!(h.expirationTime>I)||k&&!V());){var W=h.callback;if(typeof W=="function"){h.callback=null,m=h.priorityLevel;var Q=W(h.expirationTime<=I);I=t.unstable_now(),typeof Q=="function"?h.callback=Q:h===r(u)&&n(u),v(I)}else n(u);h=r(u)}if(h!==null)var ke=!0;else{var De=r(c);De!==null&&vt(b,De.startTime-I),ke=!1}return ke}finally{h=null,m=B,f=!1}}var E=!1,P=null,C=-1,U=5,S=-1;function V(){return!(t.unstable_now()-S<U)}function re(){if(P!==null){var k=t.unstable_now();S=k;var I=!0;try{I=P(!0,k)}finally{I?me():(E=!1,P=null)}}else E=!1}var me;if(typeof g=="function")me=function(){g(re)};else if(typeof MessageChannel<"u"){var Rt=new MessageChannel,At=Rt.port2;Rt.port1.onmessage=re,me=function(){At.postMessage(null)}}else me=function(){w(re,0)};function $e(k){P=k,E||(E=!0,me())}function vt(k,I){C=w(function(){k(t.unstable_now())},I)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(k){k.callback=null},t.unstable_continueExecution=function(){x||f||(x=!0,$e(N))},t.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<k?Math.floor(1e3/k):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return r(u)},t.unstable_next=function(k){switch(m){case 1:case 2:case 3:var I=3;break;default:I=m}var B=m;m=I;try{return k()}finally{m=B}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(k,I){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var B=m;m=k;try{return I()}finally{m=B}},t.unstable_scheduleCallback=function(k,I,B){var W=t.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?W+B:W):B=W,k){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=B+Q,k={id:d++,callback:I,priorityLevel:k,startTime:B,expirationTime:Q,sortIndex:-1},B>W?(k.sortIndex=B,e(c,k),r(u)===null&&k===r(c)&&(y?(p(C),C=-1):y=!0,vt(b,B-W))):(k.sortIndex=Q,e(u,k),x||f||(x=!0,$e(N))),k},t.unstable_shouldYield=V,t.unstable_wrapCallback=function(k){var I=m;return function(){var B=m;m=I;try{return k.apply(this,arguments)}finally{m=B}}}})(xp);yp.exports=xp;var Rv=yp.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Av=j,it=Rv;function R(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var wp=new Set,ci={};function jn(t,e){ps(t,e),ps(t+"Capture",e)}function ps(t,e){for(ci[t]=e,t=0;t<e.length;t++)wp.add(e[t])}var tr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Bl=Object.prototype.hasOwnProperty,Iv=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Dd={},Ud={};function Lv(t){return Bl.call(Ud,t)?!0:Bl.call(Dd,t)?!1:Iv.test(t)?Ud[t]=!0:(Dd[t]=!0,!1)}function $v(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Dv(t,e,r,n){if(e===null||typeof e>"u"||$v(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ve(t,e,r,n,s,i,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=a}var Oe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Oe[t]=new Ve(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Oe[e]=new Ve(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Oe[t]=new Ve(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Oe[t]=new Ve(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Oe[t]=new Ve(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Oe[t]=new Ve(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Oe[t]=new Ve(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Oe[t]=new Ve(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Oe[t]=new Ve(t,5,!1,t.toLowerCase(),null,!1,!1)});var vc=/[\-:]([a-z])/g;function yc(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(vc,yc);Oe[e]=new Ve(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(vc,yc);Oe[e]=new Ve(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(vc,yc);Oe[e]=new Ve(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Oe[t]=new Ve(t,1,!1,t.toLowerCase(),null,!1,!1)});Oe.xlinkHref=new Ve("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Oe[t]=new Ve(t,1,!1,t.toLowerCase(),null,!0,!0)});function xc(t,e,r,n){var s=Oe.hasOwnProperty(e)?Oe[e]:null;(s!==null?s.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Dv(e,r,s,n)&&(r=null),n||s===null?Lv(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):s.mustUseProperty?t[s.propertyName]=r===null?s.type===3?!1:"":r:(e=s.attributeName,n=s.attributeNamespace,r===null?t.removeAttribute(e):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var ir=Av.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Xi=Symbol.for("react.element"),Dn=Symbol.for("react.portal"),Un=Symbol.for("react.fragment"),wc=Symbol.for("react.strict_mode"),zl=Symbol.for("react.profiler"),bp=Symbol.for("react.provider"),_p=Symbol.for("react.context"),bc=Symbol.for("react.forward_ref"),Wl=Symbol.for("react.suspense"),Vl=Symbol.for("react.suspense_list"),_c=Symbol.for("react.memo"),fr=Symbol.for("react.lazy"),jp=Symbol.for("react.offscreen"),Md=Symbol.iterator;function Is(t){return t===null||typeof t!="object"?null:(t=Md&&t[Md]||t["@@iterator"],typeof t=="function"?t:null)}var ce=Object.assign,Xo;function Hs(t){if(Xo===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);Xo=e&&e[1]||""}return`
`+Xo+t}var Zo=!1;function el(t,e){if(!t||Zo)return"";Zo=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var n=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){n=c}t.call(e.prototype)}else{try{throw Error()}catch(c){n=c}t()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=n.stack.split(`
`),a=s.length-1,l=i.length-1;1<=a&&0<=l&&s[a]!==i[l];)l--;for(;1<=a&&0<=l;a--,l--)if(s[a]!==i[l]){if(a!==1||l!==1)do if(a--,l--,0>l||s[a]!==i[l]){var u=`
`+s[a].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=a&&0<=l);break}}}finally{Zo=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?Hs(t):""}function Uv(t){switch(t.tag){case 5:return Hs(t.type);case 16:return Hs("Lazy");case 13:return Hs("Suspense");case 19:return Hs("SuspenseList");case 0:case 2:case 15:return t=el(t.type,!1),t;case 11:return t=el(t.type.render,!1),t;case 1:return t=el(t.type,!0),t;default:return""}}function Hl(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Un:return"Fragment";case Dn:return"Portal";case zl:return"Profiler";case wc:return"StrictMode";case Wl:return"Suspense";case Vl:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case _p:return(t.displayName||"Context")+".Consumer";case bp:return(t._context.displayName||"Context")+".Provider";case bc:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case _c:return e=t.displayName||null,e!==null?e:Hl(t.type)||"Memo";case fr:e=t._payload,t=t._init;try{return Hl(t(e))}catch{}}return null}function Mv(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Hl(e);case 8:return e===wc?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Mr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Sp(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Fv(t){var e=Sp(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(a){n=""+a,i.call(this,a)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Zi(t){t._valueTracker||(t._valueTracker=Fv(t))}function kp(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=Sp(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function Fa(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function ql(t,e){var r=e.checked;return ce({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function Fd(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=Mr(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Np(t,e){e=e.checked,e!=null&&xc(t,"checked",e,!1)}function Kl(t,e){Np(t,e);var r=Mr(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Gl(t,e.type,r):e.hasOwnProperty("defaultValue")&&Gl(t,e.type,Mr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Bd(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function Gl(t,e,r){(e!=="number"||Fa(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var qs=Array.isArray;function Qn(t,e,r,n){if(t=t.options,e){e={};for(var s=0;s<r.length;s++)e["$"+r[s]]=!0;for(r=0;r<t.length;r++)s=e.hasOwnProperty("$"+t[r].value),t[r].selected!==s&&(t[r].selected=s),s&&n&&(t[r].defaultSelected=!0)}else{for(r=""+Mr(r),e=null,s=0;s<t.length;s++){if(t[s].value===r){t[s].selected=!0,n&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Ql(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(R(91));return ce({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function zd(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(R(92));if(qs(r)){if(1<r.length)throw Error(R(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:Mr(r)}}function Ep(t,e){var r=Mr(e.value),n=Mr(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function Wd(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Cp(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Jl(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Cp(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ea,Pp=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,s){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(ea=ea||document.createElement("div"),ea.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ea.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function di(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var Xs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Bv=["Webkit","ms","Moz","O"];Object.keys(Xs).forEach(function(t){Bv.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Xs[e]=Xs[t]})});function Op(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||Xs.hasOwnProperty(t)&&Xs[t]?(""+e).trim():e+"px"}function Tp(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=Op(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,s):t[r]=s}}var zv=ce({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Yl(t,e){if(e){if(zv[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(R(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(R(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(R(61))}if(e.style!=null&&typeof e.style!="object")throw Error(R(62))}}function Xl(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Zl=null;function jc(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var eu=null,Jn=null,Yn=null;function Vd(t){if(t=Vi(t)){if(typeof eu!="function")throw Error(R(280));var e=t.stateNode;e&&(e=ko(e),eu(t.stateNode,t.type,e))}}function Rp(t){Jn?Yn?Yn.push(t):Yn=[t]:Jn=t}function Ap(){if(Jn){var t=Jn,e=Yn;if(Yn=Jn=null,Vd(t),e)for(t=0;t<e.length;t++)Vd(e[t])}}function Ip(t,e){return t(e)}function Lp(){}var tl=!1;function $p(t,e,r){if(tl)return t(e,r);tl=!0;try{return Ip(t,e,r)}finally{tl=!1,(Jn!==null||Yn!==null)&&(Lp(),Ap())}}function hi(t,e){var r=t.stateNode;if(r===null)return null;var n=ko(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(R(231,e,typeof r));return r}var tu=!1;if(tr)try{var Ls={};Object.defineProperty(Ls,"passive",{get:function(){tu=!0}}),window.addEventListener("test",Ls,Ls),window.removeEventListener("test",Ls,Ls)}catch{tu=!1}function Wv(t,e,r,n,s,i,a,l,u){var c=Array.prototype.slice.call(arguments,3);try{e.apply(r,c)}catch(d){this.onError(d)}}var Zs=!1,Ba=null,za=!1,ru=null,Vv={onError:function(t){Zs=!0,Ba=t}};function Hv(t,e,r,n,s,i,a,l,u){Zs=!1,Ba=null,Wv.apply(Vv,arguments)}function qv(t,e,r,n,s,i,a,l,u){if(Hv.apply(this,arguments),Zs){if(Zs){var c=Ba;Zs=!1,Ba=null}else throw Error(R(198));za||(za=!0,ru=c)}}function Sn(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function Dp(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Hd(t){if(Sn(t)!==t)throw Error(R(188))}function Kv(t){var e=t.alternate;if(!e){if(e=Sn(t),e===null)throw Error(R(188));return e!==t?null:t}for(var r=t,n=e;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return Hd(s),t;if(i===n)return Hd(s),e;i=i.sibling}throw Error(R(188))}if(r.return!==n.return)r=s,n=i;else{for(var a=!1,l=s.child;l;){if(l===r){a=!0,r=s,n=i;break}if(l===n){a=!0,n=s,r=i;break}l=l.sibling}if(!a){for(l=i.child;l;){if(l===r){a=!0,r=i,n=s;break}if(l===n){a=!0,n=i,r=s;break}l=l.sibling}if(!a)throw Error(R(189))}}if(r.alternate!==n)throw Error(R(190))}if(r.tag!==3)throw Error(R(188));return r.stateNode.current===r?t:e}function Up(t){return t=Kv(t),t!==null?Mp(t):null}function Mp(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Mp(t);if(e!==null)return e;t=t.sibling}return null}var Fp=it.unstable_scheduleCallback,qd=it.unstable_cancelCallback,Gv=it.unstable_shouldYield,Qv=it.unstable_requestPaint,pe=it.unstable_now,Jv=it.unstable_getCurrentPriorityLevel,Sc=it.unstable_ImmediatePriority,Bp=it.unstable_UserBlockingPriority,Wa=it.unstable_NormalPriority,Yv=it.unstable_LowPriority,zp=it.unstable_IdlePriority,bo=null,Bt=null;function Xv(t){if(Bt&&typeof Bt.onCommitFiberRoot=="function")try{Bt.onCommitFiberRoot(bo,t,void 0,(t.current.flags&128)===128)}catch{}}var Pt=Math.clz32?Math.clz32:ty,Zv=Math.log,ey=Math.LN2;function ty(t){return t>>>=0,t===0?32:31-(Zv(t)/ey|0)|0}var ta=64,ra=4194304;function Ks(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Va(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,s=t.suspendedLanes,i=t.pingedLanes,a=r&268435455;if(a!==0){var l=a&~s;l!==0?n=Ks(l):(i&=a,i!==0&&(n=Ks(i)))}else a=r&~s,a!==0?n=Ks(a):i!==0&&(n=Ks(i));if(n===0)return 0;if(e!==0&&e!==n&&!(e&s)&&(s=n&-n,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-Pt(e),s=1<<r,n|=t[r],e&=~s;return n}function ry(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ny(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var a=31-Pt(i),l=1<<a,u=s[a];u===-1?(!(l&r)||l&n)&&(s[a]=ry(l,e)):u<=e&&(t.expiredLanes|=l),i&=~l}}function nu(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Wp(){var t=ta;return ta<<=1,!(ta&4194240)&&(ta=64),t}function rl(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function zi(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Pt(e),t[e]=r}function sy(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var s=31-Pt(r),i=1<<s;e[s]=0,n[s]=-1,t[s]=-1,r&=~i}}function kc(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-Pt(r),s=1<<n;s&e|t[n]&e&&(t[n]|=e),r&=~s}}var Y=0;function Vp(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Hp,Nc,qp,Kp,Gp,su=!1,na=[],Pr=null,Or=null,Tr=null,fi=new Map,pi=new Map,mr=[],iy="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Kd(t,e){switch(t){case"focusin":case"focusout":Pr=null;break;case"dragenter":case"dragleave":Or=null;break;case"mouseover":case"mouseout":Tr=null;break;case"pointerover":case"pointerout":fi.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":pi.delete(e.pointerId)}}function $s(t,e,r,n,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Vi(e),e!==null&&Nc(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function ay(t,e,r,n,s){switch(e){case"focusin":return Pr=$s(Pr,t,e,r,n,s),!0;case"dragenter":return Or=$s(Or,t,e,r,n,s),!0;case"mouseover":return Tr=$s(Tr,t,e,r,n,s),!0;case"pointerover":var i=s.pointerId;return fi.set(i,$s(fi.get(i)||null,t,e,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,pi.set(i,$s(pi.get(i)||null,t,e,r,n,s)),!0}return!1}function Qp(t){var e=en(t.target);if(e!==null){var r=Sn(e);if(r!==null){if(e=r.tag,e===13){if(e=Dp(r),e!==null){t.blockedOn=e,Gp(t.priority,function(){qp(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Pa(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=iu(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);Zl=n,r.target.dispatchEvent(n),Zl=null}else return e=Vi(r),e!==null&&Nc(e),t.blockedOn=r,!1;e.shift()}return!0}function Gd(t,e,r){Pa(t)&&r.delete(e)}function oy(){su=!1,Pr!==null&&Pa(Pr)&&(Pr=null),Or!==null&&Pa(Or)&&(Or=null),Tr!==null&&Pa(Tr)&&(Tr=null),fi.forEach(Gd),pi.forEach(Gd)}function Ds(t,e){t.blockedOn===e&&(t.blockedOn=null,su||(su=!0,it.unstable_scheduleCallback(it.unstable_NormalPriority,oy)))}function mi(t){function e(s){return Ds(s,t)}if(0<na.length){Ds(na[0],t);for(var r=1;r<na.length;r++){var n=na[r];n.blockedOn===t&&(n.blockedOn=null)}}for(Pr!==null&&Ds(Pr,t),Or!==null&&Ds(Or,t),Tr!==null&&Ds(Tr,t),fi.forEach(e),pi.forEach(e),r=0;r<mr.length;r++)n=mr[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<mr.length&&(r=mr[0],r.blockedOn===null);)Qp(r),r.blockedOn===null&&mr.shift()}var Xn=ir.ReactCurrentBatchConfig,Ha=!0;function ly(t,e,r,n){var s=Y,i=Xn.transition;Xn.transition=null;try{Y=1,Ec(t,e,r,n)}finally{Y=s,Xn.transition=i}}function uy(t,e,r,n){var s=Y,i=Xn.transition;Xn.transition=null;try{Y=4,Ec(t,e,r,n)}finally{Y=s,Xn.transition=i}}function Ec(t,e,r,n){if(Ha){var s=iu(t,e,r,n);if(s===null)hl(t,e,n,qa,r),Kd(t,n);else if(ay(s,t,e,r,n))n.stopPropagation();else if(Kd(t,n),e&4&&-1<iy.indexOf(t)){for(;s!==null;){var i=Vi(s);if(i!==null&&Hp(i),i=iu(t,e,r,n),i===null&&hl(t,e,n,qa,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else hl(t,e,n,null,r)}}var qa=null;function iu(t,e,r,n){if(qa=null,t=jc(n),t=en(t),t!==null)if(e=Sn(t),e===null)t=null;else if(r=e.tag,r===13){if(t=Dp(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return qa=t,null}function Jp(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Jv()){case Sc:return 1;case Bp:return 4;case Wa:case Yv:return 16;case zp:return 536870912;default:return 16}default:return 16}}var Nr=null,Cc=null,Oa=null;function Yp(){if(Oa)return Oa;var t,e=Cc,r=e.length,n,s="value"in Nr?Nr.value:Nr.textContent,i=s.length;for(t=0;t<r&&e[t]===s[t];t++);var a=r-t;for(n=1;n<=a&&e[r-n]===s[i-n];n++);return Oa=s.slice(t,1<n?1-n:void 0)}function Ta(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function sa(){return!0}function Qd(){return!1}function ot(t){function e(r,n,s,i,a){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(r=t[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?sa:Qd,this.isPropagationStopped=Qd,this}return ce(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=sa)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=sa)},persist:function(){},isPersistent:sa}),e}var ks={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Pc=ot(ks),Wi=ce({},ks,{view:0,detail:0}),cy=ot(Wi),nl,sl,Us,_o=ce({},Wi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Oc,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Us&&(Us&&t.type==="mousemove"?(nl=t.screenX-Us.screenX,sl=t.screenY-Us.screenY):sl=nl=0,Us=t),nl)},movementY:function(t){return"movementY"in t?t.movementY:sl}}),Jd=ot(_o),dy=ce({},_o,{dataTransfer:0}),hy=ot(dy),fy=ce({},Wi,{relatedTarget:0}),il=ot(fy),py=ce({},ks,{animationName:0,elapsedTime:0,pseudoElement:0}),my=ot(py),gy=ce({},ks,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),vy=ot(gy),yy=ce({},ks,{data:0}),Yd=ot(yy),xy={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wy={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},by={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _y(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=by[t])?!!e[t]:!1}function Oc(){return _y}var jy=ce({},Wi,{key:function(t){if(t.key){var e=xy[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Ta(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?wy[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Oc,charCode:function(t){return t.type==="keypress"?Ta(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ta(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Sy=ot(jy),ky=ce({},_o,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Xd=ot(ky),Ny=ce({},Wi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Oc}),Ey=ot(Ny),Cy=ce({},ks,{propertyName:0,elapsedTime:0,pseudoElement:0}),Py=ot(Cy),Oy=ce({},_o,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Ty=ot(Oy),Ry=[9,13,27,32],Tc=tr&&"CompositionEvent"in window,ei=null;tr&&"documentMode"in document&&(ei=document.documentMode);var Ay=tr&&"TextEvent"in window&&!ei,Xp=tr&&(!Tc||ei&&8<ei&&11>=ei),Zd=" ",eh=!1;function Zp(t,e){switch(t){case"keyup":return Ry.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function em(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Mn=!1;function Iy(t,e){switch(t){case"compositionend":return em(e);case"keypress":return e.which!==32?null:(eh=!0,Zd);case"textInput":return t=e.data,t===Zd&&eh?null:t;default:return null}}function Ly(t,e){if(Mn)return t==="compositionend"||!Tc&&Zp(t,e)?(t=Yp(),Oa=Cc=Nr=null,Mn=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Xp&&e.locale!=="ko"?null:e.data;default:return null}}var $y={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function th(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!$y[t.type]:e==="textarea"}function tm(t,e,r,n){Rp(n),e=Ka(e,"onChange"),0<e.length&&(r=new Pc("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var ti=null,gi=null;function Dy(t){hm(t,0)}function jo(t){var e=zn(t);if(kp(e))return t}function Uy(t,e){if(t==="change")return e}var rm=!1;if(tr){var al;if(tr){var ol="oninput"in document;if(!ol){var rh=document.createElement("div");rh.setAttribute("oninput","return;"),ol=typeof rh.oninput=="function"}al=ol}else al=!1;rm=al&&(!document.documentMode||9<document.documentMode)}function nh(){ti&&(ti.detachEvent("onpropertychange",nm),gi=ti=null)}function nm(t){if(t.propertyName==="value"&&jo(gi)){var e=[];tm(e,gi,t,jc(t)),$p(Dy,e)}}function My(t,e,r){t==="focusin"?(nh(),ti=e,gi=r,ti.attachEvent("onpropertychange",nm)):t==="focusout"&&nh()}function Fy(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return jo(gi)}function By(t,e){if(t==="click")return jo(e)}function zy(t,e){if(t==="input"||t==="change")return jo(e)}function Wy(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Tt=typeof Object.is=="function"?Object.is:Wy;function vi(t,e){if(Tt(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!Bl.call(e,s)||!Tt(t[s],e[s]))return!1}return!0}function sh(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ih(t,e){var r=sh(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=sh(r)}}function sm(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?sm(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function im(){for(var t=window,e=Fa();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=Fa(t.document)}return e}function Rc(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Vy(t){var e=im(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&sm(r.ownerDocument.documentElement,r)){if(n!==null&&Rc(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!t.extend&&i>n&&(s=n,n=i,i=s),s=ih(r,i);var a=ih(r,n);s&&a&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>n?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Hy=tr&&"documentMode"in document&&11>=document.documentMode,Fn=null,au=null,ri=null,ou=!1;function ah(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;ou||Fn==null||Fn!==Fa(n)||(n=Fn,"selectionStart"in n&&Rc(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),ri&&vi(ri,n)||(ri=n,n=Ka(au,"onSelect"),0<n.length&&(e=new Pc("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=Fn)))}function ia(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Bn={animationend:ia("Animation","AnimationEnd"),animationiteration:ia("Animation","AnimationIteration"),animationstart:ia("Animation","AnimationStart"),transitionend:ia("Transition","TransitionEnd")},ll={},am={};tr&&(am=document.createElement("div").style,"AnimationEvent"in window||(delete Bn.animationend.animation,delete Bn.animationiteration.animation,delete Bn.animationstart.animation),"TransitionEvent"in window||delete Bn.transitionend.transition);function So(t){if(ll[t])return ll[t];if(!Bn[t])return t;var e=Bn[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in am)return ll[t]=e[r];return t}var om=So("animationend"),lm=So("animationiteration"),um=So("animationstart"),cm=So("transitionend"),dm=new Map,oh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Br(t,e){dm.set(t,e),jn(e,[t])}for(var ul=0;ul<oh.length;ul++){var cl=oh[ul],qy=cl.toLowerCase(),Ky=cl[0].toUpperCase()+cl.slice(1);Br(qy,"on"+Ky)}Br(om,"onAnimationEnd");Br(lm,"onAnimationIteration");Br(um,"onAnimationStart");Br("dblclick","onDoubleClick");Br("focusin","onFocus");Br("focusout","onBlur");Br(cm,"onTransitionEnd");ps("onMouseEnter",["mouseout","mouseover"]);ps("onMouseLeave",["mouseout","mouseover"]);ps("onPointerEnter",["pointerout","pointerover"]);ps("onPointerLeave",["pointerout","pointerover"]);jn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));jn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));jn("onBeforeInput",["compositionend","keypress","textInput","paste"]);jn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));jn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));jn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Gs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Gy=new Set("cancel close invalid load scroll toggle".split(" ").concat(Gs));function lh(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,qv(n,e,void 0,t),t.currentTarget=null}function hm(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],s=n.event;n=n.listeners;e:{var i=void 0;if(e)for(var a=n.length-1;0<=a;a--){var l=n[a],u=l.instance,c=l.currentTarget;if(l=l.listener,u!==i&&s.isPropagationStopped())break e;lh(s,l,c),i=u}else for(a=0;a<n.length;a++){if(l=n[a],u=l.instance,c=l.currentTarget,l=l.listener,u!==i&&s.isPropagationStopped())break e;lh(s,l,c),i=u}}}if(za)throw t=ru,za=!1,ru=null,t}function ne(t,e){var r=e[hu];r===void 0&&(r=e[hu]=new Set);var n=t+"__bubble";r.has(n)||(fm(e,t,2,!1),r.add(n))}function dl(t,e,r){var n=0;e&&(n|=4),fm(r,t,n,e)}var aa="_reactListening"+Math.random().toString(36).slice(2);function yi(t){if(!t[aa]){t[aa]=!0,wp.forEach(function(r){r!=="selectionchange"&&(Gy.has(r)||dl(r,!1,t),dl(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[aa]||(e[aa]=!0,dl("selectionchange",!1,e))}}function fm(t,e,r,n){switch(Jp(e)){case 1:var s=ly;break;case 4:s=uy;break;default:s=Ec}r=s.bind(null,e,r,t),s=void 0,!tu||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),n?s!==void 0?t.addEventListener(e,r,{capture:!0,passive:s}):t.addEventListener(e,r,!0):s!==void 0?t.addEventListener(e,r,{passive:s}):t.addEventListener(e,r,!1)}function hl(t,e,r,n,s){var i=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var l=n.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(a===4)for(a=n.return;a!==null;){var u=a.tag;if((u===3||u===4)&&(u=a.stateNode.containerInfo,u===s||u.nodeType===8&&u.parentNode===s))return;a=a.return}for(;l!==null;){if(a=en(l),a===null)return;if(u=a.tag,u===5||u===6){n=i=a;continue e}l=l.parentNode}}n=n.return}$p(function(){var c=i,d=jc(r),h=[];e:{var m=dm.get(t);if(m!==void 0){var f=Pc,x=t;switch(t){case"keypress":if(Ta(r)===0)break e;case"keydown":case"keyup":f=Sy;break;case"focusin":x="focus",f=il;break;case"focusout":x="blur",f=il;break;case"beforeblur":case"afterblur":f=il;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=Jd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=hy;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=Ey;break;case om:case lm:case um:f=my;break;case cm:f=Py;break;case"scroll":f=cy;break;case"wheel":f=Ty;break;case"copy":case"cut":case"paste":f=vy;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=Xd}var y=(e&4)!==0,w=!y&&t==="scroll",p=y?m!==null?m+"Capture":null:m;y=[];for(var g=c,v;g!==null;){v=g;var b=v.stateNode;if(v.tag===5&&b!==null&&(v=b,p!==null&&(b=hi(g,p),b!=null&&y.push(xi(g,b,v)))),w)break;g=g.return}0<y.length&&(m=new f(m,x,null,r,d),h.push({event:m,listeners:y}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",f=t==="mouseout"||t==="pointerout",m&&r!==Zl&&(x=r.relatedTarget||r.fromElement)&&(en(x)||x[rr]))break e;if((f||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,f?(x=r.relatedTarget||r.toElement,f=c,x=x?en(x):null,x!==null&&(w=Sn(x),x!==w||x.tag!==5&&x.tag!==6)&&(x=null)):(f=null,x=c),f!==x)){if(y=Jd,b="onMouseLeave",p="onMouseEnter",g="mouse",(t==="pointerout"||t==="pointerover")&&(y=Xd,b="onPointerLeave",p="onPointerEnter",g="pointer"),w=f==null?m:zn(f),v=x==null?m:zn(x),m=new y(b,g+"leave",f,r,d),m.target=w,m.relatedTarget=v,b=null,en(d)===c&&(y=new y(p,g+"enter",x,r,d),y.target=v,y.relatedTarget=w,b=y),w=b,f&&x)t:{for(y=f,p=x,g=0,v=y;v;v=Pn(v))g++;for(v=0,b=p;b;b=Pn(b))v++;for(;0<g-v;)y=Pn(y),g--;for(;0<v-g;)p=Pn(p),v--;for(;g--;){if(y===p||p!==null&&y===p.alternate)break t;y=Pn(y),p=Pn(p)}y=null}else y=null;f!==null&&uh(h,m,f,y,!1),x!==null&&w!==null&&uh(h,w,x,y,!0)}}e:{if(m=c?zn(c):window,f=m.nodeName&&m.nodeName.toLowerCase(),f==="select"||f==="input"&&m.type==="file")var N=Uy;else if(th(m))if(rm)N=zy;else{N=Fy;var E=My}else(f=m.nodeName)&&f.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(N=By);if(N&&(N=N(t,c))){tm(h,N,r,d);break e}E&&E(t,m,c),t==="focusout"&&(E=m._wrapperState)&&E.controlled&&m.type==="number"&&Gl(m,"number",m.value)}switch(E=c?zn(c):window,t){case"focusin":(th(E)||E.contentEditable==="true")&&(Fn=E,au=c,ri=null);break;case"focusout":ri=au=Fn=null;break;case"mousedown":ou=!0;break;case"contextmenu":case"mouseup":case"dragend":ou=!1,ah(h,r,d);break;case"selectionchange":if(Hy)break;case"keydown":case"keyup":ah(h,r,d)}var P;if(Tc)e:{switch(t){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else Mn?Zp(t,r)&&(C="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(C="onCompositionStart");C&&(Xp&&r.locale!=="ko"&&(Mn||C!=="onCompositionStart"?C==="onCompositionEnd"&&Mn&&(P=Yp()):(Nr=d,Cc="value"in Nr?Nr.value:Nr.textContent,Mn=!0)),E=Ka(c,C),0<E.length&&(C=new Yd(C,t,null,r,d),h.push({event:C,listeners:E}),P?C.data=P:(P=em(r),P!==null&&(C.data=P)))),(P=Ay?Iy(t,r):Ly(t,r))&&(c=Ka(c,"onBeforeInput"),0<c.length&&(d=new Yd("onBeforeInput","beforeinput",null,r,d),h.push({event:d,listeners:c}),d.data=P))}hm(h,e)})}function xi(t,e,r){return{instance:t,listener:e,currentTarget:r}}function Ka(t,e){for(var r=e+"Capture",n=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=hi(t,r),i!=null&&n.unshift(xi(t,i,s)),i=hi(t,e),i!=null&&n.push(xi(t,i,s))),t=t.return}return n}function Pn(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function uh(t,e,r,n,s){for(var i=e._reactName,a=[];r!==null&&r!==n;){var l=r,u=l.alternate,c=l.stateNode;if(u!==null&&u===n)break;l.tag===5&&c!==null&&(l=c,s?(u=hi(r,i),u!=null&&a.unshift(xi(r,u,l))):s||(u=hi(r,i),u!=null&&a.push(xi(r,u,l)))),r=r.return}a.length!==0&&t.push({event:e,listeners:a})}var Qy=/\r\n?/g,Jy=/\u0000|\uFFFD/g;function ch(t){return(typeof t=="string"?t:""+t).replace(Qy,`
`).replace(Jy,"")}function oa(t,e,r){if(e=ch(e),ch(t)!==e&&r)throw Error(R(425))}function Ga(){}var lu=null,uu=null;function cu(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var du=typeof setTimeout=="function"?setTimeout:void 0,Yy=typeof clearTimeout=="function"?clearTimeout:void 0,dh=typeof Promise=="function"?Promise:void 0,Xy=typeof queueMicrotask=="function"?queueMicrotask:typeof dh<"u"?function(t){return dh.resolve(null).then(t).catch(Zy)}:du;function Zy(t){setTimeout(function(){throw t})}function fl(t,e){var r=e,n=0;do{var s=r.nextSibling;if(t.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){t.removeChild(s),mi(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);mi(e)}function Rr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function hh(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var Ns=Math.random().toString(36).slice(2),Ft="__reactFiber$"+Ns,wi="__reactProps$"+Ns,rr="__reactContainer$"+Ns,hu="__reactEvents$"+Ns,ex="__reactListeners$"+Ns,tx="__reactHandles$"+Ns;function en(t){var e=t[Ft];if(e)return e;for(var r=t.parentNode;r;){if(e=r[rr]||r[Ft]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=hh(t);t!==null;){if(r=t[Ft])return r;t=hh(t)}return e}t=r,r=t.parentNode}return null}function Vi(t){return t=t[Ft]||t[rr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function zn(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(R(33))}function ko(t){return t[wi]||null}var fu=[],Wn=-1;function zr(t){return{current:t}}function se(t){0>Wn||(t.current=fu[Wn],fu[Wn]=null,Wn--)}function te(t,e){Wn++,fu[Wn]=t.current,t.current=e}var Fr={},Le=zr(Fr),Je=zr(!1),vn=Fr;function ms(t,e){var r=t.type.contextTypes;if(!r)return Fr;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=e[i];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Ye(t){return t=t.childContextTypes,t!=null}function Qa(){se(Je),se(Le)}function fh(t,e,r){if(Le.current!==Fr)throw Error(R(168));te(Le,e),te(Je,r)}function pm(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in e))throw Error(R(108,Mv(t)||"Unknown",s));return ce({},r,n)}function Ja(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Fr,vn=Le.current,te(Le,t),te(Je,Je.current),!0}function ph(t,e,r){var n=t.stateNode;if(!n)throw Error(R(169));r?(t=pm(t,e,vn),n.__reactInternalMemoizedMergedChildContext=t,se(Je),se(Le),te(Le,t)):se(Je),te(Je,r)}var Gt=null,No=!1,pl=!1;function mm(t){Gt===null?Gt=[t]:Gt.push(t)}function rx(t){No=!0,mm(t)}function Wr(){if(!pl&&Gt!==null){pl=!0;var t=0,e=Y;try{var r=Gt;for(Y=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}Gt=null,No=!1}catch(s){throw Gt!==null&&(Gt=Gt.slice(t+1)),Fp(Sc,Wr),s}finally{Y=e,pl=!1}}return null}var Vn=[],Hn=0,Ya=null,Xa=0,dt=[],ht=0,yn=null,Yt=1,Xt="";function Qr(t,e){Vn[Hn++]=Xa,Vn[Hn++]=Ya,Ya=t,Xa=e}function gm(t,e,r){dt[ht++]=Yt,dt[ht++]=Xt,dt[ht++]=yn,yn=t;var n=Yt;t=Xt;var s=32-Pt(n)-1;n&=~(1<<s),r+=1;var i=32-Pt(e)+s;if(30<i){var a=s-s%5;i=(n&(1<<a)-1).toString(32),n>>=a,s-=a,Yt=1<<32-Pt(e)+s|r<<s|n,Xt=i+t}else Yt=1<<i|r<<s|n,Xt=t}function Ac(t){t.return!==null&&(Qr(t,1),gm(t,1,0))}function Ic(t){for(;t===Ya;)Ya=Vn[--Hn],Vn[Hn]=null,Xa=Vn[--Hn],Vn[Hn]=null;for(;t===yn;)yn=dt[--ht],dt[ht]=null,Xt=dt[--ht],dt[ht]=null,Yt=dt[--ht],dt[ht]=null}var st=null,nt=null,ie=!1,Ct=null;function vm(t,e){var r=ft(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function mh(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,st=t,nt=Rr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,st=t,nt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=yn!==null?{id:Yt,overflow:Xt}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=ft(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,st=t,nt=null,!0):!1;default:return!1}}function pu(t){return(t.mode&1)!==0&&(t.flags&128)===0}function mu(t){if(ie){var e=nt;if(e){var r=e;if(!mh(t,e)){if(pu(t))throw Error(R(418));e=Rr(r.nextSibling);var n=st;e&&mh(t,e)?vm(n,r):(t.flags=t.flags&-4097|2,ie=!1,st=t)}}else{if(pu(t))throw Error(R(418));t.flags=t.flags&-4097|2,ie=!1,st=t}}}function gh(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;st=t}function la(t){if(t!==st)return!1;if(!ie)return gh(t),ie=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!cu(t.type,t.memoizedProps)),e&&(e=nt)){if(pu(t))throw ym(),Error(R(418));for(;e;)vm(t,e),e=Rr(e.nextSibling)}if(gh(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(R(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){nt=Rr(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}nt=null}}else nt=st?Rr(t.stateNode.nextSibling):null;return!0}function ym(){for(var t=nt;t;)t=Rr(t.nextSibling)}function gs(){nt=st=null,ie=!1}function Lc(t){Ct===null?Ct=[t]:Ct.push(t)}var nx=ir.ReactCurrentBatchConfig;function Ms(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(R(309));var n=r.stateNode}if(!n)throw Error(R(147,t));var s=n,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(a){var l=s.refs;a===null?delete l[i]:l[i]=a},e._stringRef=i,e)}if(typeof t!="string")throw Error(R(284));if(!r._owner)throw Error(R(290,t))}return t}function ua(t,e){throw t=Object.prototype.toString.call(e),Error(R(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function vh(t){var e=t._init;return e(t._payload)}function xm(t){function e(p,g){if(t){var v=p.deletions;v===null?(p.deletions=[g],p.flags|=16):v.push(g)}}function r(p,g){if(!t)return null;for(;g!==null;)e(p,g),g=g.sibling;return null}function n(p,g){for(p=new Map;g!==null;)g.key!==null?p.set(g.key,g):p.set(g.index,g),g=g.sibling;return p}function s(p,g){return p=$r(p,g),p.index=0,p.sibling=null,p}function i(p,g,v){return p.index=v,t?(v=p.alternate,v!==null?(v=v.index,v<g?(p.flags|=2,g):v):(p.flags|=2,g)):(p.flags|=1048576,g)}function a(p){return t&&p.alternate===null&&(p.flags|=2),p}function l(p,g,v,b){return g===null||g.tag!==6?(g=bl(v,p.mode,b),g.return=p,g):(g=s(g,v),g.return=p,g)}function u(p,g,v,b){var N=v.type;return N===Un?d(p,g,v.props.children,b,v.key):g!==null&&(g.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===fr&&vh(N)===g.type)?(b=s(g,v.props),b.ref=Ms(p,g,v),b.return=p,b):(b=Ua(v.type,v.key,v.props,null,p.mode,b),b.ref=Ms(p,g,v),b.return=p,b)}function c(p,g,v,b){return g===null||g.tag!==4||g.stateNode.containerInfo!==v.containerInfo||g.stateNode.implementation!==v.implementation?(g=_l(v,p.mode,b),g.return=p,g):(g=s(g,v.children||[]),g.return=p,g)}function d(p,g,v,b,N){return g===null||g.tag!==7?(g=gn(v,p.mode,b,N),g.return=p,g):(g=s(g,v),g.return=p,g)}function h(p,g,v){if(typeof g=="string"&&g!==""||typeof g=="number")return g=bl(""+g,p.mode,v),g.return=p,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Xi:return v=Ua(g.type,g.key,g.props,null,p.mode,v),v.ref=Ms(p,null,g),v.return=p,v;case Dn:return g=_l(g,p.mode,v),g.return=p,g;case fr:var b=g._init;return h(p,b(g._payload),v)}if(qs(g)||Is(g))return g=gn(g,p.mode,v,null),g.return=p,g;ua(p,g)}return null}function m(p,g,v,b){var N=g!==null?g.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return N!==null?null:l(p,g,""+v,b);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Xi:return v.key===N?u(p,g,v,b):null;case Dn:return v.key===N?c(p,g,v,b):null;case fr:return N=v._init,m(p,g,N(v._payload),b)}if(qs(v)||Is(v))return N!==null?null:d(p,g,v,b,null);ua(p,v)}return null}function f(p,g,v,b,N){if(typeof b=="string"&&b!==""||typeof b=="number")return p=p.get(v)||null,l(g,p,""+b,N);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Xi:return p=p.get(b.key===null?v:b.key)||null,u(g,p,b,N);case Dn:return p=p.get(b.key===null?v:b.key)||null,c(g,p,b,N);case fr:var E=b._init;return f(p,g,v,E(b._payload),N)}if(qs(b)||Is(b))return p=p.get(v)||null,d(g,p,b,N,null);ua(g,b)}return null}function x(p,g,v,b){for(var N=null,E=null,P=g,C=g=0,U=null;P!==null&&C<v.length;C++){P.index>C?(U=P,P=null):U=P.sibling;var S=m(p,P,v[C],b);if(S===null){P===null&&(P=U);break}t&&P&&S.alternate===null&&e(p,P),g=i(S,g,C),E===null?N=S:E.sibling=S,E=S,P=U}if(C===v.length)return r(p,P),ie&&Qr(p,C),N;if(P===null){for(;C<v.length;C++)P=h(p,v[C],b),P!==null&&(g=i(P,g,C),E===null?N=P:E.sibling=P,E=P);return ie&&Qr(p,C),N}for(P=n(p,P);C<v.length;C++)U=f(P,p,C,v[C],b),U!==null&&(t&&U.alternate!==null&&P.delete(U.key===null?C:U.key),g=i(U,g,C),E===null?N=U:E.sibling=U,E=U);return t&&P.forEach(function(V){return e(p,V)}),ie&&Qr(p,C),N}function y(p,g,v,b){var N=Is(v);if(typeof N!="function")throw Error(R(150));if(v=N.call(v),v==null)throw Error(R(151));for(var E=N=null,P=g,C=g=0,U=null,S=v.next();P!==null&&!S.done;C++,S=v.next()){P.index>C?(U=P,P=null):U=P.sibling;var V=m(p,P,S.value,b);if(V===null){P===null&&(P=U);break}t&&P&&V.alternate===null&&e(p,P),g=i(V,g,C),E===null?N=V:E.sibling=V,E=V,P=U}if(S.done)return r(p,P),ie&&Qr(p,C),N;if(P===null){for(;!S.done;C++,S=v.next())S=h(p,S.value,b),S!==null&&(g=i(S,g,C),E===null?N=S:E.sibling=S,E=S);return ie&&Qr(p,C),N}for(P=n(p,P);!S.done;C++,S=v.next())S=f(P,p,C,S.value,b),S!==null&&(t&&S.alternate!==null&&P.delete(S.key===null?C:S.key),g=i(S,g,C),E===null?N=S:E.sibling=S,E=S);return t&&P.forEach(function(re){return e(p,re)}),ie&&Qr(p,C),N}function w(p,g,v,b){if(typeof v=="object"&&v!==null&&v.type===Un&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case Xi:e:{for(var N=v.key,E=g;E!==null;){if(E.key===N){if(N=v.type,N===Un){if(E.tag===7){r(p,E.sibling),g=s(E,v.props.children),g.return=p,p=g;break e}}else if(E.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===fr&&vh(N)===E.type){r(p,E.sibling),g=s(E,v.props),g.ref=Ms(p,E,v),g.return=p,p=g;break e}r(p,E);break}else e(p,E);E=E.sibling}v.type===Un?(g=gn(v.props.children,p.mode,b,v.key),g.return=p,p=g):(b=Ua(v.type,v.key,v.props,null,p.mode,b),b.ref=Ms(p,g,v),b.return=p,p=b)}return a(p);case Dn:e:{for(E=v.key;g!==null;){if(g.key===E)if(g.tag===4&&g.stateNode.containerInfo===v.containerInfo&&g.stateNode.implementation===v.implementation){r(p,g.sibling),g=s(g,v.children||[]),g.return=p,p=g;break e}else{r(p,g);break}else e(p,g);g=g.sibling}g=_l(v,p.mode,b),g.return=p,p=g}return a(p);case fr:return E=v._init,w(p,g,E(v._payload),b)}if(qs(v))return x(p,g,v,b);if(Is(v))return y(p,g,v,b);ua(p,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,g!==null&&g.tag===6?(r(p,g.sibling),g=s(g,v),g.return=p,p=g):(r(p,g),g=bl(v,p.mode,b),g.return=p,p=g),a(p)):r(p,g)}return w}var vs=xm(!0),wm=xm(!1),Za=zr(null),eo=null,qn=null,$c=null;function Dc(){$c=qn=eo=null}function Uc(t){var e=Za.current;se(Za),t._currentValue=e}function gu(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function Zn(t,e){eo=t,$c=qn=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Ge=!0),t.firstContext=null)}function mt(t){var e=t._currentValue;if($c!==t)if(t={context:t,memoizedValue:e,next:null},qn===null){if(eo===null)throw Error(R(308));qn=t,eo.dependencies={lanes:0,firstContext:t}}else qn=qn.next=t;return e}var tn=null;function Mc(t){tn===null?tn=[t]:tn.push(t)}function bm(t,e,r,n){var s=e.interleaved;return s===null?(r.next=r,Mc(e)):(r.next=s.next,s.next=r),e.interleaved=r,nr(t,n)}function nr(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var pr=!1;function Fc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function _m(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Zt(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ar(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,G&2){var s=n.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),n.pending=e,nr(t,r)}return s=n.interleaved,s===null?(e.next=e,Mc(n)):(e.next=s.next,s.next=e),n.interleaved=e,nr(t,r)}function Ra(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,kc(t,r)}}function yh(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=a:i=i.next=a,r=r.next}while(r!==null);i===null?s=i=e:i=i.next=e}else s=i=e;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function to(t,e,r,n){var s=t.updateQueue;pr=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var u=l,c=u.next;u.next=null,a===null?i=c:a.next=c,a=u;var d=t.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==a&&(l===null?d.firstBaseUpdate=c:l.next=c,d.lastBaseUpdate=u))}if(i!==null){var h=s.baseState;a=0,d=c=u=null,l=i;do{var m=l.lane,f=l.eventTime;if((n&m)===m){d!==null&&(d=d.next={eventTime:f,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var x=t,y=l;switch(m=e,f=r,y.tag){case 1:if(x=y.payload,typeof x=="function"){h=x.call(f,h,m);break e}h=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=y.payload,m=typeof x=="function"?x.call(f,h,m):x,m==null)break e;h=ce({},h,m);break e;case 2:pr=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,m=s.effects,m===null?s.effects=[l]:m.push(l))}else f={eventTime:f,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(c=d=f,u=h):d=d.next=f,a|=m;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;m=l,l=m.next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}while(!0);if(d===null&&(u=h),s.baseState=u,s.firstBaseUpdate=c,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do a|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);wn|=a,t.lanes=a,t.memoizedState=h}}function xh(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(R(191,s));s.call(n)}}}var Hi={},zt=zr(Hi),bi=zr(Hi),_i=zr(Hi);function rn(t){if(t===Hi)throw Error(R(174));return t}function Bc(t,e){switch(te(_i,e),te(bi,t),te(zt,Hi),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Jl(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Jl(e,t)}se(zt),te(zt,e)}function ys(){se(zt),se(bi),se(_i)}function jm(t){rn(_i.current);var e=rn(zt.current),r=Jl(e,t.type);e!==r&&(te(bi,t),te(zt,r))}function zc(t){bi.current===t&&(se(zt),se(bi))}var oe=zr(0);function ro(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var ml=[];function Wc(){for(var t=0;t<ml.length;t++)ml[t]._workInProgressVersionPrimary=null;ml.length=0}var Aa=ir.ReactCurrentDispatcher,gl=ir.ReactCurrentBatchConfig,xn=0,le=null,xe=null,_e=null,no=!1,ni=!1,ji=0,sx=0;function Te(){throw Error(R(321))}function Vc(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!Tt(t[r],e[r]))return!1;return!0}function Hc(t,e,r,n,s,i){if(xn=i,le=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Aa.current=t===null||t.memoizedState===null?lx:ux,t=r(n,s),ni){i=0;do{if(ni=!1,ji=0,25<=i)throw Error(R(301));i+=1,_e=xe=null,e.updateQueue=null,Aa.current=cx,t=r(n,s)}while(ni)}if(Aa.current=so,e=xe!==null&&xe.next!==null,xn=0,_e=xe=le=null,no=!1,e)throw Error(R(300));return t}function qc(){var t=ji!==0;return ji=0,t}function $t(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _e===null?le.memoizedState=_e=t:_e=_e.next=t,_e}function gt(){if(xe===null){var t=le.alternate;t=t!==null?t.memoizedState:null}else t=xe.next;var e=_e===null?le.memoizedState:_e.next;if(e!==null)_e=e,xe=t;else{if(t===null)throw Error(R(310));xe=t,t={memoizedState:xe.memoizedState,baseState:xe.baseState,baseQueue:xe.baseQueue,queue:xe.queue,next:null},_e===null?le.memoizedState=_e=t:_e=_e.next=t}return _e}function Si(t,e){return typeof e=="function"?e(t):e}function vl(t){var e=gt(),r=e.queue;if(r===null)throw Error(R(311));r.lastRenderedReducer=t;var n=xe,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var a=s.next;s.next=i.next,i.next=a}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var l=a=null,u=null,c=i;do{var d=c.lane;if((xn&d)===d)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:t(n,c.action);else{var h={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(l=u=h,a=n):u=u.next=h,le.lanes|=d,wn|=d}c=c.next}while(c!==null&&c!==i);u===null?a=n:u.next=l,Tt(n,e.memoizedState)||(Ge=!0),e.memoizedState=n,e.baseState=a,e.baseQueue=u,r.lastRenderedState=n}if(t=r.interleaved,t!==null){s=t;do i=s.lane,le.lanes|=i,wn|=i,s=s.next;while(s!==t)}else s===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function yl(t){var e=gt(),r=e.queue;if(r===null)throw Error(R(311));r.lastRenderedReducer=t;var n=r.dispatch,s=r.pending,i=e.memoizedState;if(s!==null){r.pending=null;var a=s=s.next;do i=t(i,a.action),a=a.next;while(a!==s);Tt(i,e.memoizedState)||(Ge=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),r.lastRenderedState=i}return[i,n]}function Sm(){}function km(t,e){var r=le,n=gt(),s=e(),i=!Tt(n.memoizedState,s);if(i&&(n.memoizedState=s,Ge=!0),n=n.queue,Kc(Cm.bind(null,r,n,t),[t]),n.getSnapshot!==e||i||_e!==null&&_e.memoizedState.tag&1){if(r.flags|=2048,ki(9,Em.bind(null,r,n,s,e),void 0,null),je===null)throw Error(R(349));xn&30||Nm(r,e,s)}return s}function Nm(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=le.updateQueue,e===null?(e={lastEffect:null,stores:null},le.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function Em(t,e,r,n){e.value=r,e.getSnapshot=n,Pm(e)&&Om(t)}function Cm(t,e,r){return r(function(){Pm(e)&&Om(t)})}function Pm(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!Tt(t,r)}catch{return!0}}function Om(t){var e=nr(t,1);e!==null&&Ot(e,t,1,-1)}function wh(t){var e=$t();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Si,lastRenderedState:t},e.queue=t,t=t.dispatch=ox.bind(null,le,t),[e.memoizedState,t]}function ki(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=le.updateQueue,e===null?(e={lastEffect:null,stores:null},le.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function Tm(){return gt().memoizedState}function Ia(t,e,r,n){var s=$t();le.flags|=t,s.memoizedState=ki(1|e,r,void 0,n===void 0?null:n)}function Eo(t,e,r,n){var s=gt();n=n===void 0?null:n;var i=void 0;if(xe!==null){var a=xe.memoizedState;if(i=a.destroy,n!==null&&Vc(n,a.deps)){s.memoizedState=ki(e,r,i,n);return}}le.flags|=t,s.memoizedState=ki(1|e,r,i,n)}function bh(t,e){return Ia(8390656,8,t,e)}function Kc(t,e){return Eo(2048,8,t,e)}function Rm(t,e){return Eo(4,2,t,e)}function Am(t,e){return Eo(4,4,t,e)}function Im(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Lm(t,e,r){return r=r!=null?r.concat([t]):null,Eo(4,4,Im.bind(null,e,t),r)}function Gc(){}function $m(t,e){var r=gt();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Vc(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function Dm(t,e){var r=gt();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Vc(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function Um(t,e,r){return xn&21?(Tt(r,e)||(r=Wp(),le.lanes|=r,wn|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Ge=!0),t.memoizedState=r)}function ix(t,e){var r=Y;Y=r!==0&&4>r?r:4,t(!0);var n=gl.transition;gl.transition={};try{t(!1),e()}finally{Y=r,gl.transition=n}}function Mm(){return gt().memoizedState}function ax(t,e,r){var n=Lr(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Fm(t))Bm(e,r);else if(r=bm(t,e,r,n),r!==null){var s=ze();Ot(r,t,n,s),zm(r,e,n)}}function ox(t,e,r){var n=Lr(t),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Fm(t))Bm(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var a=e.lastRenderedState,l=i(a,r);if(s.hasEagerState=!0,s.eagerState=l,Tt(l,a)){var u=e.interleaved;u===null?(s.next=s,Mc(e)):(s.next=u.next,u.next=s),e.interleaved=s;return}}catch{}finally{}r=bm(t,e,s,n),r!==null&&(s=ze(),Ot(r,t,n,s),zm(r,e,n))}}function Fm(t){var e=t.alternate;return t===le||e!==null&&e===le}function Bm(t,e){ni=no=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function zm(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,kc(t,r)}}var so={readContext:mt,useCallback:Te,useContext:Te,useEffect:Te,useImperativeHandle:Te,useInsertionEffect:Te,useLayoutEffect:Te,useMemo:Te,useReducer:Te,useRef:Te,useState:Te,useDebugValue:Te,useDeferredValue:Te,useTransition:Te,useMutableSource:Te,useSyncExternalStore:Te,useId:Te,unstable_isNewReconciler:!1},lx={readContext:mt,useCallback:function(t,e){return $t().memoizedState=[t,e===void 0?null:e],t},useContext:mt,useEffect:bh,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,Ia(4194308,4,Im.bind(null,e,t),r)},useLayoutEffect:function(t,e){return Ia(4194308,4,t,e)},useInsertionEffect:function(t,e){return Ia(4,2,t,e)},useMemo:function(t,e){var r=$t();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=$t();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=ax.bind(null,le,t),[n.memoizedState,t]},useRef:function(t){var e=$t();return t={current:t},e.memoizedState=t},useState:wh,useDebugValue:Gc,useDeferredValue:function(t){return $t().memoizedState=t},useTransition:function(){var t=wh(!1),e=t[0];return t=ix.bind(null,t[1]),$t().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=le,s=$t();if(ie){if(r===void 0)throw Error(R(407));r=r()}else{if(r=e(),je===null)throw Error(R(349));xn&30||Nm(n,e,r)}s.memoizedState=r;var i={value:r,getSnapshot:e};return s.queue=i,bh(Cm.bind(null,n,i,t),[t]),n.flags|=2048,ki(9,Em.bind(null,n,i,r,e),void 0,null),r},useId:function(){var t=$t(),e=je.identifierPrefix;if(ie){var r=Xt,n=Yt;r=(n&~(1<<32-Pt(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=ji++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=sx++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},ux={readContext:mt,useCallback:$m,useContext:mt,useEffect:Kc,useImperativeHandle:Lm,useInsertionEffect:Rm,useLayoutEffect:Am,useMemo:Dm,useReducer:vl,useRef:Tm,useState:function(){return vl(Si)},useDebugValue:Gc,useDeferredValue:function(t){var e=gt();return Um(e,xe.memoizedState,t)},useTransition:function(){var t=vl(Si)[0],e=gt().memoizedState;return[t,e]},useMutableSource:Sm,useSyncExternalStore:km,useId:Mm,unstable_isNewReconciler:!1},cx={readContext:mt,useCallback:$m,useContext:mt,useEffect:Kc,useImperativeHandle:Lm,useInsertionEffect:Rm,useLayoutEffect:Am,useMemo:Dm,useReducer:yl,useRef:Tm,useState:function(){return yl(Si)},useDebugValue:Gc,useDeferredValue:function(t){var e=gt();return xe===null?e.memoizedState=t:Um(e,xe.memoizedState,t)},useTransition:function(){var t=yl(Si)[0],e=gt().memoizedState;return[t,e]},useMutableSource:Sm,useSyncExternalStore:km,useId:Mm,unstable_isNewReconciler:!1};function _t(t,e){if(t&&t.defaultProps){e=ce({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function vu(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:ce({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Co={isMounted:function(t){return(t=t._reactInternals)?Sn(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=ze(),s=Lr(t),i=Zt(n,s);i.payload=e,r!=null&&(i.callback=r),e=Ar(t,i,s),e!==null&&(Ot(e,t,s,n),Ra(e,t,s))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=ze(),s=Lr(t),i=Zt(n,s);i.tag=1,i.payload=e,r!=null&&(i.callback=r),e=Ar(t,i,s),e!==null&&(Ot(e,t,s,n),Ra(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=ze(),n=Lr(t),s=Zt(r,n);s.tag=2,e!=null&&(s.callback=e),e=Ar(t,s,n),e!==null&&(Ot(e,t,n,r),Ra(e,t,n))}};function _h(t,e,r,n,s,i,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,i,a):e.prototype&&e.prototype.isPureReactComponent?!vi(r,n)||!vi(s,i):!0}function Wm(t,e,r){var n=!1,s=Fr,i=e.contextType;return typeof i=="object"&&i!==null?i=mt(i):(s=Ye(e)?vn:Le.current,n=e.contextTypes,i=(n=n!=null)?ms(t,s):Fr),e=new e(r,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Co,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function jh(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&Co.enqueueReplaceState(e,e.state,null)}function yu(t,e,r,n){var s=t.stateNode;s.props=r,s.state=t.memoizedState,s.refs={},Fc(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=mt(i):(i=Ye(e)?vn:Le.current,s.context=ms(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(vu(t,e,i,r),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Co.enqueueReplaceState(s,s.state,null),to(t,r,s,n),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function xs(t,e){try{var r="",n=e;do r+=Uv(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function xl(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function xu(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var dx=typeof WeakMap=="function"?WeakMap:Map;function Vm(t,e,r){r=Zt(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){ao||(ao=!0,Pu=n),xu(t,e)},r}function Hm(t,e,r){r=Zt(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var s=e.value;r.payload=function(){return n(s)},r.callback=function(){xu(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){xu(t,e),typeof n!="function"&&(Ir===null?Ir=new Set([this]):Ir.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),r}function Sh(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new dx;var s=new Set;n.set(e,s)}else s=n.get(e),s===void 0&&(s=new Set,n.set(e,s));s.has(r)||(s.add(r),t=kx.bind(null,t,e,r),e.then(t,t))}function kh(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Nh(t,e,r,n,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=Zt(-1,1),e.tag=2,Ar(r,e,1))),r.lanes|=1),t)}var hx=ir.ReactCurrentOwner,Ge=!1;function Fe(t,e,r,n){e.child=t===null?wm(e,null,r,n):vs(e,t.child,r,n)}function Eh(t,e,r,n,s){r=r.render;var i=e.ref;return Zn(e,s),n=Hc(t,e,r,n,i,s),r=qc(),t!==null&&!Ge?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,sr(t,e,s)):(ie&&r&&Ac(e),e.flags|=1,Fe(t,e,n,s),e.child)}function Ch(t,e,r,n,s){if(t===null){var i=r.type;return typeof i=="function"&&!rd(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=i,qm(t,e,i,n,s)):(t=Ua(r.type,null,n,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var a=i.memoizedProps;if(r=r.compare,r=r!==null?r:vi,r(a,n)&&t.ref===e.ref)return sr(t,e,s)}return e.flags|=1,t=$r(i,n),t.ref=e.ref,t.return=e,e.child=t}function qm(t,e,r,n,s){if(t!==null){var i=t.memoizedProps;if(vi(i,n)&&t.ref===e.ref)if(Ge=!1,e.pendingProps=n=i,(t.lanes&s)!==0)t.flags&131072&&(Ge=!0);else return e.lanes=t.lanes,sr(t,e,s)}return wu(t,e,r,n,s)}function Km(t,e,r){var n=e.pendingProps,s=n.children,i=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},te(Gn,et),et|=r;else{if(!(r&1073741824))return t=i!==null?i.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,te(Gn,et),et|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,te(Gn,et),et|=n}else i!==null?(n=i.baseLanes|r,e.memoizedState=null):n=r,te(Gn,et),et|=n;return Fe(t,e,s,r),e.child}function Gm(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function wu(t,e,r,n,s){var i=Ye(r)?vn:Le.current;return i=ms(e,i),Zn(e,s),r=Hc(t,e,r,n,i,s),n=qc(),t!==null&&!Ge?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,sr(t,e,s)):(ie&&n&&Ac(e),e.flags|=1,Fe(t,e,r,s),e.child)}function Ph(t,e,r,n,s){if(Ye(r)){var i=!0;Ja(e)}else i=!1;if(Zn(e,s),e.stateNode===null)La(t,e),Wm(e,r,n),yu(e,r,n,s),n=!0;else if(t===null){var a=e.stateNode,l=e.memoizedProps;a.props=l;var u=a.context,c=r.contextType;typeof c=="object"&&c!==null?c=mt(c):(c=Ye(r)?vn:Le.current,c=ms(e,c));var d=r.getDerivedStateFromProps,h=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";h||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==n||u!==c)&&jh(e,a,n,c),pr=!1;var m=e.memoizedState;a.state=m,to(e,n,a,s),u=e.memoizedState,l!==n||m!==u||Je.current||pr?(typeof d=="function"&&(vu(e,r,d,n),u=e.memoizedState),(l=pr||_h(e,r,l,n,m,u,c))?(h||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=u),a.props=n,a.state=u,a.context=c,n=l):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{a=e.stateNode,_m(t,e),l=e.memoizedProps,c=e.type===e.elementType?l:_t(e.type,l),a.props=c,h=e.pendingProps,m=a.context,u=r.contextType,typeof u=="object"&&u!==null?u=mt(u):(u=Ye(r)?vn:Le.current,u=ms(e,u));var f=r.getDerivedStateFromProps;(d=typeof f=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==h||m!==u)&&jh(e,a,n,u),pr=!1,m=e.memoizedState,a.state=m,to(e,n,a,s);var x=e.memoizedState;l!==h||m!==x||Je.current||pr?(typeof f=="function"&&(vu(e,r,f,n),x=e.memoizedState),(c=pr||_h(e,r,c,n,m,x,u)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,x,u),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,x,u)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=x),a.props=n,a.state=x,a.context=u,n=c):(typeof a.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),n=!1)}return bu(t,e,r,n,i,s)}function bu(t,e,r,n,s,i){Gm(t,e);var a=(e.flags&128)!==0;if(!n&&!a)return s&&ph(e,r,!1),sr(t,e,i);n=e.stateNode,hx.current=e;var l=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&a?(e.child=vs(e,t.child,null,i),e.child=vs(e,null,l,i)):Fe(t,e,l,i),e.memoizedState=n.state,s&&ph(e,r,!0),e.child}function Qm(t){var e=t.stateNode;e.pendingContext?fh(t,e.pendingContext,e.pendingContext!==e.context):e.context&&fh(t,e.context,!1),Bc(t,e.containerInfo)}function Oh(t,e,r,n,s){return gs(),Lc(s),e.flags|=256,Fe(t,e,r,n),e.child}var _u={dehydrated:null,treeContext:null,retryLane:0};function ju(t){return{baseLanes:t,cachePool:null,transitions:null}}function Jm(t,e,r){var n=e.pendingProps,s=oe.current,i=!1,a=(e.flags&128)!==0,l;if((l=a)||(l=t!==null&&t.memoizedState===null?!1:(s&2)!==0),l?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),te(oe,s&1),t===null)return mu(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=n.children,t=n.fallback,i?(n=e.mode,i=e.child,a={mode:"hidden",children:a},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=To(a,n,0,null),t=gn(t,n,r,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=ju(r),e.memoizedState=_u,t):Qc(e,a));if(s=t.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return fx(t,e,a,n,l,s,r);if(i){i=n.fallback,a=e.mode,s=t.child,l=s.sibling;var u={mode:"hidden",children:n.children};return!(a&1)&&e.child!==s?(n=e.child,n.childLanes=0,n.pendingProps=u,e.deletions=null):(n=$r(s,u),n.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=$r(l,i):(i=gn(i,a,r,null),i.flags|=2),i.return=e,n.return=e,n.sibling=i,e.child=n,n=i,i=e.child,a=t.child.memoizedState,a=a===null?ju(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=t.childLanes&~r,e.memoizedState=_u,n}return i=t.child,t=i.sibling,n=$r(i,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function Qc(t,e){return e=To({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function ca(t,e,r,n){return n!==null&&Lc(n),vs(e,t.child,null,r),t=Qc(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function fx(t,e,r,n,s,i,a){if(r)return e.flags&256?(e.flags&=-257,n=xl(Error(R(422))),ca(t,e,a,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=n.fallback,s=e.mode,n=To({mode:"visible",children:n.children},s,0,null),i=gn(i,s,a,null),i.flags|=2,n.return=e,i.return=e,n.sibling=i,e.child=n,e.mode&1&&vs(e,t.child,null,a),e.child.memoizedState=ju(a),e.memoizedState=_u,i);if(!(e.mode&1))return ca(t,e,a,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error(R(419)),n=xl(i,n,void 0),ca(t,e,a,n)}if(l=(a&t.childLanes)!==0,Ge||l){if(n=je,n!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|a)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,nr(t,s),Ot(n,t,s,-1))}return td(),n=xl(Error(R(421))),ca(t,e,a,n)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=Nx.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,nt=Rr(s.nextSibling),st=e,ie=!0,Ct=null,t!==null&&(dt[ht++]=Yt,dt[ht++]=Xt,dt[ht++]=yn,Yt=t.id,Xt=t.overflow,yn=e),e=Qc(e,n.children),e.flags|=4096,e)}function Th(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),gu(t.return,e,r)}function wl(t,e,r,n,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function Ym(t,e,r){var n=e.pendingProps,s=n.revealOrder,i=n.tail;if(Fe(t,e,n.children,r),n=oe.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Th(t,r,e);else if(t.tag===19)Th(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(te(oe,n),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(r=e.child,s=null;r!==null;)t=r.alternate,t!==null&&ro(t)===null&&(s=r),r=r.sibling;r=s,r===null?(s=e.child,e.child=null):(s=r.sibling,r.sibling=null),wl(e,!1,s,r,i);break;case"backwards":for(r=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&ro(t)===null){e.child=s;break}t=s.sibling,s.sibling=r,r=s,s=t}wl(e,!0,r,null,i);break;case"together":wl(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function La(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function sr(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),wn|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(R(153));if(e.child!==null){for(t=e.child,r=$r(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=$r(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function px(t,e,r){switch(e.tag){case 3:Qm(e),gs();break;case 5:jm(e);break;case 1:Ye(e.type)&&Ja(e);break;case 4:Bc(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,s=e.memoizedProps.value;te(Za,n._currentValue),n._currentValue=s;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(te(oe,oe.current&1),e.flags|=128,null):r&e.child.childLanes?Jm(t,e,r):(te(oe,oe.current&1),t=sr(t,e,r),t!==null?t.sibling:null);te(oe,oe.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return Ym(t,e,r);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),te(oe,oe.current),n)break;return null;case 22:case 23:return e.lanes=0,Km(t,e,r)}return sr(t,e,r)}var Xm,Su,Zm,e0;Xm=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Su=function(){};Zm=function(t,e,r,n){var s=t.memoizedProps;if(s!==n){t=e.stateNode,rn(zt.current);var i=null;switch(r){case"input":s=ql(t,s),n=ql(t,n),i=[];break;case"select":s=ce({},s,{value:void 0}),n=ce({},n,{value:void 0}),i=[];break;case"textarea":s=Ql(t,s),n=Ql(t,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=Ga)}Yl(r,n);var a;r=null;for(c in s)if(!n.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var l=s[c];for(a in l)l.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(ci.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in n){var u=n[c];if(l=s!=null?s[c]:void 0,n.hasOwnProperty(c)&&u!==l&&(u!=null||l!=null))if(c==="style")if(l){for(a in l)!l.hasOwnProperty(a)||u&&u.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in u)u.hasOwnProperty(a)&&l[a]!==u[a]&&(r||(r={}),r[a]=u[a])}else r||(i||(i=[]),i.push(c,r)),r=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,l=l?l.__html:void 0,u!=null&&l!==u&&(i=i||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(i=i||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(ci.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&ne("scroll",t),i||l===u||(i=[])):(i=i||[]).push(c,u))}r&&(i=i||[]).push("style",r);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};e0=function(t,e,r,n){r!==n&&(e.flags|=4)};function Fs(t,e){if(!ie)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function Re(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function mx(t,e,r){var n=e.pendingProps;switch(Ic(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Re(e),null;case 1:return Ye(e.type)&&Qa(),Re(e),null;case 3:return n=e.stateNode,ys(),se(Je),se(Le),Wc(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(la(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ct!==null&&(Ru(Ct),Ct=null))),Su(t,e),Re(e),null;case 5:zc(e);var s=rn(_i.current);if(r=e.type,t!==null&&e.stateNode!=null)Zm(t,e,r,n,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(R(166));return Re(e),null}if(t=rn(zt.current),la(e)){n=e.stateNode,r=e.type;var i=e.memoizedProps;switch(n[Ft]=e,n[wi]=i,t=(e.mode&1)!==0,r){case"dialog":ne("cancel",n),ne("close",n);break;case"iframe":case"object":case"embed":ne("load",n);break;case"video":case"audio":for(s=0;s<Gs.length;s++)ne(Gs[s],n);break;case"source":ne("error",n);break;case"img":case"image":case"link":ne("error",n),ne("load",n);break;case"details":ne("toggle",n);break;case"input":Fd(n,i),ne("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},ne("invalid",n);break;case"textarea":zd(n,i),ne("invalid",n)}Yl(r,i),s=null;for(var a in i)if(i.hasOwnProperty(a)){var l=i[a];a==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&oa(n.textContent,l,t),s=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&oa(n.textContent,l,t),s=["children",""+l]):ci.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&ne("scroll",n)}switch(r){case"input":Zi(n),Bd(n,i,!0);break;case"textarea":Zi(n),Wd(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=Ga)}n=s,e.updateQueue=n,n!==null&&(e.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Cp(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=a.createElement(r,{is:n.is}):(t=a.createElement(r),r==="select"&&(a=t,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):t=a.createElementNS(t,r),t[Ft]=e,t[wi]=n,Xm(t,e,!1,!1),e.stateNode=t;e:{switch(a=Xl(r,n),r){case"dialog":ne("cancel",t),ne("close",t),s=n;break;case"iframe":case"object":case"embed":ne("load",t),s=n;break;case"video":case"audio":for(s=0;s<Gs.length;s++)ne(Gs[s],t);s=n;break;case"source":ne("error",t),s=n;break;case"img":case"image":case"link":ne("error",t),ne("load",t),s=n;break;case"details":ne("toggle",t),s=n;break;case"input":Fd(t,n),s=ql(t,n),ne("invalid",t);break;case"option":s=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},s=ce({},n,{value:void 0}),ne("invalid",t);break;case"textarea":zd(t,n),s=Ql(t,n),ne("invalid",t);break;default:s=n}Yl(r,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var u=l[i];i==="style"?Tp(t,u):i==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&Pp(t,u)):i==="children"?typeof u=="string"?(r!=="textarea"||u!=="")&&di(t,u):typeof u=="number"&&di(t,""+u):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(ci.hasOwnProperty(i)?u!=null&&i==="onScroll"&&ne("scroll",t):u!=null&&xc(t,i,u,a))}switch(r){case"input":Zi(t),Bd(t,n,!1);break;case"textarea":Zi(t),Wd(t);break;case"option":n.value!=null&&t.setAttribute("value",""+Mr(n.value));break;case"select":t.multiple=!!n.multiple,i=n.value,i!=null?Qn(t,!!n.multiple,i,!1):n.defaultValue!=null&&Qn(t,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Ga)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Re(e),null;case 6:if(t&&e.stateNode!=null)e0(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(R(166));if(r=rn(_i.current),rn(zt.current),la(e)){if(n=e.stateNode,r=e.memoizedProps,n[Ft]=e,(i=n.nodeValue!==r)&&(t=st,t!==null))switch(t.tag){case 3:oa(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&oa(n.nodeValue,r,(t.mode&1)!==0)}i&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Ft]=e,e.stateNode=n}return Re(e),null;case 13:if(se(oe),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ie&&nt!==null&&e.mode&1&&!(e.flags&128))ym(),gs(),e.flags|=98560,i=!1;else if(i=la(e),n!==null&&n.dehydrated!==null){if(t===null){if(!i)throw Error(R(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(R(317));i[Ft]=e}else gs(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Re(e),i=!1}else Ct!==null&&(Ru(Ct),Ct=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||oe.current&1?we===0&&(we=3):td())),e.updateQueue!==null&&(e.flags|=4),Re(e),null);case 4:return ys(),Su(t,e),t===null&&yi(e.stateNode.containerInfo),Re(e),null;case 10:return Uc(e.type._context),Re(e),null;case 17:return Ye(e.type)&&Qa(),Re(e),null;case 19:if(se(oe),i=e.memoizedState,i===null)return Re(e),null;if(n=(e.flags&128)!==0,a=i.rendering,a===null)if(n)Fs(i,!1);else{if(we!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=ro(t),a!==null){for(e.flags|=128,Fs(i,!1),n=a.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)i=r,t=n,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,t=a.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return te(oe,oe.current&1|2),e.child}t=t.sibling}i.tail!==null&&pe()>ws&&(e.flags|=128,n=!0,Fs(i,!1),e.lanes=4194304)}else{if(!n)if(t=ro(a),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),Fs(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!ie)return Re(e),null}else 2*pe()-i.renderingStartTime>ws&&r!==1073741824&&(e.flags|=128,n=!0,Fs(i,!1),e.lanes=4194304);i.isBackwards?(a.sibling=e.child,e.child=a):(r=i.last,r!==null?r.sibling=a:e.child=a,i.last=a)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=pe(),e.sibling=null,r=oe.current,te(oe,n?r&1|2:r&1),e):(Re(e),null);case 22:case 23:return ed(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?et&1073741824&&(Re(e),e.subtreeFlags&6&&(e.flags|=8192)):Re(e),null;case 24:return null;case 25:return null}throw Error(R(156,e.tag))}function gx(t,e){switch(Ic(e),e.tag){case 1:return Ye(e.type)&&Qa(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ys(),se(Je),se(Le),Wc(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return zc(e),null;case 13:if(se(oe),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(R(340));gs()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return se(oe),null;case 4:return ys(),null;case 10:return Uc(e.type._context),null;case 22:case 23:return ed(),null;case 24:return null;default:return null}}var da=!1,Ie=!1,vx=typeof WeakSet=="function"?WeakSet:Set,L=null;function Kn(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){fe(t,e,n)}else r.current=null}function ku(t,e,r){try{r()}catch(n){fe(t,e,n)}}var Rh=!1;function yx(t,e){if(lu=Ha,t=im(),Rc(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var a=0,l=-1,u=-1,c=0,d=0,h=t,m=null;t:for(;;){for(var f;h!==r||s!==0&&h.nodeType!==3||(l=a+s),h!==i||n!==0&&h.nodeType!==3||(u=a+n),h.nodeType===3&&(a+=h.nodeValue.length),(f=h.firstChild)!==null;)m=h,h=f;for(;;){if(h===t)break t;if(m===r&&++c===s&&(l=a),m===i&&++d===n&&(u=a),(f=h.nextSibling)!==null)break;h=m,m=h.parentNode}h=f}r=l===-1||u===-1?null:{start:l,end:u}}else r=null}r=r||{start:0,end:0}}else r=null;for(uu={focusedElem:t,selectionRange:r},Ha=!1,L=e;L!==null;)if(e=L,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,L=t;else for(;L!==null;){e=L;try{var x=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var y=x.memoizedProps,w=x.memoizedState,p=e.stateNode,g=p.getSnapshotBeforeUpdate(e.elementType===e.type?y:_t(e.type,y),w);p.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var v=e.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(R(163))}}catch(b){fe(e,e.return,b)}if(t=e.sibling,t!==null){t.return=e.return,L=t;break}L=e.return}return x=Rh,Rh=!1,x}function si(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&ku(e,r,i)}s=s.next}while(s!==n)}}function Po(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function Nu(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function t0(t){var e=t.alternate;e!==null&&(t.alternate=null,t0(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Ft],delete e[wi],delete e[hu],delete e[ex],delete e[tx])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function r0(t){return t.tag===5||t.tag===3||t.tag===4}function Ah(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||r0(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Eu(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=Ga));else if(n!==4&&(t=t.child,t!==null))for(Eu(t,e,r),t=t.sibling;t!==null;)Eu(t,e,r),t=t.sibling}function Cu(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(Cu(t,e,r),t=t.sibling;t!==null;)Cu(t,e,r),t=t.sibling}var Ee=null,Nt=!1;function ur(t,e,r){for(r=r.child;r!==null;)n0(t,e,r),r=r.sibling}function n0(t,e,r){if(Bt&&typeof Bt.onCommitFiberUnmount=="function")try{Bt.onCommitFiberUnmount(bo,r)}catch{}switch(r.tag){case 5:Ie||Kn(r,e);case 6:var n=Ee,s=Nt;Ee=null,ur(t,e,r),Ee=n,Nt=s,Ee!==null&&(Nt?(t=Ee,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):Ee.removeChild(r.stateNode));break;case 18:Ee!==null&&(Nt?(t=Ee,r=r.stateNode,t.nodeType===8?fl(t.parentNode,r):t.nodeType===1&&fl(t,r),mi(t)):fl(Ee,r.stateNode));break;case 4:n=Ee,s=Nt,Ee=r.stateNode.containerInfo,Nt=!0,ur(t,e,r),Ee=n,Nt=s;break;case 0:case 11:case 14:case 15:if(!Ie&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&ku(r,e,a),s=s.next}while(s!==n)}ur(t,e,r);break;case 1:if(!Ie&&(Kn(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){fe(r,e,l)}ur(t,e,r);break;case 21:ur(t,e,r);break;case 22:r.mode&1?(Ie=(n=Ie)||r.memoizedState!==null,ur(t,e,r),Ie=n):ur(t,e,r);break;default:ur(t,e,r)}}function Ih(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new vx),e.forEach(function(n){var s=Ex.bind(null,t,n);r.has(n)||(r.add(n),n.then(s,s))})}}function xt(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=t,a=e,l=a;e:for(;l!==null;){switch(l.tag){case 5:Ee=l.stateNode,Nt=!1;break e;case 3:Ee=l.stateNode.containerInfo,Nt=!0;break e;case 4:Ee=l.stateNode.containerInfo,Nt=!0;break e}l=l.return}if(Ee===null)throw Error(R(160));n0(i,a,s),Ee=null,Nt=!1;var u=s.alternate;u!==null&&(u.return=null),s.return=null}catch(c){fe(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)s0(e,t),e=e.sibling}function s0(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(xt(e,t),It(t),n&4){try{si(3,t,t.return),Po(3,t)}catch(y){fe(t,t.return,y)}try{si(5,t,t.return)}catch(y){fe(t,t.return,y)}}break;case 1:xt(e,t),It(t),n&512&&r!==null&&Kn(r,r.return);break;case 5:if(xt(e,t),It(t),n&512&&r!==null&&Kn(r,r.return),t.flags&32){var s=t.stateNode;try{di(s,"")}catch(y){fe(t,t.return,y)}}if(n&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,a=r!==null?r.memoizedProps:i,l=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&Np(s,i),Xl(l,a);var c=Xl(l,i);for(a=0;a<u.length;a+=2){var d=u[a],h=u[a+1];d==="style"?Tp(s,h):d==="dangerouslySetInnerHTML"?Pp(s,h):d==="children"?di(s,h):xc(s,d,h,c)}switch(l){case"input":Kl(s,i);break;case"textarea":Ep(s,i);break;case"select":var m=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var f=i.value;f!=null?Qn(s,!!i.multiple,f,!1):m!==!!i.multiple&&(i.defaultValue!=null?Qn(s,!!i.multiple,i.defaultValue,!0):Qn(s,!!i.multiple,i.multiple?[]:"",!1))}s[wi]=i}catch(y){fe(t,t.return,y)}}break;case 6:if(xt(e,t),It(t),n&4){if(t.stateNode===null)throw Error(R(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(y){fe(t,t.return,y)}}break;case 3:if(xt(e,t),It(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{mi(e.containerInfo)}catch(y){fe(t,t.return,y)}break;case 4:xt(e,t),It(t);break;case 13:xt(e,t),It(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Xc=pe())),n&4&&Ih(t);break;case 22:if(d=r!==null&&r.memoizedState!==null,t.mode&1?(Ie=(c=Ie)||d,xt(e,t),Ie=c):xt(e,t),It(t),n&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(L=t,d=t.child;d!==null;){for(h=L=d;L!==null;){switch(m=L,f=m.child,m.tag){case 0:case 11:case 14:case 15:si(4,m,m.return);break;case 1:Kn(m,m.return);var x=m.stateNode;if(typeof x.componentWillUnmount=="function"){n=m,r=m.return;try{e=n,x.props=e.memoizedProps,x.state=e.memoizedState,x.componentWillUnmount()}catch(y){fe(n,r,y)}}break;case 5:Kn(m,m.return);break;case 22:if(m.memoizedState!==null){$h(h);continue}}f!==null?(f.return=m,L=f):$h(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=h.stateNode,u=h.memoizedProps.style,a=u!=null&&u.hasOwnProperty("display")?u.display:null,l.style.display=Op("display",a))}catch(y){fe(t,t.return,y)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(y){fe(t,t.return,y)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:xt(e,t),It(t),n&4&&Ih(t);break;case 21:break;default:xt(e,t),It(t)}}function It(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(r0(r)){var n=r;break e}r=r.return}throw Error(R(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(di(s,""),n.flags&=-33);var i=Ah(t);Cu(t,i,s);break;case 3:case 4:var a=n.stateNode.containerInfo,l=Ah(t);Eu(t,l,a);break;default:throw Error(R(161))}}catch(u){fe(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function xx(t,e,r){L=t,i0(t)}function i0(t,e,r){for(var n=(t.mode&1)!==0;L!==null;){var s=L,i=s.child;if(s.tag===22&&n){var a=s.memoizedState!==null||da;if(!a){var l=s.alternate,u=l!==null&&l.memoizedState!==null||Ie;l=da;var c=Ie;if(da=a,(Ie=u)&&!c)for(L=s;L!==null;)a=L,u=a.child,a.tag===22&&a.memoizedState!==null?Dh(s):u!==null?(u.return=a,L=u):Dh(s);for(;i!==null;)L=i,i0(i),i=i.sibling;L=s,da=l,Ie=c}Lh(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,L=i):Lh(t)}}function Lh(t){for(;L!==null;){var e=L;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ie||Po(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!Ie)if(r===null)n.componentDidMount();else{var s=e.elementType===e.type?r.memoizedProps:_t(e.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&xh(e,i,n);break;case 3:var a=e.updateQueue;if(a!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}xh(e,a,r)}break;case 5:var l=e.stateNode;if(r===null&&e.flags&4){r=l;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&r.focus();break;case"img":u.src&&(r.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&mi(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(R(163))}Ie||e.flags&512&&Nu(e)}catch(m){fe(e,e.return,m)}}if(e===t){L=null;break}if(r=e.sibling,r!==null){r.return=e.return,L=r;break}L=e.return}}function $h(t){for(;L!==null;){var e=L;if(e===t){L=null;break}var r=e.sibling;if(r!==null){r.return=e.return,L=r;break}L=e.return}}function Dh(t){for(;L!==null;){var e=L;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{Po(4,e)}catch(u){fe(e,r,u)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var s=e.return;try{n.componentDidMount()}catch(u){fe(e,s,u)}}var i=e.return;try{Nu(e)}catch(u){fe(e,i,u)}break;case 5:var a=e.return;try{Nu(e)}catch(u){fe(e,a,u)}}}catch(u){fe(e,e.return,u)}if(e===t){L=null;break}var l=e.sibling;if(l!==null){l.return=e.return,L=l;break}L=e.return}}var wx=Math.ceil,io=ir.ReactCurrentDispatcher,Jc=ir.ReactCurrentOwner,pt=ir.ReactCurrentBatchConfig,G=0,je=null,ve=null,Pe=0,et=0,Gn=zr(0),we=0,Ni=null,wn=0,Oo=0,Yc=0,ii=null,Ke=null,Xc=0,ws=1/0,qt=null,ao=!1,Pu=null,Ir=null,ha=!1,Er=null,oo=0,ai=0,Ou=null,$a=-1,Da=0;function ze(){return G&6?pe():$a!==-1?$a:$a=pe()}function Lr(t){return t.mode&1?G&2&&Pe!==0?Pe&-Pe:nx.transition!==null?(Da===0&&(Da=Wp()),Da):(t=Y,t!==0||(t=window.event,t=t===void 0?16:Jp(t.type)),t):1}function Ot(t,e,r,n){if(50<ai)throw ai=0,Ou=null,Error(R(185));zi(t,r,n),(!(G&2)||t!==je)&&(t===je&&(!(G&2)&&(Oo|=r),we===4&&gr(t,Pe)),Xe(t,n),r===1&&G===0&&!(e.mode&1)&&(ws=pe()+500,No&&Wr()))}function Xe(t,e){var r=t.callbackNode;ny(t,e);var n=Va(t,t===je?Pe:0);if(n===0)r!==null&&qd(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&qd(r),e===1)t.tag===0?rx(Uh.bind(null,t)):mm(Uh.bind(null,t)),Xy(function(){!(G&6)&&Wr()}),r=null;else{switch(Vp(n)){case 1:r=Sc;break;case 4:r=Bp;break;case 16:r=Wa;break;case 536870912:r=zp;break;default:r=Wa}r=f0(r,a0.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function a0(t,e){if($a=-1,Da=0,G&6)throw Error(R(327));var r=t.callbackNode;if(es()&&t.callbackNode!==r)return null;var n=Va(t,t===je?Pe:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=lo(t,n);else{e=n;var s=G;G|=2;var i=l0();(je!==t||Pe!==e)&&(qt=null,ws=pe()+500,mn(t,e));do try{jx();break}catch(l){o0(t,l)}while(!0);Dc(),io.current=i,G=s,ve!==null?e=0:(je=null,Pe=0,e=we)}if(e!==0){if(e===2&&(s=nu(t),s!==0&&(n=s,e=Tu(t,s))),e===1)throw r=Ni,mn(t,0),gr(t,n),Xe(t,pe()),r;if(e===6)gr(t,n);else{if(s=t.current.alternate,!(n&30)&&!bx(s)&&(e=lo(t,n),e===2&&(i=nu(t),i!==0&&(n=i,e=Tu(t,i))),e===1))throw r=Ni,mn(t,0),gr(t,n),Xe(t,pe()),r;switch(t.finishedWork=s,t.finishedLanes=n,e){case 0:case 1:throw Error(R(345));case 2:Jr(t,Ke,qt);break;case 3:if(gr(t,n),(n&130023424)===n&&(e=Xc+500-pe(),10<e)){if(Va(t,0)!==0)break;if(s=t.suspendedLanes,(s&n)!==n){ze(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=du(Jr.bind(null,t,Ke,qt),e);break}Jr(t,Ke,qt);break;case 4:if(gr(t,n),(n&4194240)===n)break;for(e=t.eventTimes,s=-1;0<n;){var a=31-Pt(n);i=1<<a,a=e[a],a>s&&(s=a),n&=~i}if(n=s,n=pe()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*wx(n/1960))-n,10<n){t.timeoutHandle=du(Jr.bind(null,t,Ke,qt),n);break}Jr(t,Ke,qt);break;case 5:Jr(t,Ke,qt);break;default:throw Error(R(329))}}}return Xe(t,pe()),t.callbackNode===r?a0.bind(null,t):null}function Tu(t,e){var r=ii;return t.current.memoizedState.isDehydrated&&(mn(t,e).flags|=256),t=lo(t,e),t!==2&&(e=Ke,Ke=r,e!==null&&Ru(e)),t}function Ru(t){Ke===null?Ke=t:Ke.push.apply(Ke,t)}function bx(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!Tt(i(),s))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function gr(t,e){for(e&=~Yc,e&=~Oo,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-Pt(e),n=1<<r;t[r]=-1,e&=~n}}function Uh(t){if(G&6)throw Error(R(327));es();var e=Va(t,0);if(!(e&1))return Xe(t,pe()),null;var r=lo(t,e);if(t.tag!==0&&r===2){var n=nu(t);n!==0&&(e=n,r=Tu(t,n))}if(r===1)throw r=Ni,mn(t,0),gr(t,e),Xe(t,pe()),r;if(r===6)throw Error(R(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Jr(t,Ke,qt),Xe(t,pe()),null}function Zc(t,e){var r=G;G|=1;try{return t(e)}finally{G=r,G===0&&(ws=pe()+500,No&&Wr())}}function bn(t){Er!==null&&Er.tag===0&&!(G&6)&&es();var e=G;G|=1;var r=pt.transition,n=Y;try{if(pt.transition=null,Y=1,t)return t()}finally{Y=n,pt.transition=r,G=e,!(G&6)&&Wr()}}function ed(){et=Gn.current,se(Gn)}function mn(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,Yy(r)),ve!==null)for(r=ve.return;r!==null;){var n=r;switch(Ic(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Qa();break;case 3:ys(),se(Je),se(Le),Wc();break;case 5:zc(n);break;case 4:ys();break;case 13:se(oe);break;case 19:se(oe);break;case 10:Uc(n.type._context);break;case 22:case 23:ed()}r=r.return}if(je=t,ve=t=$r(t.current,null),Pe=et=e,we=0,Ni=null,Yc=Oo=wn=0,Ke=ii=null,tn!==null){for(e=0;e<tn.length;e++)if(r=tn[e],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var a=i.next;i.next=s,n.next=a}r.pending=n}tn=null}return t}function o0(t,e){do{var r=ve;try{if(Dc(),Aa.current=so,no){for(var n=le.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}no=!1}if(xn=0,_e=xe=le=null,ni=!1,ji=0,Jc.current=null,r===null||r.return===null){we=1,Ni=e,ve=null;break}e:{var i=t,a=r.return,l=r,u=e;if(e=Pe,l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,d=l,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var m=d.alternate;m?(d.updateQueue=m.updateQueue,d.memoizedState=m.memoizedState,d.lanes=m.lanes):(d.updateQueue=null,d.memoizedState=null)}var f=kh(a);if(f!==null){f.flags&=-257,Nh(f,a,l,i,e),f.mode&1&&Sh(i,c,e),e=f,u=c;var x=e.updateQueue;if(x===null){var y=new Set;y.add(u),e.updateQueue=y}else x.add(u);break e}else{if(!(e&1)){Sh(i,c,e),td();break e}u=Error(R(426))}}else if(ie&&l.mode&1){var w=kh(a);if(w!==null){!(w.flags&65536)&&(w.flags|=256),Nh(w,a,l,i,e),Lc(xs(u,l));break e}}i=u=xs(u,l),we!==4&&(we=2),ii===null?ii=[i]:ii.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var p=Vm(i,u,e);yh(i,p);break e;case 1:l=u;var g=i.type,v=i.stateNode;if(!(i.flags&128)&&(typeof g.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Ir===null||!Ir.has(v)))){i.flags|=65536,e&=-e,i.lanes|=e;var b=Hm(i,l,e);yh(i,b);break e}}i=i.return}while(i!==null)}c0(r)}catch(N){e=N,ve===r&&r!==null&&(ve=r=r.return);continue}break}while(!0)}function l0(){var t=io.current;return io.current=so,t===null?so:t}function td(){(we===0||we===3||we===2)&&(we=4),je===null||!(wn&268435455)&&!(Oo&268435455)||gr(je,Pe)}function lo(t,e){var r=G;G|=2;var n=l0();(je!==t||Pe!==e)&&(qt=null,mn(t,e));do try{_x();break}catch(s){o0(t,s)}while(!0);if(Dc(),G=r,io.current=n,ve!==null)throw Error(R(261));return je=null,Pe=0,we}function _x(){for(;ve!==null;)u0(ve)}function jx(){for(;ve!==null&&!Gv();)u0(ve)}function u0(t){var e=h0(t.alternate,t,et);t.memoizedProps=t.pendingProps,e===null?c0(t):ve=e,Jc.current=null}function c0(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=gx(r,e),r!==null){r.flags&=32767,ve=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{we=6,ve=null;return}}else if(r=mx(r,e,et),r!==null){ve=r;return}if(e=e.sibling,e!==null){ve=e;return}ve=e=t}while(e!==null);we===0&&(we=5)}function Jr(t,e,r){var n=Y,s=pt.transition;try{pt.transition=null,Y=1,Sx(t,e,r,n)}finally{pt.transition=s,Y=n}return null}function Sx(t,e,r,n){do es();while(Er!==null);if(G&6)throw Error(R(327));r=t.finishedWork;var s=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(R(177));t.callbackNode=null,t.callbackPriority=0;var i=r.lanes|r.childLanes;if(sy(t,i),t===je&&(ve=je=null,Pe=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||ha||(ha=!0,f0(Wa,function(){return es(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=pt.transition,pt.transition=null;var a=Y;Y=1;var l=G;G|=4,Jc.current=null,yx(t,r),s0(r,t),Vy(uu),Ha=!!lu,uu=lu=null,t.current=r,xx(r),Qv(),G=l,Y=a,pt.transition=i}else t.current=r;if(ha&&(ha=!1,Er=t,oo=s),i=t.pendingLanes,i===0&&(Ir=null),Xv(r.stateNode),Xe(t,pe()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)s=e[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(ao)throw ao=!1,t=Pu,Pu=null,t;return oo&1&&t.tag!==0&&es(),i=t.pendingLanes,i&1?t===Ou?ai++:(ai=0,Ou=t):ai=0,Wr(),null}function es(){if(Er!==null){var t=Vp(oo),e=pt.transition,r=Y;try{if(pt.transition=null,Y=16>t?16:t,Er===null)var n=!1;else{if(t=Er,Er=null,oo=0,G&6)throw Error(R(331));var s=G;for(G|=4,L=t.current;L!==null;){var i=L,a=i.child;if(L.flags&16){var l=i.deletions;if(l!==null){for(var u=0;u<l.length;u++){var c=l[u];for(L=c;L!==null;){var d=L;switch(d.tag){case 0:case 11:case 15:si(8,d,i)}var h=d.child;if(h!==null)h.return=d,L=h;else for(;L!==null;){d=L;var m=d.sibling,f=d.return;if(t0(d),d===c){L=null;break}if(m!==null){m.return=f,L=m;break}L=f}}}var x=i.alternate;if(x!==null){var y=x.child;if(y!==null){x.child=null;do{var w=y.sibling;y.sibling=null,y=w}while(y!==null)}}L=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,L=a;else e:for(;L!==null;){if(i=L,i.flags&2048)switch(i.tag){case 0:case 11:case 15:si(9,i,i.return)}var p=i.sibling;if(p!==null){p.return=i.return,L=p;break e}L=i.return}}var g=t.current;for(L=g;L!==null;){a=L;var v=a.child;if(a.subtreeFlags&2064&&v!==null)v.return=a,L=v;else e:for(a=g;L!==null;){if(l=L,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Po(9,l)}}catch(N){fe(l,l.return,N)}if(l===a){L=null;break e}var b=l.sibling;if(b!==null){b.return=l.return,L=b;break e}L=l.return}}if(G=s,Wr(),Bt&&typeof Bt.onPostCommitFiberRoot=="function")try{Bt.onPostCommitFiberRoot(bo,t)}catch{}n=!0}return n}finally{Y=r,pt.transition=e}}return!1}function Mh(t,e,r){e=xs(r,e),e=Vm(t,e,1),t=Ar(t,e,1),e=ze(),t!==null&&(zi(t,1,e),Xe(t,e))}function fe(t,e,r){if(t.tag===3)Mh(t,t,r);else for(;e!==null;){if(e.tag===3){Mh(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Ir===null||!Ir.has(n))){t=xs(r,t),t=Hm(e,t,1),e=Ar(e,t,1),t=ze(),e!==null&&(zi(e,1,t),Xe(e,t));break}}e=e.return}}function kx(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=ze(),t.pingedLanes|=t.suspendedLanes&r,je===t&&(Pe&r)===r&&(we===4||we===3&&(Pe&130023424)===Pe&&500>pe()-Xc?mn(t,0):Yc|=r),Xe(t,e)}function d0(t,e){e===0&&(t.mode&1?(e=ra,ra<<=1,!(ra&130023424)&&(ra=4194304)):e=1);var r=ze();t=nr(t,e),t!==null&&(zi(t,e,r),Xe(t,r))}function Nx(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),d0(t,r)}function Ex(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,s=t.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(R(314))}n!==null&&n.delete(e),d0(t,r)}var h0;h0=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||Je.current)Ge=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return Ge=!1,px(t,e,r);Ge=!!(t.flags&131072)}else Ge=!1,ie&&e.flags&1048576&&gm(e,Xa,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;La(t,e),t=e.pendingProps;var s=ms(e,Le.current);Zn(e,r),s=Hc(null,e,n,t,s,r);var i=qc();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ye(n)?(i=!0,Ja(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Fc(e),s.updater=Co,e.stateNode=s,s._reactInternals=e,yu(e,n,t,r),e=bu(null,e,n,!0,i,r)):(e.tag=0,ie&&i&&Ac(e),Fe(null,e,s,r),e=e.child),e;case 16:n=e.elementType;e:{switch(La(t,e),t=e.pendingProps,s=n._init,n=s(n._payload),e.type=n,s=e.tag=Px(n),t=_t(n,t),s){case 0:e=wu(null,e,n,t,r);break e;case 1:e=Ph(null,e,n,t,r);break e;case 11:e=Eh(null,e,n,t,r);break e;case 14:e=Ch(null,e,n,_t(n.type,t),r);break e}throw Error(R(306,n,""))}return e;case 0:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:_t(n,s),wu(t,e,n,s,r);case 1:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:_t(n,s),Ph(t,e,n,s,r);case 3:e:{if(Qm(e),t===null)throw Error(R(387));n=e.pendingProps,i=e.memoizedState,s=i.element,_m(t,e),to(e,n,null,r);var a=e.memoizedState;if(n=a.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=xs(Error(R(423)),e),e=Oh(t,e,n,r,s);break e}else if(n!==s){s=xs(Error(R(424)),e),e=Oh(t,e,n,r,s);break e}else for(nt=Rr(e.stateNode.containerInfo.firstChild),st=e,ie=!0,Ct=null,r=wm(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(gs(),n===s){e=sr(t,e,r);break e}Fe(t,e,n,r)}e=e.child}return e;case 5:return jm(e),t===null&&mu(e),n=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,a=s.children,cu(n,s)?a=null:i!==null&&cu(n,i)&&(e.flags|=32),Gm(t,e),Fe(t,e,a,r),e.child;case 6:return t===null&&mu(e),null;case 13:return Jm(t,e,r);case 4:return Bc(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=vs(e,null,n,r):Fe(t,e,n,r),e.child;case 11:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:_t(n,s),Eh(t,e,n,s,r);case 7:return Fe(t,e,e.pendingProps,r),e.child;case 8:return Fe(t,e,e.pendingProps.children,r),e.child;case 12:return Fe(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,s=e.pendingProps,i=e.memoizedProps,a=s.value,te(Za,n._currentValue),n._currentValue=a,i!==null)if(Tt(i.value,a)){if(i.children===s.children&&!Je.current){e=sr(t,e,r);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var l=i.dependencies;if(l!==null){a=i.child;for(var u=l.firstContext;u!==null;){if(u.context===n){if(i.tag===1){u=Zt(-1,r&-r),u.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?u.next=u:(u.next=d.next,d.next=u),c.pending=u}}i.lanes|=r,u=i.alternate,u!==null&&(u.lanes|=r),gu(i.return,r,e),l.lanes|=r;break}u=u.next}}else if(i.tag===10)a=i.type===e.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(R(341));a.lanes|=r,l=a.alternate,l!==null&&(l.lanes|=r),gu(a,r,e),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===e){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}Fe(t,e,s.children,r),e=e.child}return e;case 9:return s=e.type,n=e.pendingProps.children,Zn(e,r),s=mt(s),n=n(s),e.flags|=1,Fe(t,e,n,r),e.child;case 14:return n=e.type,s=_t(n,e.pendingProps),s=_t(n.type,s),Ch(t,e,n,s,r);case 15:return qm(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:_t(n,s),La(t,e),e.tag=1,Ye(n)?(t=!0,Ja(e)):t=!1,Zn(e,r),Wm(e,n,s),yu(e,n,s,r),bu(null,e,n,!0,t,r);case 19:return Ym(t,e,r);case 22:return Km(t,e,r)}throw Error(R(156,e.tag))};function f0(t,e){return Fp(t,e)}function Cx(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ft(t,e,r,n){return new Cx(t,e,r,n)}function rd(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Px(t){if(typeof t=="function")return rd(t)?1:0;if(t!=null){if(t=t.$$typeof,t===bc)return 11;if(t===_c)return 14}return 2}function $r(t,e){var r=t.alternate;return r===null?(r=ft(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function Ua(t,e,r,n,s,i){var a=2;if(n=t,typeof t=="function")rd(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case Un:return gn(r.children,s,i,e);case wc:a=8,s|=8;break;case zl:return t=ft(12,r,e,s|2),t.elementType=zl,t.lanes=i,t;case Wl:return t=ft(13,r,e,s),t.elementType=Wl,t.lanes=i,t;case Vl:return t=ft(19,r,e,s),t.elementType=Vl,t.lanes=i,t;case jp:return To(r,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case bp:a=10;break e;case _p:a=9;break e;case bc:a=11;break e;case _c:a=14;break e;case fr:a=16,n=null;break e}throw Error(R(130,t==null?t:typeof t,""))}return e=ft(a,r,e,s),e.elementType=t,e.type=n,e.lanes=i,e}function gn(t,e,r,n){return t=ft(7,t,n,e),t.lanes=r,t}function To(t,e,r,n){return t=ft(22,t,n,e),t.elementType=jp,t.lanes=r,t.stateNode={isHidden:!1},t}function bl(t,e,r){return t=ft(6,t,null,e),t.lanes=r,t}function _l(t,e,r){return e=ft(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Ox(t,e,r,n,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=rl(0),this.expirationTimes=rl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=rl(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function nd(t,e,r,n,s,i,a,l,u){return t=new Ox(t,e,r,l,u),e===1?(e=1,i===!0&&(e|=8)):e=0,i=ft(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Fc(i),t}function Tx(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Dn,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function p0(t){if(!t)return Fr;t=t._reactInternals;e:{if(Sn(t)!==t||t.tag!==1)throw Error(R(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ye(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(R(171))}if(t.tag===1){var r=t.type;if(Ye(r))return pm(t,r,e)}return e}function m0(t,e,r,n,s,i,a,l,u){return t=nd(r,n,!0,t,s,i,a,l,u),t.context=p0(null),r=t.current,n=ze(),s=Lr(r),i=Zt(n,s),i.callback=e??null,Ar(r,i,s),t.current.lanes=s,zi(t,s,n),Xe(t,n),t}function Ro(t,e,r,n){var s=e.current,i=ze(),a=Lr(s);return r=p0(r),e.context===null?e.context=r:e.pendingContext=r,e=Zt(i,a),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=Ar(s,e,a),t!==null&&(Ot(t,s,a,i),Ra(t,s,a)),a}function uo(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Fh(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function sd(t,e){Fh(t,e),(t=t.alternate)&&Fh(t,e)}function Rx(){return null}var g0=typeof reportError=="function"?reportError:function(t){console.error(t)};function id(t){this._internalRoot=t}Ao.prototype.render=id.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(R(409));Ro(t,e,null,null)};Ao.prototype.unmount=id.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;bn(function(){Ro(null,t,null,null)}),e[rr]=null}};function Ao(t){this._internalRoot=t}Ao.prototype.unstable_scheduleHydration=function(t){if(t){var e=Kp();t={blockedOn:null,target:t,priority:e};for(var r=0;r<mr.length&&e!==0&&e<mr[r].priority;r++);mr.splice(r,0,t),r===0&&Qp(t)}};function ad(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Io(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Bh(){}function Ax(t,e,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var c=uo(a);i.call(c)}}var a=m0(e,n,t,0,null,!1,!1,"",Bh);return t._reactRootContainer=a,t[rr]=a.current,yi(t.nodeType===8?t.parentNode:t),bn(),a}for(;s=t.lastChild;)t.removeChild(s);if(typeof n=="function"){var l=n;n=function(){var c=uo(u);l.call(c)}}var u=nd(t,0,!1,null,null,!1,!1,"",Bh);return t._reactRootContainer=u,t[rr]=u.current,yi(t.nodeType===8?t.parentNode:t),bn(function(){Ro(e,u,r,n)}),u}function Lo(t,e,r,n,s){var i=r._reactRootContainer;if(i){var a=i;if(typeof s=="function"){var l=s;s=function(){var u=uo(a);l.call(u)}}Ro(e,a,t,s)}else a=Ax(r,e,t,s,n);return uo(a)}Hp=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=Ks(e.pendingLanes);r!==0&&(kc(e,r|1),Xe(e,pe()),!(G&6)&&(ws=pe()+500,Wr()))}break;case 13:bn(function(){var n=nr(t,1);if(n!==null){var s=ze();Ot(n,t,1,s)}}),sd(t,1)}};Nc=function(t){if(t.tag===13){var e=nr(t,134217728);if(e!==null){var r=ze();Ot(e,t,134217728,r)}sd(t,134217728)}};qp=function(t){if(t.tag===13){var e=Lr(t),r=nr(t,e);if(r!==null){var n=ze();Ot(r,t,e,n)}sd(t,e)}};Kp=function(){return Y};Gp=function(t,e){var r=Y;try{return Y=t,e()}finally{Y=r}};eu=function(t,e,r){switch(e){case"input":if(Kl(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var s=ko(n);if(!s)throw Error(R(90));kp(n),Kl(n,s)}}}break;case"textarea":Ep(t,r);break;case"select":e=r.value,e!=null&&Qn(t,!!r.multiple,e,!1)}};Ip=Zc;Lp=bn;var Ix={usingClientEntryPoint:!1,Events:[Vi,zn,ko,Rp,Ap,Zc]},Bs={findFiberByHostInstance:en,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Lx={bundleType:Bs.bundleType,version:Bs.version,rendererPackageName:Bs.rendererPackageName,rendererConfig:Bs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ir.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Up(t),t===null?null:t.stateNode},findFiberByHostInstance:Bs.findFiberByHostInstance||Rx,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var fa=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fa.isDisabled&&fa.supportsFiber)try{bo=fa.inject(Lx),Bt=fa}catch{}}at.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ix;at.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ad(e))throw Error(R(200));return Tx(t,e,null,r)};at.createRoot=function(t,e){if(!ad(t))throw Error(R(299));var r=!1,n="",s=g0;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=nd(t,1,!1,null,null,r,!1,n,s),t[rr]=e.current,yi(t.nodeType===8?t.parentNode:t),new id(e)};at.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(R(188)):(t=Object.keys(t).join(","),Error(R(268,t)));return t=Up(e),t=t===null?null:t.stateNode,t};at.flushSync=function(t){return bn(t)};at.hydrate=function(t,e,r){if(!Io(e))throw Error(R(200));return Lo(null,t,e,!0,r)};at.hydrateRoot=function(t,e,r){if(!ad(t))throw Error(R(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",a=g0;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),e=m0(e,null,t,1,r??null,s,!1,i,a),t[rr]=e.current,yi(t),n)for(t=0;t<n.length;t++)r=n[t],s=r._getVersion,s=s(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,s]:e.mutableSourceEagerHydrationData.push(r,s);return new Ao(e)};at.render=function(t,e,r){if(!Io(e))throw Error(R(200));return Lo(null,t,e,!1,r)};at.unmountComponentAtNode=function(t){if(!Io(t))throw Error(R(40));return t._reactRootContainer?(bn(function(){Lo(null,null,t,!1,function(){t._reactRootContainer=null,t[rr]=null})}),!0):!1};at.unstable_batchedUpdates=Zc;at.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!Io(r))throw Error(R(200));if(t==null||t._reactInternals===void 0)throw Error(R(38));return Lo(t,e,r,!1,n)};at.version="18.3.1-next-f1338f8080-20240426";function v0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(v0)}catch(t){console.error(t)}}v0(),vp.exports=at;var y0=vp.exports,zh=y0;Fl.createRoot=zh.createRoot,Fl.hydrateRoot=zh.hydrateRoot;var qi=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},$x={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},yr,dc,Gf,Dx=(Gf=class{constructor(){F(this,yr,$x);F(this,dc,!1)}setTimeoutProvider(t){A(this,yr,t)}setTimeout(t,e){return _(this,yr).setTimeout(t,e)}clearTimeout(t){_(this,yr).clearTimeout(t)}setInterval(t,e){return _(this,yr).setInterval(t,e)}clearInterval(t){_(this,yr).clearInterval(t)}},yr=new WeakMap,dc=new WeakMap,Gf),nn=new Dx;function Ux(t){setTimeout(t,0)}var _n=typeof window>"u"||"Deno"in globalThis;function qe(){}function Mx(t,e){return typeof t=="function"?t(e):t}function Au(t){return typeof t=="number"&&t>=0&&t!==1/0}function x0(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Dr(t,e){return typeof t=="function"?t(e):t}function ct(t,e){return typeof t=="function"?t(e):t}function Wh(t,e){const{type:r="all",exact:n,fetchStatus:s,predicate:i,queryKey:a,stale:l}=t;if(a){if(n){if(e.queryHash!==od(a,e.options))return!1}else if(!Ci(e.queryKey,a))return!1}if(r!=="all"){const u=e.isActive();if(r==="active"&&!u||r==="inactive"&&u)return!1}return!(typeof l=="boolean"&&e.isStale()!==l||s&&s!==e.state.fetchStatus||i&&!i(e))}function Vh(t,e){const{exact:r,status:n,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(r){if(Ei(e.options.mutationKey)!==Ei(i))return!1}else if(!Ci(e.options.mutationKey,i))return!1}return!(n&&e.state.status!==n||s&&!s(e))}function od(t,e){return((e==null?void 0:e.queryKeyHashFn)||Ei)(t)}function Ei(t){return JSON.stringify(t,(e,r)=>Lu(r)?Object.keys(r).sort().reduce((n,s)=>(n[s]=r[s],n),{}):r)}function Ci(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(r=>Ci(t[r],e[r])):!1}var Fx=Object.prototype.hasOwnProperty;function w0(t,e){if(t===e)return t;const r=Hh(t)&&Hh(e);if(!r&&!(Lu(t)&&Lu(e)))return e;const s=(r?t:Object.keys(t)).length,i=r?e:Object.keys(e),a=i.length,l=r?new Array(a):{};let u=0;for(let c=0;c<a;c++){const d=r?c:i[c],h=t[d],m=e[d];if(h===m){l[d]=h,(r?c<s:Fx.call(t,d))&&u++;continue}if(h===null||m===null||typeof h!="object"||typeof m!="object"){l[d]=m;continue}const f=w0(h,m);l[d]=f,f===h&&u++}return s===a&&u===s?t:l}function Iu(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const r in t)if(t[r]!==e[r])return!1;return!0}function Hh(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Lu(t){if(!qh(t))return!1;const e=t.constructor;if(e===void 0)return!0;const r=e.prototype;return!(!qh(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function qh(t){return Object.prototype.toString.call(t)==="[object Object]"}function Bx(t){return new Promise(e=>{nn.setTimeout(e,t)})}function $u(t,e,r){return typeof r.structuralSharing=="function"?r.structuralSharing(t,e):r.structuralSharing!==!1?w0(t,e):e}function zx(t,e,r=0){const n=[...t,e];return r&&n.length>r?n.slice(1):n}function Wx(t,e,r=0){const n=[e,...t];return r&&n.length>r?n.slice(0,-1):n}var ld=Symbol();function b0(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===ld?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function Vx(t,e){return typeof t=="function"?t(...e):!!t}var an,xr,rs,Qf,Hx=(Qf=class extends qi{constructor(){super();F(this,an);F(this,xr);F(this,rs);A(this,rs,e=>{if(!_n&&window.addEventListener){const r=()=>e();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){_(this,xr)||this.setEventListener(_(this,rs))}onUnsubscribe(){var e;this.hasListeners()||((e=_(this,xr))==null||e.call(this),A(this,xr,void 0))}setEventListener(e){var r;A(this,rs,e),(r=_(this,xr))==null||r.call(this),A(this,xr,e(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(e){_(this,an)!==e&&(A(this,an,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(r=>{r(e)})}isFocused(){var e;return typeof _(this,an)=="boolean"?_(this,an):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},an=new WeakMap,xr=new WeakMap,rs=new WeakMap,Qf),ud=new Hx;function Du(){let t,e;const r=new Promise((s,i)=>{t=s,e=i});r.status="pending",r.catch(()=>{});function n(s){Object.assign(r,s),delete r.resolve,delete r.reject}return r.resolve=s=>{n({status:"fulfilled",value:s}),t(s)},r.reject=s=>{n({status:"rejected",reason:s}),e(s)},r}var qx=Ux;function Kx(){let t=[],e=0,r=l=>{l()},n=l=>{l()},s=qx;const i=l=>{e?t.push(l):s(()=>{r(l)})},a=()=>{const l=t;t=[],l.length&&s(()=>{n(()=>{l.forEach(u=>{r(u)})})})};return{batch:l=>{let u;e++;try{u=l()}finally{e--,e||a()}return u},batchCalls:l=>(...u)=>{i(()=>{l(...u)})},schedule:i,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{s=l}}}var Ce=Kx(),ns,wr,ss,Jf,Gx=(Jf=class extends qi{constructor(){super();F(this,ns,!0);F(this,wr);F(this,ss);A(this,ss,e=>{if(!_n&&window.addEventListener){const r=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){_(this,wr)||this.setEventListener(_(this,ss))}onUnsubscribe(){var e;this.hasListeners()||((e=_(this,wr))==null||e.call(this),A(this,wr,void 0))}setEventListener(e){var r;A(this,ss,e),(r=_(this,wr))==null||r.call(this),A(this,wr,e(this.setOnline.bind(this)))}setOnline(e){_(this,ns)!==e&&(A(this,ns,e),this.listeners.forEach(n=>{n(e)}))}isOnline(){return _(this,ns)}},ns=new WeakMap,wr=new WeakMap,ss=new WeakMap,Jf),co=new Gx;function Qx(t){return Math.min(1e3*2**t,3e4)}function _0(t){return(t??"online")==="online"?co.isOnline():!0}var Uu=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function j0(t){let e=!1,r=0,n;const s=Du(),i=()=>s.status!=="pending",a=y=>{var w;if(!i()){const p=new Uu(y);m(p),(w=t.onCancel)==null||w.call(t,p)}},l=()=>{e=!0},u=()=>{e=!1},c=()=>ud.isFocused()&&(t.networkMode==="always"||co.isOnline())&&t.canRun(),d=()=>_0(t.networkMode)&&t.canRun(),h=y=>{i()||(n==null||n(),s.resolve(y))},m=y=>{i()||(n==null||n(),s.reject(y))},f=()=>new Promise(y=>{var w;n=p=>{(i()||c())&&y(p)},(w=t.onPause)==null||w.call(t)}).then(()=>{var y;n=void 0,i()||(y=t.onContinue)==null||y.call(t)}),x=()=>{if(i())return;let y;const w=r===0?t.initialPromise:void 0;try{y=w??t.fn()}catch(p){y=Promise.reject(p)}Promise.resolve(y).then(h).catch(p=>{var E;if(i())return;const g=t.retry??(_n?0:3),v=t.retryDelay??Qx,b=typeof v=="function"?v(r,p):v,N=g===!0||typeof g=="number"&&r<g||typeof g=="function"&&g(r,p);if(e||!N){m(p);return}r++,(E=t.onFail)==null||E.call(t,r,p),Bx(b).then(()=>c()?void 0:f()).then(()=>{e?m(p):x()})})};return{promise:s,status:()=>s.status,cancel:a,continue:()=>(n==null||n(),s),cancelRetry:l,continueRetry:u,canStart:d,start:()=>(d()?x():f().then(x),s)}}var on,Yf,S0=(Yf=class{constructor(){F(this,on)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Au(this.gcTime)&&A(this,on,nn.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(_n?1/0:5*60*1e3))}clearGcTimeout(){_(this,on)&&(nn.clearTimeout(_(this,on)),A(this,on,void 0))}},on=new WeakMap,Yf),ln,is,ut,un,be,$i,cn,St,Ht,Xf,Jx=(Xf=class extends S0{constructor(e){super();F(this,St);F(this,ln);F(this,is);F(this,ut);F(this,un);F(this,be);F(this,$i);F(this,cn);A(this,cn,!1),A(this,$i,e.defaultOptions),this.setOptions(e.options),this.observers=[],A(this,un,e.client),A(this,ut,_(this,un).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,A(this,ln,Kh(this.options)),this.state=e.state??_(this,ln),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=_(this,be))==null?void 0:e.promise}setOptions(e){if(this.options={..._(this,$i),...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=Kh(this.options);r.data!==void 0&&(this.setData(r.data,{updatedAt:r.dataUpdatedAt,manual:!0}),A(this,ln,r))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&_(this,ut).remove(this)}setData(e,r){const n=$u(this.state.data,e,this.options);return q(this,St,Ht).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(e,r){q(this,St,Ht).call(this,{type:"setState",state:e,setStateOptions:r})}cancel(e){var n,s;const r=(n=_(this,be))==null?void 0:n.promise;return(s=_(this,be))==null||s.cancel(e),r?r.then(qe).catch(qe):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(_(this,ln))}isActive(){return this.observers.some(e=>ct(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===ld||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>Dr(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!x0(this.state.dataUpdatedAt,e)}onFocus(){var r;const e=this.observers.find(n=>n.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(r=_(this,be))==null||r.continue()}onOnline(){var r;const e=this.observers.find(n=>n.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(r=_(this,be))==null||r.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),_(this,ut).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(r=>r!==e),this.observers.length||(_(this,be)&&(_(this,cn)?_(this,be).cancel({revert:!0}):_(this,be).cancelRetry()),this.scheduleGc()),_(this,ut).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||q(this,St,Ht).call(this,{type:"invalidate"})}async fetch(e,r){var u,c,d,h,m,f,x,y,w,p,g,v;if(this.state.fetchStatus!=="idle"&&((u=_(this,be))==null?void 0:u.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(_(this,be))return _(this,be).continueRetry(),_(this,be).promise}if(e&&this.setOptions(e),!this.options.queryFn){const b=this.observers.find(N=>N.options.queryFn);b&&this.setOptions(b.options)}const n=new AbortController,s=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(A(this,cn,!0),n.signal)})},i=()=>{const b=b0(this.options,r),E=(()=>{const P={client:_(this,un),queryKey:this.queryKey,meta:this.meta};return s(P),P})();return A(this,cn,!1),this.options.persister?this.options.persister(b,E,this):b(E)},l=(()=>{const b={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:_(this,un),state:this.state,fetchFn:i};return s(b),b})();(c=this.options.behavior)==null||c.onFetch(l,this),A(this,is,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=l.fetchOptions)==null?void 0:d.meta))&&q(this,St,Ht).call(this,{type:"fetch",meta:(h=l.fetchOptions)==null?void 0:h.meta}),A(this,be,j0({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,onCancel:b=>{b instanceof Uu&&b.revert&&this.setState({..._(this,is),fetchStatus:"idle"}),n.abort()},onFail:(b,N)=>{q(this,St,Ht).call(this,{type:"failed",failureCount:b,error:N})},onPause:()=>{q(this,St,Ht).call(this,{type:"pause"})},onContinue:()=>{q(this,St,Ht).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0}));try{const b=await _(this,be).start();if(b===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(b),(f=(m=_(this,ut).config).onSuccess)==null||f.call(m,b,this),(y=(x=_(this,ut).config).onSettled)==null||y.call(x,b,this.state.error,this),b}catch(b){if(b instanceof Uu){if(b.silent)return _(this,be).promise;if(b.revert){if(this.state.data===void 0)throw b;return this.state.data}}throw q(this,St,Ht).call(this,{type:"error",error:b}),(p=(w=_(this,ut).config).onError)==null||p.call(w,b,this),(v=(g=_(this,ut).config).onSettled)==null||v.call(g,this.state.data,b,this),b}finally{this.scheduleGc()}}},ln=new WeakMap,is=new WeakMap,ut=new WeakMap,un=new WeakMap,be=new WeakMap,$i=new WeakMap,cn=new WeakMap,St=new WeakSet,Ht=function(e){const r=n=>{switch(e.type){case"failed":return{...n,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...k0(n.data,this.options),fetchMeta:e.meta??null};case"success":const s={...n,data:e.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return A(this,is,e.manual?s:void 0),s;case"error":const i=e.error;return{...n,error:i,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...e.state}}};this.state=r(this.state),Ce.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),_(this,ut).notify({query:this,type:"updated",action:e})})},Xf);function k0(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:_0(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function Kh(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,r=e!==void 0,n=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var He,K,Di,Ue,dn,as,Qt,br,Ui,os,ls,hn,fn,_r,us,J,Qs,Mu,Fu,Bu,zu,Wu,Vu,Hu,N0,Zf,Yx=(Zf=class extends qi{constructor(e,r){super();F(this,J);F(this,He);F(this,K);F(this,Di);F(this,Ue);F(this,dn);F(this,as);F(this,Qt);F(this,br);F(this,Ui);F(this,os);F(this,ls);F(this,hn);F(this,fn);F(this,_r);F(this,us,new Set);this.options=r,A(this,He,e),A(this,br,null),A(this,Qt,Du()),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(_(this,K).addObserver(this),Gh(_(this,K),this.options)?q(this,J,Qs).call(this):this.updateResult(),q(this,J,zu).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return qu(_(this,K),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return qu(_(this,K),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,q(this,J,Wu).call(this),q(this,J,Vu).call(this),_(this,K).removeObserver(this)}setOptions(e){const r=this.options,n=_(this,K);if(this.options=_(this,He).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof ct(this.options.enabled,_(this,K))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");q(this,J,Hu).call(this),_(this,K).setOptions(this.options),r._defaulted&&!Iu(this.options,r)&&_(this,He).getQueryCache().notify({type:"observerOptionsUpdated",query:_(this,K),observer:this});const s=this.hasListeners();s&&Qh(_(this,K),n,this.options,r)&&q(this,J,Qs).call(this),this.updateResult(),s&&(_(this,K)!==n||ct(this.options.enabled,_(this,K))!==ct(r.enabled,_(this,K))||Dr(this.options.staleTime,_(this,K))!==Dr(r.staleTime,_(this,K)))&&q(this,J,Mu).call(this);const i=q(this,J,Fu).call(this);s&&(_(this,K)!==n||ct(this.options.enabled,_(this,K))!==ct(r.enabled,_(this,K))||i!==_(this,_r))&&q(this,J,Bu).call(this,i)}getOptimisticResult(e){const r=_(this,He).getQueryCache().build(_(this,He),e),n=this.createResult(r,e);return Zx(this,n)&&(A(this,Ue,n),A(this,as,this.options),A(this,dn,_(this,K).state)),n}getCurrentResult(){return _(this,Ue)}trackResult(e,r){return new Proxy(e,{get:(n,s)=>(this.trackProp(s),r==null||r(s),s==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&_(this,Qt).status==="pending"&&_(this,Qt).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(n,s))})}trackProp(e){_(this,us).add(e)}getCurrentQuery(){return _(this,K)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const r=_(this,He).defaultQueryOptions(e),n=_(this,He).getQueryCache().build(_(this,He),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(e){return q(this,J,Qs).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),_(this,Ue)))}createResult(e,r){var U;const n=_(this,K),s=this.options,i=_(this,Ue),a=_(this,dn),l=_(this,as),c=e!==n?e.state:_(this,Di),{state:d}=e;let h={...d},m=!1,f;if(r._optimisticResults){const S=this.hasListeners(),V=!S&&Gh(e,r),re=S&&Qh(e,n,r,s);(V||re)&&(h={...h,...k0(d.data,e.options)}),r._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:x,errorUpdatedAt:y,status:w}=h;f=h.data;let p=!1;if(r.placeholderData!==void 0&&f===void 0&&w==="pending"){let S;i!=null&&i.isPlaceholderData&&r.placeholderData===(l==null?void 0:l.placeholderData)?(S=i.data,p=!0):S=typeof r.placeholderData=="function"?r.placeholderData((U=_(this,ls))==null?void 0:U.state.data,_(this,ls)):r.placeholderData,S!==void 0&&(w="success",f=$u(i==null?void 0:i.data,S,r),m=!0)}if(r.select&&f!==void 0&&!p)if(i&&f===(a==null?void 0:a.data)&&r.select===_(this,Ui))f=_(this,os);else try{A(this,Ui,r.select),f=r.select(f),f=$u(i==null?void 0:i.data,f,r),A(this,os,f),A(this,br,null)}catch(S){A(this,br,S)}_(this,br)&&(x=_(this,br),f=_(this,os),y=Date.now(),w="error");const g=h.fetchStatus==="fetching",v=w==="pending",b=w==="error",N=v&&g,E=f!==void 0,C={status:w,fetchStatus:h.fetchStatus,isPending:v,isSuccess:w==="success",isError:b,isInitialLoading:N,isLoading:N,data:f,dataUpdatedAt:h.dataUpdatedAt,error:x,errorUpdatedAt:y,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>c.dataUpdateCount||h.errorUpdateCount>c.errorUpdateCount,isFetching:g,isRefetching:g&&!v,isLoadingError:b&&!E,isPaused:h.fetchStatus==="paused",isPlaceholderData:m,isRefetchError:b&&E,isStale:cd(e,r),refetch:this.refetch,promise:_(this,Qt),isEnabled:ct(r.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const S=me=>{C.status==="error"?me.reject(C.error):C.data!==void 0&&me.resolve(C.data)},V=()=>{const me=A(this,Qt,C.promise=Du());S(me)},re=_(this,Qt);switch(re.status){case"pending":e.queryHash===n.queryHash&&S(re);break;case"fulfilled":(C.status==="error"||C.data!==re.value)&&V();break;case"rejected":(C.status!=="error"||C.error!==re.reason)&&V();break}}return C}updateResult(){const e=_(this,Ue),r=this.createResult(_(this,K),this.options);if(A(this,dn,_(this,K).state),A(this,as,this.options),_(this,dn).data!==void 0&&A(this,ls,_(this,K)),Iu(r,e))return;A(this,Ue,r);const n=()=>{if(!e)return!0;const{notifyOnChangeProps:s}=this.options,i=typeof s=="function"?s():s;if(i==="all"||!i&&!_(this,us).size)return!0;const a=new Set(i??_(this,us));return this.options.throwOnError&&a.add("error"),Object.keys(_(this,Ue)).some(l=>{const u=l;return _(this,Ue)[u]!==e[u]&&a.has(u)})};q(this,J,N0).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&q(this,J,zu).call(this)}},He=new WeakMap,K=new WeakMap,Di=new WeakMap,Ue=new WeakMap,dn=new WeakMap,as=new WeakMap,Qt=new WeakMap,br=new WeakMap,Ui=new WeakMap,os=new WeakMap,ls=new WeakMap,hn=new WeakMap,fn=new WeakMap,_r=new WeakMap,us=new WeakMap,J=new WeakSet,Qs=function(e){q(this,J,Hu).call(this);let r=_(this,K).fetch(this.options,e);return e!=null&&e.throwOnError||(r=r.catch(qe)),r},Mu=function(){q(this,J,Wu).call(this);const e=Dr(this.options.staleTime,_(this,K));if(_n||_(this,Ue).isStale||!Au(e))return;const n=x0(_(this,Ue).dataUpdatedAt,e)+1;A(this,hn,nn.setTimeout(()=>{_(this,Ue).isStale||this.updateResult()},n))},Fu=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(_(this,K)):this.options.refetchInterval)??!1},Bu=function(e){q(this,J,Vu).call(this),A(this,_r,e),!(_n||ct(this.options.enabled,_(this,K))===!1||!Au(_(this,_r))||_(this,_r)===0)&&A(this,fn,nn.setInterval(()=>{(this.options.refetchIntervalInBackground||ud.isFocused())&&q(this,J,Qs).call(this)},_(this,_r)))},zu=function(){q(this,J,Mu).call(this),q(this,J,Bu).call(this,q(this,J,Fu).call(this))},Wu=function(){_(this,hn)&&(nn.clearTimeout(_(this,hn)),A(this,hn,void 0))},Vu=function(){_(this,fn)&&(nn.clearInterval(_(this,fn)),A(this,fn,void 0))},Hu=function(){const e=_(this,He).getQueryCache().build(_(this,He),this.options);if(e===_(this,K))return;const r=_(this,K);A(this,K,e),A(this,Di,e.state),this.hasListeners()&&(r==null||r.removeObserver(this),e.addObserver(this))},N0=function(e){Ce.batch(()=>{e.listeners&&this.listeners.forEach(r=>{r(_(this,Ue))}),_(this,He).getQueryCache().notify({query:_(this,K),type:"observerResultsUpdated"})})},Zf);function Xx(t,e){return ct(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function Gh(t,e){return Xx(t,e)||t.state.data!==void 0&&qu(t,e,e.refetchOnMount)}function qu(t,e,r){if(ct(e.enabled,t)!==!1&&Dr(e.staleTime,t)!=="static"){const n=typeof r=="function"?r(t):r;return n==="always"||n!==!1&&cd(t,e)}return!1}function Qh(t,e,r,n){return(t!==e||ct(n.enabled,t)===!1)&&(!r.suspense||t.state.status!=="error")&&cd(t,r)}function cd(t,e){return ct(e.enabled,t)!==!1&&t.isStaleByTime(Dr(e.staleTime,t))}function Zx(t,e){return!Iu(t.getCurrentResult(),e)}function Jh(t){return{onFetch:(e,r)=>{var d,h,m,f,x;const n=e.options,s=(m=(h=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:h.fetchMore)==null?void 0:m.direction,i=((f=e.state.data)==null?void 0:f.pages)||[],a=((x=e.state.data)==null?void 0:x.pageParams)||[];let l={pages:[],pageParams:[]},u=0;const c=async()=>{let y=!1;const w=v=>{Object.defineProperty(v,"signal",{enumerable:!0,get:()=>(e.signal.aborted?y=!0:e.signal.addEventListener("abort",()=>{y=!0}),e.signal)})},p=b0(e.options,e.fetchOptions),g=async(v,b,N)=>{if(y)return Promise.reject();if(b==null&&v.pages.length)return Promise.resolve(v);const P=(()=>{const V={client:e.client,queryKey:e.queryKey,pageParam:b,direction:N?"backward":"forward",meta:e.options.meta};return w(V),V})(),C=await p(P),{maxPages:U}=e.options,S=N?Wx:zx;return{pages:S(v.pages,C,U),pageParams:S(v.pageParams,b,U)}};if(s&&i.length){const v=s==="backward",b=v?ew:Yh,N={pages:i,pageParams:a},E=b(n,N);l=await g(N,E,v)}else{const v=t??i.length;do{const b=u===0?a[0]??n.initialPageParam:Yh(n,l);if(u>0&&b==null)break;l=await g(l,b),u++}while(u<v)}return l};e.options.persister?e.fetchFn=()=>{var y,w;return(w=(y=e.options).persister)==null?void 0:w.call(y,c,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},r)}:e.fetchFn=c}}}function Yh(t,{pages:e,pageParams:r}){const n=e.length-1;return e.length>0?t.getNextPageParam(e[n],e,r[n],r):void 0}function ew(t,{pages:e,pageParams:r}){var n;return e.length>0?(n=t.getPreviousPageParam)==null?void 0:n.call(t,e[0],e,r[0],r):void 0}var Mi,Dt,Me,pn,Ut,hr,ep,tw=(ep=class extends S0{constructor(e){super();F(this,Ut);F(this,Mi);F(this,Dt);F(this,Me);F(this,pn);A(this,Mi,e.client),this.mutationId=e.mutationId,A(this,Me,e.mutationCache),A(this,Dt,[]),this.state=e.state||rw(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){_(this,Dt).includes(e)||(_(this,Dt).push(e),this.clearGcTimeout(),_(this,Me).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){A(this,Dt,_(this,Dt).filter(r=>r!==e)),this.scheduleGc(),_(this,Me).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){_(this,Dt).length||(this.state.status==="pending"?this.scheduleGc():_(this,Me).remove(this))}continue(){var e;return((e=_(this,pn))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var a,l,u,c,d,h,m,f,x,y,w,p,g,v,b,N,E,P,C,U;const r=()=>{q(this,Ut,hr).call(this,{type:"continue"})},n={client:_(this,Mi),meta:this.options.meta,mutationKey:this.options.mutationKey};A(this,pn,j0({fn:()=>this.options.mutationFn?this.options.mutationFn(e,n):Promise.reject(new Error("No mutationFn found")),onFail:(S,V)=>{q(this,Ut,hr).call(this,{type:"failed",failureCount:S,error:V})},onPause:()=>{q(this,Ut,hr).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>_(this,Me).canRun(this)}));const s=this.state.status==="pending",i=!_(this,pn).canStart();try{if(s)r();else{q(this,Ut,hr).call(this,{type:"pending",variables:e,isPaused:i}),await((l=(a=_(this,Me).config).onMutate)==null?void 0:l.call(a,e,this,n));const V=await((c=(u=this.options).onMutate)==null?void 0:c.call(u,e,n));V!==this.state.context&&q(this,Ut,hr).call(this,{type:"pending",context:V,variables:e,isPaused:i})}const S=await _(this,pn).start();return await((h=(d=_(this,Me).config).onSuccess)==null?void 0:h.call(d,S,e,this.state.context,this,n)),await((f=(m=this.options).onSuccess)==null?void 0:f.call(m,S,e,this.state.context,n)),await((y=(x=_(this,Me).config).onSettled)==null?void 0:y.call(x,S,null,this.state.variables,this.state.context,this,n)),await((p=(w=this.options).onSettled)==null?void 0:p.call(w,S,null,e,this.state.context,n)),q(this,Ut,hr).call(this,{type:"success",data:S}),S}catch(S){try{throw await((v=(g=_(this,Me).config).onError)==null?void 0:v.call(g,S,e,this.state.context,this,n)),await((N=(b=this.options).onError)==null?void 0:N.call(b,S,e,this.state.context,n)),await((P=(E=_(this,Me).config).onSettled)==null?void 0:P.call(E,void 0,S,this.state.variables,this.state.context,this,n)),await((U=(C=this.options).onSettled)==null?void 0:U.call(C,void 0,S,e,this.state.context,n)),S}finally{q(this,Ut,hr).call(this,{type:"error",error:S})}}finally{_(this,Me).runNext(this)}}},Mi=new WeakMap,Dt=new WeakMap,Me=new WeakMap,pn=new WeakMap,Ut=new WeakSet,hr=function(e){const r=n=>{switch(e.type){case"failed":return{...n,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...n,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:e.error,failureCount:n.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Ce.batch(()=>{_(this,Dt).forEach(n=>{n.onMutationUpdate(e)}),_(this,Me).notify({mutation:this,type:"updated",action:e})})},ep);function rw(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Jt,kt,Fi,tp,nw=(tp=class extends qi{constructor(e={}){super();F(this,Jt);F(this,kt);F(this,Fi);this.config=e,A(this,Jt,new Set),A(this,kt,new Map),A(this,Fi,0)}build(e,r,n){const s=new tw({client:e,mutationCache:this,mutationId:++Ji(this,Fi)._,options:e.defaultMutationOptions(r),state:n});return this.add(s),s}add(e){_(this,Jt).add(e);const r=pa(e);if(typeof r=="string"){const n=_(this,kt).get(r);n?n.push(e):_(this,kt).set(r,[e])}this.notify({type:"added",mutation:e})}remove(e){if(_(this,Jt).delete(e)){const r=pa(e);if(typeof r=="string"){const n=_(this,kt).get(r);if(n)if(n.length>1){const s=n.indexOf(e);s!==-1&&n.splice(s,1)}else n[0]===e&&_(this,kt).delete(r)}}this.notify({type:"removed",mutation:e})}canRun(e){const r=pa(e);if(typeof r=="string"){const n=_(this,kt).get(r),s=n==null?void 0:n.find(i=>i.state.status==="pending");return!s||s===e}else return!0}runNext(e){var n;const r=pa(e);if(typeof r=="string"){const s=(n=_(this,kt).get(r))==null?void 0:n.find(i=>i!==e&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Ce.batch(()=>{_(this,Jt).forEach(e=>{this.notify({type:"removed",mutation:e})}),_(this,Jt).clear(),_(this,kt).clear()})}getAll(){return Array.from(_(this,Jt))}find(e){const r={exact:!0,...e};return this.getAll().find(n=>Vh(r,n))}findAll(e={}){return this.getAll().filter(r=>Vh(e,r))}notify(e){Ce.batch(()=>{this.listeners.forEach(r=>{r(e)})})}resumePausedMutations(){const e=this.getAll().filter(r=>r.state.isPaused);return Ce.batch(()=>Promise.all(e.map(r=>r.continue().catch(qe))))}},Jt=new WeakMap,kt=new WeakMap,Fi=new WeakMap,tp);function pa(t){var e;return(e=t.options.scope)==null?void 0:e.id}var Mt,rp,sw=(rp=class extends qi{constructor(e={}){super();F(this,Mt);this.config=e,A(this,Mt,new Map)}build(e,r,n){const s=r.queryKey,i=r.queryHash??od(s,r);let a=this.get(i);return a||(a=new Jx({client:e,queryKey:s,queryHash:i,options:e.defaultQueryOptions(r),state:n,defaultOptions:e.getQueryDefaults(s)}),this.add(a)),a}add(e){_(this,Mt).has(e.queryHash)||(_(this,Mt).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const r=_(this,Mt).get(e.queryHash);r&&(e.destroy(),r===e&&_(this,Mt).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Ce.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return _(this,Mt).get(e)}getAll(){return[..._(this,Mt).values()]}find(e){const r={exact:!0,...e};return this.getAll().find(n=>Wh(r,n))}findAll(e={}){const r=this.getAll();return Object.keys(e).length>0?r.filter(n=>Wh(e,n)):r}notify(e){Ce.batch(()=>{this.listeners.forEach(r=>{r(e)})})}onFocus(){Ce.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Ce.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Mt=new WeakMap,rp),he,jr,Sr,cs,ds,kr,hs,fs,np,iw=(np=class{constructor(t={}){F(this,he);F(this,jr);F(this,Sr);F(this,cs);F(this,ds);F(this,kr);F(this,hs);F(this,fs);A(this,he,t.queryCache||new sw),A(this,jr,t.mutationCache||new nw),A(this,Sr,t.defaultOptions||{}),A(this,cs,new Map),A(this,ds,new Map),A(this,kr,0)}mount(){Ji(this,kr)._++,_(this,kr)===1&&(A(this,hs,ud.subscribe(async t=>{t&&(await this.resumePausedMutations(),_(this,he).onFocus())})),A(this,fs,co.subscribe(async t=>{t&&(await this.resumePausedMutations(),_(this,he).onOnline())})))}unmount(){var t,e;Ji(this,kr)._--,_(this,kr)===0&&((t=_(this,hs))==null||t.call(this),A(this,hs,void 0),(e=_(this,fs))==null||e.call(this),A(this,fs,void 0))}isFetching(t){return _(this,he).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return _(this,jr).findAll({...t,status:"pending"}).length}getQueryData(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=_(this,he).get(e.queryHash))==null?void 0:r.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),r=_(this,he).build(this,e),n=r.state.data;return n===void 0?this.fetchQuery(t):(t.revalidateIfStale&&r.isStaleByTime(Dr(e.staleTime,r))&&this.prefetchQuery(e),Promise.resolve(n))}getQueriesData(t){return _(this,he).findAll(t).map(({queryKey:e,state:r})=>{const n=r.data;return[e,n]})}setQueryData(t,e,r){const n=this.defaultQueryOptions({queryKey:t}),s=_(this,he).get(n.queryHash),i=s==null?void 0:s.state.data,a=Mx(e,i);if(a!==void 0)return _(this,he).build(this,n).setData(a,{...r,manual:!0})}setQueriesData(t,e,r){return Ce.batch(()=>_(this,he).findAll(t).map(({queryKey:n})=>[n,this.setQueryData(n,e,r)]))}getQueryState(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=_(this,he).get(e.queryHash))==null?void 0:r.state}removeQueries(t){const e=_(this,he);Ce.batch(()=>{e.findAll(t).forEach(r=>{e.remove(r)})})}resetQueries(t,e){const r=_(this,he);return Ce.batch(()=>(r.findAll(t).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const r={revert:!0,...e},n=Ce.batch(()=>_(this,he).findAll(t).map(s=>s.cancel(r)));return Promise.all(n).then(qe).catch(qe)}invalidateQueries(t,e={}){return Ce.batch(()=>(_(this,he).findAll(t).forEach(r=>{r.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const r={...e,cancelRefetch:e.cancelRefetch??!0},n=Ce.batch(()=>_(this,he).findAll(t).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,r);return r.throwOnError||(i=i.catch(qe)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(n).then(qe)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const r=_(this,he).build(this,e);return r.isStaleByTime(Dr(e.staleTime,r))?r.fetch(e):Promise.resolve(r.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(qe).catch(qe)}fetchInfiniteQuery(t){return t.behavior=Jh(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(qe).catch(qe)}ensureInfiniteQueryData(t){return t.behavior=Jh(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return co.isOnline()?_(this,jr).resumePausedMutations():Promise.resolve()}getQueryCache(){return _(this,he)}getMutationCache(){return _(this,jr)}getDefaultOptions(){return _(this,Sr)}setDefaultOptions(t){A(this,Sr,t)}setQueryDefaults(t,e){_(this,cs).set(Ei(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[..._(this,cs).values()],r={};return e.forEach(n=>{Ci(t,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(t,e){_(this,ds).set(Ei(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[..._(this,ds).values()],r={};return e.forEach(n=>{Ci(t,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(t){if(t._defaulted)return t;const e={..._(this,Sr).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=od(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===ld&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{..._(this,Sr).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){_(this,he).clear(),_(this,jr).clear()}},he=new WeakMap,jr=new WeakMap,Sr=new WeakMap,cs=new WeakMap,ds=new WeakMap,kr=new WeakMap,hs=new WeakMap,fs=new WeakMap,np),E0=j.createContext(void 0),aw=t=>{const e=j.useContext(E0);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},ow=({client:t,children:e})=>(j.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),o.jsx(E0.Provider,{value:t,children:e})),C0=j.createContext(!1),lw=()=>j.useContext(C0);C0.Provider;function uw(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var cw=j.createContext(uw()),dw=()=>j.useContext(cw),hw=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},fw=t=>{j.useEffect(()=>{t.clearReset()},[t])},pw=({result:t,errorResetBoundary:e,throwOnError:r,query:n,suspense:s})=>t.isError&&!e.isReset()&&!t.isFetching&&n&&(s&&t.data===void 0||Vx(r,[t.error,n])),mw=t=>{if(t.suspense){const r=s=>s==="static"?s:Math.max(s??1e3,1e3),n=t.staleTime;t.staleTime=typeof n=="function"?(...s)=>r(n(...s)):r(n),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},gw=(t,e)=>t.isLoading&&t.isFetching&&!e,vw=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,Xh=(t,e,r)=>e.fetchOptimistic(t).catch(()=>{r.clearReset()});function yw(t,e,r){var h,m,f,x,y;const n=lw(),s=dw(),i=aw(),a=i.defaultQueryOptions(t);(m=(h=i.getDefaultOptions().queries)==null?void 0:h._experimental_beforeQuery)==null||m.call(h,a),a._optimisticResults=n?"isRestoring":"optimistic",mw(a),hw(a,s),fw(s);const l=!i.getQueryCache().get(a.queryHash),[u]=j.useState(()=>new e(i,a)),c=u.getOptimisticResult(a),d=!n&&t.subscribed!==!1;if(j.useSyncExternalStore(j.useCallback(w=>{const p=d?u.subscribe(Ce.batchCalls(w)):qe;return u.updateResult(),p},[u,d]),()=>u.getCurrentResult(),()=>u.getCurrentResult()),j.useEffect(()=>{u.setOptions(a)},[a,u]),vw(a,c))throw Xh(a,u,s);if(pw({result:c,errorResetBoundary:s,throwOnError:a.throwOnError,query:i.getQueryCache().get(a.queryHash),suspense:a.suspense}))throw c.error;if((x=(f=i.getDefaultOptions().queries)==null?void 0:f._experimental_afterQuery)==null||x.call(f,a,c),a.experimental_prefetchInRender&&!_n&&gw(c,n)){const w=l?Xh(a,u,s):(y=i.getQueryCache().get(a.queryHash))==null?void 0:y.promise;w==null||w.catch(qe).finally(()=>{u.updateResult()})}return a.notifyOnChangeProps?c:u.trackResult(c)}function dd(t,e){return yw(t,Yx)}/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Pi(){return Pi=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Pi.apply(this,arguments)}var Cr;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Cr||(Cr={}));const Zh="popstate";function xw(t){t===void 0&&(t={});function e(n,s){let{pathname:i,search:a,hash:l}=n.location;return Ku("",{pathname:i,search:a,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:ho(s)}return bw(e,r,null,t)}function ue(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function P0(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function ww(){return Math.random().toString(36).substr(2,8)}function ef(t,e){return{usr:t.state,key:t.key,idx:e}}function Ku(t,e,r,n){return r===void 0&&(r=null),Pi({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Es(e):e,{state:r,key:e&&e.key||n||ww()})}function ho(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Es(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function bw(t,e,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:i=!1}=n,a=s.history,l=Cr.Pop,u=null,c=d();c==null&&(c=0,a.replaceState(Pi({},a.state,{idx:c}),""));function d(){return(a.state||{idx:null}).idx}function h(){l=Cr.Pop;let w=d(),p=w==null?null:w-c;c=w,u&&u({action:l,location:y.location,delta:p})}function m(w,p){l=Cr.Push;let g=Ku(y.location,w,p);c=d()+1;let v=ef(g,c),b=y.createHref(g);try{a.pushState(v,"",b)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;s.location.assign(b)}i&&u&&u({action:l,location:y.location,delta:1})}function f(w,p){l=Cr.Replace;let g=Ku(y.location,w,p);c=d();let v=ef(g,c),b=y.createHref(g);a.replaceState(v,"",b),i&&u&&u({action:l,location:y.location,delta:0})}function x(w){let p=s.location.origin!=="null"?s.location.origin:s.location.href,g=typeof w=="string"?w:ho(w);return g=g.replace(/ $/,"%20"),ue(p,"No window.location.(origin|href) available to create URL for href: "+g),new URL(g,p)}let y={get action(){return l},get location(){return t(s,a)},listen(w){if(u)throw new Error("A history only accepts one active listener");return s.addEventListener(Zh,h),u=w,()=>{s.removeEventListener(Zh,h),u=null}},createHref(w){return e(s,w)},createURL:x,encodeLocation(w){let p=x(w);return{pathname:p.pathname,search:p.search,hash:p.hash}},push:m,replace:f,go(w){return a.go(w)}};return y}var tf;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(tf||(tf={}));function _w(t,e,r){return r===void 0&&(r="/"),jw(t,e,r)}function jw(t,e,r,n){let s=typeof e=="string"?Es(e):e,i=bs(s.pathname||"/",r);if(i==null)return null;let a=O0(t);Sw(a);let l=null;for(let u=0;l==null&&u<a.length;++u){let c=Lw(i);l=Aw(a[u],c)}return l}function O0(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(i,a,l)=>{let u={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:a,route:i};u.relativePath.startsWith("/")&&(ue(u.relativePath.startsWith(n),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(n.length));let c=Ur([n,u.relativePath]),d=r.concat(u);i.children&&i.children.length>0&&(ue(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),O0(i.children,e,d,c)),!(i.path==null&&!i.index)&&e.push({path:c,score:Tw(c,i.index),routesMeta:d})};return t.forEach((i,a)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))s(i,a);else for(let u of T0(i.path))s(i,a,u)}),e}function T0(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let a=T0(n.join("/")),l=[];return l.push(...a.map(u=>u===""?i:[i,u].join("/"))),s&&l.push(...a),l.map(u=>t.startsWith("/")&&u===""?"/":u)}function Sw(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:Rw(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const kw=/^:[\w-]+$/,Nw=3,Ew=2,Cw=1,Pw=10,Ow=-2,rf=t=>t==="*";function Tw(t,e){let r=t.split("/"),n=r.length;return r.some(rf)&&(n+=Ow),e&&(n+=Ew),r.filter(s=>!rf(s)).reduce((s,i)=>s+(kw.test(i)?Nw:i===""?Cw:Pw),n)}function Rw(t,e){return t.length===e.length&&t.slice(0,-1).every((n,s)=>n===e[s])?t[t.length-1]-e[e.length-1]:0}function Aw(t,e,r){let{routesMeta:n}=t,s={},i="/",a=[];for(let l=0;l<n.length;++l){let u=n[l],c=l===n.length-1,d=i==="/"?e:e.slice(i.length)||"/",h=Gu({path:u.relativePath,caseSensitive:u.caseSensitive,end:c},d),m=u.route;if(!h)return null;Object.assign(s,h.params),a.push({params:s,pathname:Ur([i,h.pathname]),pathnameBase:Mw(Ur([i,h.pathnameBase])),route:m}),h.pathnameBase!=="/"&&(i=Ur([i,h.pathnameBase]))}return a}function Gu(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=Iw(t.path,t.caseSensitive,t.end),s=e.match(r);if(!s)return null;let i=s[0],a=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:n.reduce((c,d,h)=>{let{paramName:m,isOptional:f}=d;if(m==="*"){let y=l[h]||"";a=i.slice(0,i.length-y.length).replace(/(.)\/+$/,"$1")}const x=l[h];return f&&!x?c[m]=void 0:c[m]=(x||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:a,pattern:t}}function Iw(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),P0(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,l,u)=>(n.push({paramName:l,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),n]}function Lw(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return P0(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function bs(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function $w(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:s=""}=typeof t=="string"?Es(t):t;return{pathname:r?r.startsWith("/")?r:Dw(r,e):e,search:Fw(n),hash:Bw(s)}}function Dw(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function jl(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Uw(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function hd(t,e){let r=Uw(t);return e?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function fd(t,e,r,n){n===void 0&&(n=!1);let s;typeof t=="string"?s=Es(t):(s=Pi({},t),ue(!s.pathname||!s.pathname.includes("?"),jl("?","pathname","search",s)),ue(!s.pathname||!s.pathname.includes("#"),jl("#","pathname","hash",s)),ue(!s.search||!s.search.includes("#"),jl("#","search","hash",s)));let i=t===""||s.pathname==="",a=i?"/":s.pathname,l;if(a==null)l=r;else{let h=e.length-1;if(!n&&a.startsWith("..")){let m=a.split("/");for(;m[0]==="..";)m.shift(),h-=1;s.pathname=m.join("/")}l=h>=0?e[h]:"/"}let u=$w(s,l),c=a&&a!=="/"&&a.endsWith("/"),d=(i||a===".")&&r.endsWith("/");return!u.pathname.endsWith("/")&&(c||d)&&(u.pathname+="/"),u}const Ur=t=>t.join("/").replace(/\/\/+/g,"/"),Mw=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Fw=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Bw=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function zw(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const R0=["post","put","patch","delete"];new Set(R0);const Ww=["get",...R0];new Set(Ww);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Oi(){return Oi=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Oi.apply(this,arguments)}const $o=j.createContext(null),A0=j.createContext(null),ar=j.createContext(null),Do=j.createContext(null),or=j.createContext({outlet:null,matches:[],isDataRoute:!1}),I0=j.createContext(null);function Vw(t,e){let{relative:r}=e===void 0?{}:e;Cs()||ue(!1);let{basename:n,navigator:s}=j.useContext(ar),{hash:i,pathname:a,search:l}=Uo(t,{relative:r}),u=a;return n!=="/"&&(u=a==="/"?n:Ur([n,a])),s.createHref({pathname:u,search:l,hash:i})}function Cs(){return j.useContext(Do)!=null}function kn(){return Cs()||ue(!1),j.useContext(Do).location}function L0(t){j.useContext(ar).static||j.useLayoutEffect(t)}function Wt(){let{isDataRoute:t}=j.useContext(or);return t?sb():Hw()}function Hw(){Cs()||ue(!1);let t=j.useContext($o),{basename:e,future:r,navigator:n}=j.useContext(ar),{matches:s}=j.useContext(or),{pathname:i}=kn(),a=JSON.stringify(hd(s,r.v7_relativeSplatPath)),l=j.useRef(!1);return L0(()=>{l.current=!0}),j.useCallback(function(c,d){if(d===void 0&&(d={}),!l.current)return;if(typeof c=="number"){n.go(c);return}let h=fd(c,JSON.parse(a),i,d.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Ur([e,h.pathname])),(d.replace?n.replace:n.push)(h,d.state,d)},[e,n,a,i,t])}function qw(){let{matches:t}=j.useContext(or),e=t[t.length-1];return e?e.params:{}}function Uo(t,e){let{relative:r}=e===void 0?{}:e,{future:n}=j.useContext(ar),{matches:s}=j.useContext(or),{pathname:i}=kn(),a=JSON.stringify(hd(s,n.v7_relativeSplatPath));return j.useMemo(()=>fd(t,JSON.parse(a),i,r==="path"),[t,a,i,r])}function Kw(t,e){return Gw(t,e)}function Gw(t,e,r,n){Cs()||ue(!1);let{navigator:s}=j.useContext(ar),{matches:i}=j.useContext(or),a=i[i.length-1],l=a?a.params:{};a&&a.pathname;let u=a?a.pathnameBase:"/";a&&a.route;let c=kn(),d;if(e){var h;let w=typeof e=="string"?Es(e):e;u==="/"||(h=w.pathname)!=null&&h.startsWith(u)||ue(!1),d=w}else d=c;let m=d.pathname||"/",f=m;if(u!=="/"){let w=u.replace(/^\//,"").split("/");f="/"+m.replace(/^\//,"").split("/").slice(w.length).join("/")}let x=_w(t,{pathname:f}),y=Zw(x&&x.map(w=>Object.assign({},w,{params:Object.assign({},l,w.params),pathname:Ur([u,s.encodeLocation?s.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?u:Ur([u,s.encodeLocation?s.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),i,r,n);return e&&y?j.createElement(Do.Provider,{value:{location:Oi({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Cr.Pop}},y):y}function Qw(){let t=nb(),e=zw(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},e),r?j.createElement("pre",{style:s},r):null,null)}const Jw=j.createElement(Qw,null);class Yw extends j.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?j.createElement(or.Provider,{value:this.props.routeContext},j.createElement(I0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Xw(t){let{routeContext:e,match:r,children:n}=t,s=j.useContext($o);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),j.createElement(or.Provider,{value:e},n)}function Zw(t,e,r,n){var s;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var i;if(!r)return null;if(r.errors)t=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let a=t,l=(s=r)==null?void 0:s.errors;if(l!=null){let d=a.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id])!==void 0);d>=0||ue(!1),a=a.slice(0,Math.min(a.length,d+1))}let u=!1,c=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<a.length;d++){let h=a[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=d),h.route.id){let{loaderData:m,errors:f}=r,x=h.route.loader&&m[h.route.id]===void 0&&(!f||f[h.route.id]===void 0);if(h.route.lazy||x){u=!0,c>=0?a=a.slice(0,c+1):a=[a[0]];break}}}return a.reduceRight((d,h,m)=>{let f,x=!1,y=null,w=null;r&&(f=l&&h.route.id?l[h.route.id]:void 0,y=h.route.errorElement||Jw,u&&(c<0&&m===0?(ib("route-fallback"),x=!0,w=null):c===m&&(x=!0,w=h.route.hydrateFallbackElement||null)));let p=e.concat(a.slice(0,m+1)),g=()=>{let v;return f?v=y:x?v=w:h.route.Component?v=j.createElement(h.route.Component,null):h.route.element?v=h.route.element:v=d,j.createElement(Xw,{match:h,routeContext:{outlet:d,matches:p,isDataRoute:r!=null},children:v})};return r&&(h.route.ErrorBoundary||h.route.errorElement||m===0)?j.createElement(Yw,{location:r.location,revalidation:r.revalidation,component:y,error:f,children:g(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):g()},null)}var $0=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}($0||{}),D0=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(D0||{});function eb(t){let e=j.useContext($o);return e||ue(!1),e}function tb(t){let e=j.useContext(A0);return e||ue(!1),e}function rb(t){let e=j.useContext(or);return e||ue(!1),e}function U0(t){let e=rb(),r=e.matches[e.matches.length-1];return r.route.id||ue(!1),r.route.id}function nb(){var t;let e=j.useContext(I0),r=tb(),n=U0();return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function sb(){let{router:t}=eb($0.UseNavigateStable),e=U0(D0.UseNavigateStable),r=j.useRef(!1);return L0(()=>{r.current=!0}),j.useCallback(function(s,i){i===void 0&&(i={}),r.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,Oi({fromRouteId:e},i)))},[t,e])}const nf={};function ib(t,e,r){nf[t]||(nf[t]=!0)}function ab(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function ob(t){let{to:e,replace:r,state:n,relative:s}=t;Cs()||ue(!1);let{future:i,static:a}=j.useContext(ar),{matches:l}=j.useContext(or),{pathname:u}=kn(),c=Wt(),d=fd(e,hd(l,i.v7_relativeSplatPath),u,s==="path"),h=JSON.stringify(d);return j.useEffect(()=>c(JSON.parse(h),{replace:r,state:n,relative:s}),[c,h,s,r,n]),null}function Lt(t){ue(!1)}function lb(t){let{basename:e="/",children:r=null,location:n,navigationType:s=Cr.Pop,navigator:i,static:a=!1,future:l}=t;Cs()&&ue(!1);let u=e.replace(/^\/*/,"/"),c=j.useMemo(()=>({basename:u,navigator:i,static:a,future:Oi({v7_relativeSplatPath:!1},l)}),[u,l,i,a]);typeof n=="string"&&(n=Es(n));let{pathname:d="/",search:h="",hash:m="",state:f=null,key:x="default"}=n,y=j.useMemo(()=>{let w=bs(d,u);return w==null?null:{location:{pathname:w,search:h,hash:m,state:f,key:x},navigationType:s}},[u,d,h,m,f,x,s]);return y==null?null:j.createElement(ar.Provider,{value:c},j.createElement(Do.Provider,{children:r,value:y}))}function ub(t){let{children:e,location:r}=t;return Kw(Qu(e),r)}new Promise(()=>{});function Qu(t,e){e===void 0&&(e=[]);let r=[];return j.Children.forEach(t,(n,s)=>{if(!j.isValidElement(n))return;let i=[...e,s];if(n.type===j.Fragment){r.push.apply(r,Qu(n.props.children,i));return}n.type!==Lt&&ue(!1),!n.props.index||!n.props.children||ue(!1);let a={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(a.children=Qu(n.props.children,i)),r.push(a)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function fo(){return fo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},fo.apply(this,arguments)}function M0(t,e){if(t==null)return{};var r={},n=Object.keys(t),s,i;for(i=0;i<n.length;i++)s=n[i],!(e.indexOf(s)>=0)&&(r[s]=t[s]);return r}function cb(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function db(t,e){return t.button===0&&(!e||e==="_self")&&!cb(t)}const hb=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],fb=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],pb="6";try{window.__reactRouterVersion=pb}catch{}const mb=j.createContext({isTransitioning:!1}),gb="startTransition",sf=kv[gb];function vb(t){let{basename:e,children:r,future:n,window:s}=t,i=j.useRef();i.current==null&&(i.current=xw({window:s,v5Compat:!0}));let a=i.current,[l,u]=j.useState({action:a.action,location:a.location}),{v7_startTransition:c}=n||{},d=j.useCallback(h=>{c&&sf?sf(()=>u(h)):u(h)},[u,c]);return j.useLayoutEffect(()=>a.listen(d),[a,d]),j.useEffect(()=>ab(n),[n]),j.createElement(lb,{basename:e,children:r,location:l.location,navigationType:l.action,navigator:a,future:n})}const yb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",xb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Qe=j.forwardRef(function(e,r){let{onClick:n,relative:s,reloadDocument:i,replace:a,state:l,target:u,to:c,preventScrollReset:d,viewTransition:h}=e,m=M0(e,hb),{basename:f}=j.useContext(ar),x,y=!1;if(typeof c=="string"&&xb.test(c)&&(x=c,yb))try{let v=new URL(window.location.href),b=c.startsWith("//")?new URL(v.protocol+c):new URL(c),N=bs(b.pathname,f);b.origin===v.origin&&N!=null?c=N+b.search+b.hash:y=!0}catch{}let w=Vw(c,{relative:s}),p=bb(c,{replace:a,state:l,target:u,preventScrollReset:d,relative:s,viewTransition:h});function g(v){n&&n(v),v.defaultPrevented||p(v)}return j.createElement("a",fo({},m,{href:x||w,onClick:y||i?n:g,ref:r,target:u}))}),cr=j.forwardRef(function(e,r){let{"aria-current":n="page",caseSensitive:s=!1,className:i="",end:a=!1,style:l,to:u,viewTransition:c,children:d}=e,h=M0(e,fb),m=Uo(u,{relative:h.relative}),f=kn(),x=j.useContext(A0),{navigator:y,basename:w}=j.useContext(ar),p=x!=null&&_b(m)&&c===!0,g=y.encodeLocation?y.encodeLocation(m).pathname:m.pathname,v=f.pathname,b=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;s||(v=v.toLowerCase(),b=b?b.toLowerCase():null,g=g.toLowerCase()),b&&w&&(b=bs(b,w)||b);const N=g!=="/"&&g.endsWith("/")?g.length-1:g.length;let E=v===g||!a&&v.startsWith(g)&&v.charAt(N)==="/",P=b!=null&&(b===g||!a&&b.startsWith(g)&&b.charAt(g.length)==="/"),C={isActive:E,isPending:P,isTransitioning:p},U=E?n:void 0,S;typeof i=="function"?S=i(C):S=[i,E?"active":null,P?"pending":null,p?"transitioning":null].filter(Boolean).join(" ");let V=typeof l=="function"?l(C):l;return j.createElement(Qe,fo({},h,{"aria-current":U,className:S,ref:r,style:V,to:u,viewTransition:c}),typeof d=="function"?d(C):d)});var Ju;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Ju||(Ju={}));var af;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(af||(af={}));function wb(t){let e=j.useContext($o);return e||ue(!1),e}function bb(t,e){let{target:r,replace:n,state:s,preventScrollReset:i,relative:a,viewTransition:l}=e===void 0?{}:e,u=Wt(),c=kn(),d=Uo(t,{relative:a});return j.useCallback(h=>{if(db(h,r)){h.preventDefault();let m=n!==void 0?n:ho(c)===ho(d);u(t,{replace:m,state:s,preventScrollReset:i,relative:a,viewTransition:l})}},[c,u,d,n,s,r,t,i,a,l])}function _b(t,e){e===void 0&&(e={});let r=j.useContext(mb);r==null&&ue(!1);let{basename:n}=wb(Ju.useViewTransitionState),s=Uo(t,{relative:e.relative});if(!r.isTransitioning)return!1;let i=bs(r.currentLocation.pathname,n)||r.currentLocation.pathname,a=bs(r.nextLocation.pathname,n)||r.nextLocation.pathname;return Gu(s.pathname,a)!=null||Gu(s.pathname,i)!=null}const jb={},of=t=>{let e;const r=new Set,n=(d,h)=>{const m=typeof d=="function"?d(e):d;if(!Object.is(m,e)){const f=e;e=h??(typeof m!="object"||m===null)?m:Object.assign({},e,m),r.forEach(x=>x(e,f))}},s=()=>e,u={setState:n,getState:s,getInitialState:()=>c,subscribe:d=>(r.add(d),()=>r.delete(d)),destroy:()=>{(jb?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),r.clear()}},c=e=t(n,s,u);return u},Sb=t=>t?of(t):of;var F0={exports:{}},B0={},z0={exports:{}},W0={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _s=j;function kb(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Nb=typeof Object.is=="function"?Object.is:kb,Eb=_s.useState,Cb=_s.useEffect,Pb=_s.useLayoutEffect,Ob=_s.useDebugValue;function Tb(t,e){var r=e(),n=Eb({inst:{value:r,getSnapshot:e}}),s=n[0].inst,i=n[1];return Pb(function(){s.value=r,s.getSnapshot=e,Sl(s)&&i({inst:s})},[t,r,e]),Cb(function(){return Sl(s)&&i({inst:s}),t(function(){Sl(s)&&i({inst:s})})},[t]),Ob(r),r}function Sl(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!Nb(t,r)}catch{return!0}}function Rb(t,e){return e()}var Ab=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Rb:Tb;W0.useSyncExternalStore=_s.useSyncExternalStore!==void 0?_s.useSyncExternalStore:Ab;z0.exports=W0;var Ib=z0.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mo=j,Lb=Ib;function $b(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Db=typeof Object.is=="function"?Object.is:$b,Ub=Lb.useSyncExternalStore,Mb=Mo.useRef,Fb=Mo.useEffect,Bb=Mo.useMemo,zb=Mo.useDebugValue;B0.useSyncExternalStoreWithSelector=function(t,e,r,n,s){var i=Mb(null);if(i.current===null){var a={hasValue:!1,value:null};i.current=a}else a=i.current;i=Bb(function(){function u(f){if(!c){if(c=!0,d=f,f=n(f),s!==void 0&&a.hasValue){var x=a.value;if(s(x,f))return h=x}return h=f}if(x=h,Db(d,f))return x;var y=n(f);return s!==void 0&&s(x,y)?(d=f,x):(d=f,h=y)}var c=!1,d,h,m=r===void 0?null:r;return[function(){return u(e())},m===null?void 0:function(){return u(m())}]},[e,r,n,s]);var l=Ub(t,i[0],i[1]);return Fb(function(){a.hasValue=!0,a.value=l},[l]),zb(l),l};F0.exports=B0;var Wb=F0.exports;const Vb=ip(Wb),V0={},{useDebugValue:Hb}=gc,{useSyncExternalStoreWithSelector:qb}=Vb;let lf=!1;const Kb=t=>t;function Gb(t,e=Kb,r){(V0?"production":void 0)!=="production"&&r&&!lf&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),lf=!0);const n=qb(t.subscribe,t.getState,t.getServerState||t.getInitialState,e,r);return Hb(n),n}const uf=t=>{(V0?"production":void 0)!=="production"&&typeof t!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const e=typeof t=="function"?Sb(t):t,r=(n,s)=>Gb(e,n,s);return Object.assign(r,e),r},H0=t=>t?uf(t):uf;var Yu=function(t,e){return Yu=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=n[s])},Yu(t,e)};function q0(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Yu(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var po=function(){return po=Object.assign||function(e){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},po.apply(this,arguments)};function Ps(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r}function K0(t,e,r,n){var s=arguments.length,i=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,r,n);else for(var l=t.length-1;l>=0;l--)(a=t[l])&&(i=(s<3?a(i):s>3?a(e,r,i):a(e,r))||i);return s>3&&i&&Object.defineProperty(e,r,i),i}function G0(t,e){return function(r,n){e(r,n,t)}}function Q0(t,e,r,n,s,i){function a(p){if(p!==void 0&&typeof p!="function")throw new TypeError("Function expected");return p}for(var l=n.kind,u=l==="getter"?"get":l==="setter"?"set":"value",c=!e&&t?n.static?t:t.prototype:null,d=e||(c?Object.getOwnPropertyDescriptor(c,n.name):{}),h,m=!1,f=r.length-1;f>=0;f--){var x={};for(var y in n)x[y]=y==="access"?{}:n[y];for(var y in n.access)x.access[y]=n.access[y];x.addInitializer=function(p){if(m)throw new TypeError("Cannot add initializers after decoration has completed");i.push(a(p||null))};var w=(0,r[f])(l==="accessor"?{get:d.get,set:d.set}:d[u],x);if(l==="accessor"){if(w===void 0)continue;if(w===null||typeof w!="object")throw new TypeError("Object expected");(h=a(w.get))&&(d.get=h),(h=a(w.set))&&(d.set=h),(h=a(w.init))&&s.unshift(h)}else(h=a(w))&&(l==="field"?s.unshift(h):d[u]=h)}c&&Object.defineProperty(c,n.name,d),m=!0}function J0(t,e,r){for(var n=arguments.length>2,s=0;s<e.length;s++)r=n?e[s].call(t,r):e[s].call(t);return n?r:void 0}function Y0(t){return typeof t=="symbol"?t:"".concat(t)}function X0(t,e,r){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:r?"".concat(r," ",e):e})}function Z0(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function $(t,e,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function l(d){try{c(n.next(d))}catch(h){a(h)}}function u(d){try{c(n.throw(d))}catch(h){a(h)}}function c(d){d.done?i(d.value):s(d.value).then(l,u)}c((n=n.apply(t,e||[])).next())})}function eg(t,e){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,s,i,a=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return a.next=l(0),a.throw=l(1),a.return=l(2),typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function l(c){return function(d){return u([c,d])}}function u(c){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,c[0]&&(r=0)),r;)try{if(n=1,s&&(i=c[0]&2?s.return:c[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,c[1])).done)return i;switch(s=0,i&&(c=[c[0]&2,i.value]),c[0]){case 0:case 1:i=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,s=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!i||c[1]>i[0]&&c[1]<i[3])){r.label=c[1];break}if(c[0]===6&&r.label<i[1]){r.label=i[1],i=c;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(c);break}i[2]&&r.ops.pop(),r.trys.pop();continue}c=e.call(t,r)}catch(d){c=[6,d],s=0}finally{n=i=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}var Fo=Object.create?function(t,e,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(e,r);(!s||("get"in s?!e.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,s)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]};function tg(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&Fo(e,t,r)}function mo(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function pd(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),s,i=[],a;try{for(;(e===void 0||e-- >0)&&!(s=n.next()).done;)i.push(s.value)}catch(l){a={error:l}}finally{try{s&&!s.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return i}function rg(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(pd(arguments[e]));return t}function ng(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),s=0,e=0;e<r;e++)for(var i=arguments[e],a=0,l=i.length;a<l;a++,s++)n[s]=i[a];return n}function sg(t,e,r){if(r||arguments.length===2)for(var n=0,s=e.length,i;n<s;n++)(i||!(n in e))&&(i||(i=Array.prototype.slice.call(e,0,n)),i[n]=e[n]);return t.concat(i||Array.prototype.slice.call(e))}function js(t){return this instanceof js?(this.v=t,this):new js(t)}function ig(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),s,i=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),l("next"),l("throw"),l("return",a),s[Symbol.asyncIterator]=function(){return this},s;function a(f){return function(x){return Promise.resolve(x).then(f,h)}}function l(f,x){n[f]&&(s[f]=function(y){return new Promise(function(w,p){i.push([f,y,w,p])>1||u(f,y)})},x&&(s[f]=x(s[f])))}function u(f,x){try{c(n[f](x))}catch(y){m(i[0][3],y)}}function c(f){f.value instanceof js?Promise.resolve(f.value.v).then(d,h):m(i[0][2],f)}function d(f){u("next",f)}function h(f){u("throw",f)}function m(f,x){f(x),i.shift(),i.length&&u(i[0][0],i[0][1])}}function ag(t){var e,r;return e={},n("next"),n("throw",function(s){throw s}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(s,i){e[s]=t[s]?function(a){return(r=!r)?{value:js(t[s](a)),done:!1}:i?i(a):a}:i}}function og(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof mo=="function"?mo(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(i){r[i]=t[i]&&function(a){return new Promise(function(l,u){a=t[i](a),s(l,u,a.done,a.value)})}}function s(i,a,l,u){Promise.resolve(u).then(function(c){i({value:c,done:l})},a)}}function lg(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var Qb=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e},Xu=function(t){return Xu=Object.getOwnPropertyNames||function(e){var r=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[r.length]=n);return r},Xu(t)};function ug(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r=Xu(t),n=0;n<r.length;n++)r[n]!=="default"&&Fo(e,t,r[n]);return Qb(e,t),e}function cg(t){return t&&t.__esModule?t:{default:t}}function dg(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)}function hg(t,e,r,n,s){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?s.call(t,r):s?s.value=r:e.set(t,r),r}function fg(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function pg(t,e,r){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var n,s;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=e[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=e[Symbol.dispose],r&&(s=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");s&&(n=function(){try{s.call(this)}catch(i){return Promise.reject(i)}}),t.stack.push({value:e,dispose:n,async:r})}else r&&t.stack.push({async:!0});return e}var Jb=typeof SuppressedError=="function"?SuppressedError:function(t,e,r){var n=new Error(r);return n.name="SuppressedError",n.error=t,n.suppressed=e,n};function mg(t){function e(i){t.error=t.hasError?new Jb(i,t.error,"An error was suppressed during disposal."):i,t.hasError=!0}var r,n=0;function s(){for(;r=t.stack.pop();)try{if(!r.async&&n===1)return n=0,t.stack.push(r),Promise.resolve().then(s);if(r.dispose){var i=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(i).then(s,function(a){return e(a),s()})}else n|=1}catch(a){e(a)}if(n===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return s()}function gg(t,e){return typeof t=="string"&&/^\.\.?\//.test(t)?t.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,s,i,a){return n?e?".jsx":".js":s&&(!i||!a)?r:s+i+"."+a.toLowerCase()+"js"}):t}const Yb={__extends:q0,__assign:po,__rest:Ps,__decorate:K0,__param:G0,__esDecorate:Q0,__runInitializers:J0,__propKey:Y0,__setFunctionName:X0,__metadata:Z0,__awaiter:$,__generator:eg,__createBinding:Fo,__exportStar:tg,__values:mo,__read:pd,__spread:rg,__spreadArrays:ng,__spreadArray:sg,__await:js,__asyncGenerator:ig,__asyncDelegator:ag,__asyncValues:og,__makeTemplateObject:lg,__importStar:ug,__importDefault:cg,__classPrivateFieldGet:dg,__classPrivateFieldSet:hg,__classPrivateFieldIn:fg,__addDisposableResource:pg,__disposeResources:mg,__rewriteRelativeImportExtension:gg},Xb=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:pg,get __assign(){return po},__asyncDelegator:ag,__asyncGenerator:ig,__asyncValues:og,__await:js,__awaiter:$,__classPrivateFieldGet:dg,__classPrivateFieldIn:fg,__classPrivateFieldSet:hg,__createBinding:Fo,__decorate:K0,__disposeResources:mg,__esDecorate:Q0,__exportStar:tg,__extends:q0,__generator:eg,__importDefault:cg,__importStar:ug,__makeTemplateObject:lg,__metadata:Z0,__param:G0,__propKey:Y0,__read:pd,__rest:Ps,__rewriteRelativeImportExtension:gg,__runInitializers:J0,__setFunctionName:X0,__spread:rg,__spreadArray:sg,__spreadArrays:ng,__values:mo,default:Yb},Symbol.toStringTag,{value:"Module"})),Zb=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class md extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class cf extends md{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class df extends md{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class hf extends md{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Zu;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Zu||(Zu={}));class e_{constructor(e,{headers:r={},customFetch:n,region:s=Zu.Any}={}){this.url=e,this.headers=r,this.region=s,this.fetch=Zb(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return $(this,arguments,void 0,function*(r,n={}){var s;try{const{headers:i,method:a,body:l,signal:u}=n;let c={},{region:d}=n;d||(d=this.region);const h=new URL(`${this.url}/${r}`);d&&d!=="any"&&(c["x-region"]=d,h.searchParams.set("forceFunctionRegion",d));let m;l&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)?typeof Blob<"u"&&l instanceof Blob||l instanceof ArrayBuffer?(c["Content-Type"]="application/octet-stream",m=l):typeof l=="string"?(c["Content-Type"]="text/plain",m=l):typeof FormData<"u"&&l instanceof FormData?m=l:(c["Content-Type"]="application/json",m=JSON.stringify(l)):m=l;const f=yield this.fetch(h.toString(),{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},c),this.headers),i),body:m,signal:u}).catch(p=>{throw p.name==="AbortError"?p:new cf(p)}),x=f.headers.get("x-relay-error");if(x&&x==="true")throw new df(f);if(!f.ok)throw new hf(f);let y=((s=f.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),w;return y==="application/json"?w=yield f.json():y==="application/octet-stream"||y==="application/pdf"?w=yield f.blob():y==="text/event-stream"?w=f:y==="multipart/form-data"?w=yield f.formData():w=yield f.text(),{data:w,error:null,response:f}}catch(i){return i instanceof Error&&i.name==="AbortError"?{data:null,error:new cf(i)}:{data:null,error:i,response:i instanceof hf||i instanceof df?i.context:void 0}}})}}var Be={};const Os=uv(Xb);var ma={},ga={},va={},ya={},xa={},wa={},ff;function vg(){if(ff)return wa;ff=1,Object.defineProperty(wa,"__esModule",{value:!0});class t extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return wa.default=t,wa}var pf;function yg(){if(pf)return xa;pf=1,Object.defineProperty(xa,"__esModule",{value:!0});const e=Os.__importDefault(vg());class r{constructor(s){var i,a;this.shouldThrowOnError=!1,this.method=s.method,this.url=s.url,this.headers=new Headers(s.headers),this.schema=s.schema,this.body=s.body,this.shouldThrowOnError=(i=s.shouldThrowOnError)!==null&&i!==void 0?i:!1,this.signal=s.signal,this.isMaybeSingle=(a=s.isMaybeSingle)!==null&&a!==void 0?a:!1,s.fetch?this.fetch=s.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(s,i){return this.headers=new Headers(this.headers),this.headers.set(s,i),this}then(s,i){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const a=this.fetch;let l=a(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async u=>{var c,d,h,m;let f=null,x=null,y=null,w=u.status,p=u.statusText;if(u.ok){if(this.method!=="HEAD"){const N=await u.text();N===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((c=this.headers.get("Accept"))===null||c===void 0)&&c.includes("application/vnd.pgrst.plan+text"))?x=N:x=JSON.parse(N))}const v=(d=this.headers.get("Prefer"))===null||d===void 0?void 0:d.match(/count=(exact|planned|estimated)/),b=(h=u.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");v&&b&&b.length>1&&(y=parseInt(b[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(x)&&(x.length>1?(f={code:"PGRST116",details:`Results contain ${x.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},x=null,y=null,w=406,p="Not Acceptable"):x.length===1?x=x[0]:x=null)}else{const v=await u.text();try{f=JSON.parse(v),Array.isArray(f)&&u.status===404&&(x=[],f=null,w=200,p="OK")}catch{u.status===404&&v===""?(w=204,p="No Content"):f={message:v}}if(f&&this.isMaybeSingle&&(!((m=f==null?void 0:f.details)===null||m===void 0)&&m.includes("0 rows"))&&(f=null,w=200,p="OK"),f&&this.shouldThrowOnError)throw new e.default(f)}return{error:f,data:x,count:y,status:w,statusText:p}});return this.shouldThrowOnError||(l=l.catch(u=>{var c,d,h;return{error:{message:`${(c=u==null?void 0:u.name)!==null&&c!==void 0?c:"FetchError"}: ${u==null?void 0:u.message}`,details:`${(d=u==null?void 0:u.stack)!==null&&d!==void 0?d:""}`,hint:"",code:`${(h=u==null?void 0:u.code)!==null&&h!==void 0?h:""}`},data:null,count:null,status:0,statusText:""}})),l.then(s,i)}returns(){return this}overrideTypes(){return this}}return xa.default=r,xa}var mf;function xg(){if(mf)return ya;mf=1,Object.defineProperty(ya,"__esModule",{value:!0});const e=Os.__importDefault(yg());class r extends e.default{select(s){let i=!1;const a=(s??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",a),this.headers.append("Prefer","return=representation"),this}order(s,{ascending:i=!0,nullsFirst:a,foreignTable:l,referencedTable:u=l}={}){const c=u?`${u}.order`:"order",d=this.url.searchParams.get(c);return this.url.searchParams.set(c,`${d?`${d},`:""}${s}.${i?"asc":"desc"}${a===void 0?"":a?".nullsfirst":".nullslast"}`),this}limit(s,{foreignTable:i,referencedTable:a=i}={}){const l=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(l,`${s}`),this}range(s,i,{foreignTable:a,referencedTable:l=a}={}){const u=typeof l>"u"?"offset":`${l}.offset`,c=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(u,`${s}`),this.url.searchParams.set(c,`${i-s+1}`),this}abortSignal(s){return this.signal=s,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:s=!1,verbose:i=!1,settings:a=!1,buffers:l=!1,wal:u=!1,format:c="text"}={}){var d;const h=[s?"analyze":null,i?"verbose":null,a?"settings":null,l?"buffers":null,u?"wal":null].filter(Boolean).join("|"),m=(d=this.headers.get("Accept"))!==null&&d!==void 0?d:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${c}; for="${m}"; options=${h};`),c==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(s){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${s}`),this}}return ya.default=r,ya}var gf;function gd(){if(gf)return va;gf=1,Object.defineProperty(va,"__esModule",{value:!0});const e=Os.__importDefault(xg()),r=new RegExp("[,()]");class n extends e.default{eq(i,a){return this.url.searchParams.append(i,`eq.${a}`),this}neq(i,a){return this.url.searchParams.append(i,`neq.${a}`),this}gt(i,a){return this.url.searchParams.append(i,`gt.${a}`),this}gte(i,a){return this.url.searchParams.append(i,`gte.${a}`),this}lt(i,a){return this.url.searchParams.append(i,`lt.${a}`),this}lte(i,a){return this.url.searchParams.append(i,`lte.${a}`),this}like(i,a){return this.url.searchParams.append(i,`like.${a}`),this}likeAllOf(i,a){return this.url.searchParams.append(i,`like(all).{${a.join(",")}}`),this}likeAnyOf(i,a){return this.url.searchParams.append(i,`like(any).{${a.join(",")}}`),this}ilike(i,a){return this.url.searchParams.append(i,`ilike.${a}`),this}ilikeAllOf(i,a){return this.url.searchParams.append(i,`ilike(all).{${a.join(",")}}`),this}ilikeAnyOf(i,a){return this.url.searchParams.append(i,`ilike(any).{${a.join(",")}}`),this}is(i,a){return this.url.searchParams.append(i,`is.${a}`),this}in(i,a){const l=Array.from(new Set(a)).map(u=>typeof u=="string"&&r.test(u)?`"${u}"`:`${u}`).join(",");return this.url.searchParams.append(i,`in.(${l})`),this}contains(i,a){return typeof a=="string"?this.url.searchParams.append(i,`cs.${a}`):Array.isArray(a)?this.url.searchParams.append(i,`cs.{${a.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(a)}`),this}containedBy(i,a){return typeof a=="string"?this.url.searchParams.append(i,`cd.${a}`):Array.isArray(a)?this.url.searchParams.append(i,`cd.{${a.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(a)}`),this}rangeGt(i,a){return this.url.searchParams.append(i,`sr.${a}`),this}rangeGte(i,a){return this.url.searchParams.append(i,`nxl.${a}`),this}rangeLt(i,a){return this.url.searchParams.append(i,`sl.${a}`),this}rangeLte(i,a){return this.url.searchParams.append(i,`nxr.${a}`),this}rangeAdjacent(i,a){return this.url.searchParams.append(i,`adj.${a}`),this}overlaps(i,a){return typeof a=="string"?this.url.searchParams.append(i,`ov.${a}`):this.url.searchParams.append(i,`ov.{${a.join(",")}}`),this}textSearch(i,a,{config:l,type:u}={}){let c="";u==="plain"?c="pl":u==="phrase"?c="ph":u==="websearch"&&(c="w");const d=l===void 0?"":`(${l})`;return this.url.searchParams.append(i,`${c}fts${d}.${a}`),this}match(i){return Object.entries(i).forEach(([a,l])=>{this.url.searchParams.append(a,`eq.${l}`)}),this}not(i,a,l){return this.url.searchParams.append(i,`not.${a}.${l}`),this}or(i,{foreignTable:a,referencedTable:l=a}={}){const u=l?`${l}.or`:"or";return this.url.searchParams.append(u,`(${i})`),this}filter(i,a,l){return this.url.searchParams.append(i,`${a}.${l}`),this}}return va.default=n,va}var vf;function wg(){if(vf)return ga;vf=1,Object.defineProperty(ga,"__esModule",{value:!0});const e=Os.__importDefault(gd());class r{constructor(s,{headers:i={},schema:a,fetch:l}){this.url=s,this.headers=new Headers(i),this.schema=a,this.fetch=l}select(s,i){const{head:a=!1,count:l}=i??{},u=a?"HEAD":"GET";let c=!1;const d=(s??"*").split("").map(h=>/\s/.test(h)&&!c?"":(h==='"'&&(c=!c),h)).join("");return this.url.searchParams.set("select",d),l&&this.headers.append("Prefer",`count=${l}`),new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(s,{count:i,defaultToNull:a=!0}={}){var l;const u="POST";if(i&&this.headers.append("Prefer",`count=${i}`),a||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const c=s.reduce((d,h)=>d.concat(Object.keys(h)),[]);if(c.length>0){const d=[...new Set(c)].map(h=>`"${h}"`);this.url.searchParams.set("columns",d.join(","))}}return new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}upsert(s,{onConflict:i,ignoreDuplicates:a=!1,count:l,defaultToNull:u=!0}={}){var c;const d="POST";if(this.headers.append("Prefer",`resolution=${a?"ignore":"merge"}-duplicates`),i!==void 0&&this.url.searchParams.set("on_conflict",i),l&&this.headers.append("Prefer",`count=${l}`),u||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const h=s.reduce((m,f)=>m.concat(Object.keys(f)),[]);if(h.length>0){const m=[...new Set(h)].map(f=>`"${f}"`);this.url.searchParams.set("columns",m.join(","))}}return new e.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}update(s,{count:i}={}){var a;const l="PATCH";return i&&this.headers.append("Prefer",`count=${i}`),new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}delete({count:s}={}){var i;const a="DELETE";return s&&this.headers.append("Prefer",`count=${s}`),new e.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}}return ga.default=r,ga}var yf;function t_(){if(yf)return ma;yf=1,Object.defineProperty(ma,"__esModule",{value:!0});const t=Os,e=t.__importDefault(wg()),r=t.__importDefault(gd());class n{constructor(i,{headers:a={},schema:l,fetch:u}={}){this.url=i,this.headers=new Headers(a),this.schemaName=l,this.fetch=u}from(i){const a=new URL(`${this.url}/${i}`);return new e.default(a,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(i){return new n(this.url,{headers:this.headers,schema:i,fetch:this.fetch})}rpc(i,a={},{head:l=!1,get:u=!1,count:c}={}){var d;let h;const m=new URL(`${this.url}/rpc/${i}`);let f;l||u?(h=l?"HEAD":"GET",Object.entries(a).filter(([y,w])=>w!==void 0).map(([y,w])=>[y,Array.isArray(w)?`{${w.join(",")}}`:`${w}`]).forEach(([y,w])=>{m.searchParams.append(y,w)})):(h="POST",f=a);const x=new Headers(this.headers);return c&&x.set("Prefer",`count=${c}`),new r.default({method:h,url:m,headers:x,schema:this.schemaName,body:f,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}}return ma.default=n,ma}Object.defineProperty(Be,"__esModule",{value:!0});var bg=Be.PostgrestError=Tg=Be.PostgrestBuilder=Pg=Be.PostgrestTransformBuilder=Eg=Be.PostgrestFilterBuilder=kg=Be.PostgrestQueryBuilder=jg=Be.PostgrestClient=void 0;const Ts=Os,_g=Ts.__importDefault(t_());var jg=Be.PostgrestClient=_g.default;const Sg=Ts.__importDefault(wg());var kg=Be.PostgrestQueryBuilder=Sg.default;const Ng=Ts.__importDefault(gd());var Eg=Be.PostgrestFilterBuilder=Ng.default;const Cg=Ts.__importDefault(xg());var Pg=Be.PostgrestTransformBuilder=Cg.default;const Og=Ts.__importDefault(yg());var Tg=Be.PostgrestBuilder=Og.default;const Rg=Ts.__importDefault(vg());bg=Be.PostgrestError=Rg.default;var Ag=Be.default={PostgrestClient:_g.default,PostgrestQueryBuilder:Sg.default,PostgrestFilterBuilder:Ng.default,PostgrestTransformBuilder:Cg.default,PostgrestBuilder:Og.default,PostgrestError:Rg.default};const r_=sp({__proto__:null,get PostgrestBuilder(){return Tg},get PostgrestClient(){return jg},get PostgrestError(){return bg},get PostgrestFilterBuilder(){return Eg},get PostgrestQueryBuilder(){return kg},get PostgrestTransformBuilder(){return Pg},default:Ag},[Be]),{PostgrestClient:n_,PostgrestQueryBuilder:JS,PostgrestFilterBuilder:YS,PostgrestTransformBuilder:XS,PostgrestBuilder:ZS,PostgrestError:e2}=Ag||r_;class s_{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,s=parseInt(n.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const n=this.getWebSocketConstructor();return new n(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const i_="2.79.0",a_=`realtime-js/${i_}`,o_="1.0.0",ec=1e4,l_=1e3,u_=100;var oi;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(oi||(oi={}));var ye;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(ye||(ye={}));var Et;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Et||(Et={}));var tc;(function(t){t.websocket="websocket"})(tc||(tc={}));var Xr;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Xr||(Xr={}));class c_{constructor(){this.HEADER_LENGTH=1}decode(e,r){return e.constructor===ArrayBuffer?r(this._binaryDecode(e)):r(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const r=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,r,n)}_decodeBroadcast(e,r,n){const s=r.getUint8(1),i=r.getUint8(2);let a=this.HEADER_LENGTH+2;const l=n.decode(e.slice(a,a+s));a=a+s;const u=n.decode(e.slice(a,a+i));a=a+i;const c=JSON.parse(n.decode(e.slice(a,e.byteLength)));return{ref:null,topic:l,event:u,payload:c}}}class Ig{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Z;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Z||(Z={}));const xf=(t,e,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return e?Object.keys(e).reduce((i,a)=>(i[a]=d_(a,t,e,s),i),{}):{}},d_=(t,e,r,n)=>{const s=e.find(l=>l.name===t),i=s==null?void 0:s.type,a=r[t];return i&&!n.includes(i)?Lg(i,a):rc(a)},Lg=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return m_(e,r)}switch(t){case Z.bool:return h_(e);case Z.float4:case Z.float8:case Z.int2:case Z.int4:case Z.int8:case Z.numeric:case Z.oid:return f_(e);case Z.json:case Z.jsonb:return p_(e);case Z.timestamp:return g_(e);case Z.abstime:case Z.date:case Z.daterange:case Z.int4range:case Z.int8range:case Z.money:case Z.reltime:case Z.text:case Z.time:case Z.timestamptz:case Z.timetz:case Z.tsrange:case Z.tstzrange:return rc(e);default:return rc(e)}},rc=t=>t,h_=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},f_=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},p_=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},m_=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let i;const a=t.slice(1,r);try{i=JSON.parse("["+a+"]")}catch{i=a?a.split(","):[]}return i.map(l=>Lg(e,l))}return t},g_=t=>typeof t=="string"?t.replace(" ","T"):t,$g=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class kl{constructor(e,r,n={},s=ec){this.channel=e,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var wf;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(wf||(wf={}));class li{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:a,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=li.syncState(this.state,s,i,a),this.pendingDiffs.forEach(u=>{this.state=li.syncDiff(this.state,u,i,a)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:a,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=li.syncDiff(this.state,s,i,a),l())}),this.onJoin((s,i,a)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:a})}),this.onLeave((s,i,a)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,s){const i=this.cloneDeep(e),a=this.transformState(r),l={},u={};return this.map(i,(c,d)=>{a[c]||(u[c]=d)}),this.map(a,(c,d)=>{const h=i[c];if(h){const m=d.map(w=>w.presence_ref),f=h.map(w=>w.presence_ref),x=d.filter(w=>f.indexOf(w.presence_ref)<0),y=h.filter(w=>m.indexOf(w.presence_ref)<0);x.length>0&&(l[c]=x),y.length>0&&(u[c]=y)}else l[c]=d}),this.syncDiff(i,{joins:l,leaves:u},n,s)}static syncDiff(e,r,n,s){const{joins:i,leaves:a}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(l,u)=>{var c;const d=(c=e[l])!==null&&c!==void 0?c:[];if(e[l]=this.cloneDeep(u),d.length>0){const h=e[l].map(f=>f.presence_ref),m=d.filter(f=>h.indexOf(f.presence_ref)<0);e[l].unshift(...m)}n(l,d,u)}),this.map(a,(l,u)=>{let c=e[l];if(!c)return;const d=u.map(h=>h.presence_ref);c=c.filter(h=>d.indexOf(h.presence_ref)<0),e[l]=c,s(l,c,u),c.length===0&&delete e[l]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const s=e[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var bf;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(bf||(bf={}));var ui;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(ui||(ui={}));var Kt;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Kt||(Kt={}));class vd{constructor(e,r={config:{}},n){var s,i;if(this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=ye.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new kl(this,Et.join,this.params,this.timeout),this.rejoinTimer=new Ig(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ye.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ye.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=ye.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ye.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=ye.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Et.reply,{},(a,l)=>{this._trigger(this._replyEventName(l),a)}),this.presence=new li(this),this.broadcastEndpointURL=$g(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,r=this.timeout){var n,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==ye.closed){const{config:{broadcast:a,presence:l,private:u}}=this.params,c=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(f=>f.filter))!==null&&s!==void 0?s:[],d=!!this.bindings[ui.PRESENCE]&&this.bindings[ui.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,h={},m={broadcast:a,presence:Object.assign(Object.assign({},l),{enabled:d}),postgres_changes:c,private:u};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(f=>e==null?void 0:e(Kt.CHANNEL_ERROR,f)),this._onClose(()=>e==null?void 0:e(Kt.CLOSED)),this.updateJoinPayload(Object.assign({config:m},h)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:f})=>{var x;if(this.socket.setAuth(),f===void 0){e==null||e(Kt.SUBSCRIBED);return}else{const y=this.bindings.postgres_changes,w=(x=y==null?void 0:y.length)!==null&&x!==void 0?x:0,p=[];for(let g=0;g<w;g++){const v=y[g],{filter:{event:b,schema:N,table:E,filter:P}}=v,C=f&&f[g];if(C&&C.event===b&&C.schema===N&&C.table===E&&C.filter===P)p.push(Object.assign(Object.assign({},v),{id:C.id}));else{this.unsubscribe(),this.state=ye.errored,e==null||e(Kt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=p,e&&e(Kt.SUBSCRIBED);return}}).receive("error",f=>{this.state=ye.errored,e==null||e(Kt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(f).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Kt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this.state===ye.joined&&e===ui.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,r,n)}async httpSend(e,r,n={}){var s;const i=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const a={method:"POST",headers:{Authorization:i,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:r,private:this.private}]})},l=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);if(l.status===202)return{success:!0};let u=l.statusText;try{const c=await l.json();u=c.error||c.message||u}catch{}return Promise.reject(new Error(u))}async send(e,r={}){var n,s;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:a}=e,u={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:a,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=c.body)===null||s===void 0?void 0:s.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var a,l,u;const c=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((u=(l=(a=this.params)===null||a===void 0?void 0:a.config)===null||l===void 0?void 0:l.broadcast)===null||u===void 0)&&u.ack)&&i("ok"),c.receive("ok",()=>i("ok")),c.receive("error",()=>i("error")),c.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=ye.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Et.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new kl(this,Et.leave,{},e),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=ye.closed,this.bindings={}}async _fetchWithTimeout(e,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),a=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),a}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new kl(this,e,r,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>u_){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var s,i;const a=e.toLocaleLowerCase(),{close:l,error:u,leave:c,join:d}=Et;if(n&&[l,u,c,d].indexOf(a)>=0&&n!==this._joinRef())return;let m=this._onMessage(a,r,n);if(r&&!m)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(f=>{var x,y,w;return((x=f.filter)===null||x===void 0?void 0:x.event)==="*"||((w=(y=f.filter)===null||y===void 0?void 0:y.event)===null||w===void 0?void 0:w.toLocaleLowerCase())===a}).map(f=>f.callback(m,n)):(i=this.bindings[a])===null||i===void 0||i.filter(f=>{var x,y,w,p,g,v;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in f){const b=f.id,N=(x=f.filter)===null||x===void 0?void 0:x.event;return b&&((y=r.ids)===null||y===void 0?void 0:y.includes(b))&&(N==="*"||(N==null?void 0:N.toLocaleLowerCase())===((w=r.data)===null||w===void 0?void 0:w.type.toLocaleLowerCase()))}else{const b=(g=(p=f==null?void 0:f.filter)===null||p===void 0?void 0:p.event)===null||g===void 0?void 0:g.toLocaleLowerCase();return b==="*"||b===((v=r==null?void 0:r.event)===null||v===void 0?void 0:v.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===a}).map(f=>{if(typeof m=="object"&&"ids"in m){const x=m.data,{schema:y,table:w,commit_timestamp:p,type:g,errors:v}=x;m=Object.assign(Object.assign({},{schema:y,table:w,commit_timestamp:p,eventType:g,new:{},old:{},errors:v}),this._getPayloadRecords(x))}f.callback(m,n)})}_isClosed(){return this.state===ye.closed}_isJoined(){return this.state===ye.joined}_isJoining(){return this.state===ye.joining}_isLeaving(){return this.state===ye.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const s=e.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&vd.isEqual(s.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Et.close,{},e)}_onError(e){this._on(Et.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ye.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=xf(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=xf(e.columns,e.old_record)),r}}const Nl=()=>{},ba={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},v_=[1e3,2e3,5e3,1e4],y_=1e4,x_=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class w_{constructor(e,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=ec,this.transport=null,this.heartbeatIntervalMs=ba.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Nl,this.ref=0,this.reconnectTimer=null,this.logger=Nl,this.conn=null,this.sendBuffer=[],this.serializer=new c_,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>s?(...i)=>s(...i):(...i)=>fetch(...i),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${tc.websocket}`,this.httpEndpoint=$g(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=s_.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:o_}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},e?this.conn.close(e,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case oi.connecting:return Xr.Connecting;case oi.open:return Xr.Open;case oi.closing:return Xr.Closing;default:return Xr.Closed}}isConnected(){return this.connectionState()===Xr.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const n=`realtime:${e}`,s=this.getChannels().find(i=>i.topic===n);if(s)return s;{const i=new vd(`realtime:${e}`,r,this);return this.channels.push(i),i}}push(e){const{topic:r,event:n,payload:s,ref:i}=e,a=()=>{this.encode(e,l=>{var u;(u=this.conn)===null||u===void 0||u.send(l)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(l_,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},ba.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(c){this.log("error","error in heartbeat callback",c)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:s,payload:i,ref:a}=r,l=a?`(${a})`:"",u=i.status||"";this.log("receive",`${u} ${n} ${s} ${l}`.trim(),i),this.channels.filter(c=>c._isMember(n)).forEach(c=>c._trigger(s,i,a)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Et.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${e}${n}${s}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([x_],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r;e?r=e:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const s={access_token:r,version:a_};r&&n.updateJoinPayload(s),n.joinedOnce&&n._isJoined()&&n._push(Et.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(r)}catch(s){this.log("error",`error in ${e} callback`,s)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new Ig(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},ba.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,n,s,i,a,l,u,c,d;if(this.transport=(r=e==null?void 0:e.transport)!==null&&r!==void 0?r:null,this.timeout=(n=e==null?void 0:e.timeout)!==null&&n!==void 0?n:ec,this.heartbeatIntervalMs=(s=e==null?void 0:e.heartbeatIntervalMs)!==null&&s!==void 0?s:ba.HEARTBEAT_INTERVAL,this.worker=(i=e==null?void 0:e.worker)!==null&&i!==void 0?i:!1,this.accessToken=(a=e==null?void 0:e.accessToken)!==null&&a!==void 0?a:null,this.heartbeatCallback=(l=e==null?void 0:e.heartbeatCallback)!==null&&l!==void 0?l:Nl,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=e==null?void 0:e.reconnectAfterMs)!==null&&u!==void 0?u:h=>v_[h-1]||y_,this.encode=(c=e==null?void 0:e.encode)!==null&&c!==void 0?c:(h,m)=>m(JSON.stringify(h)),this.decode=(d=e==null?void 0:e.decode)!==null&&d!==void 0?d:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class yd extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function ae(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class b_ extends yd{constructor(e,r,n){super(e),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class nc extends yd{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}const xd=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),__=()=>Response,sc=t=>{if(Array.isArray(t))return t.map(r=>sc(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=sc(n)}),e},j_=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},El=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},S_=(t,e,r)=>$(void 0,void 0,void 0,function*(){const n=yield __();t instanceof n&&!(r!=null&&r.noResolveJson)?t.json().then(s=>{const i=t.status||500,a=(s==null?void 0:s.statusCode)||i+"";e(new b_(El(s),i,a))}).catch(s=>{e(new nc(El(s),s))}):e(new nc(El(t),t))}),k_=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!n?s:(j_(n)?(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(n)):s.body=n,e!=null&&e.duplex&&(s.duplex=e.duplex),Object.assign(Object.assign({},s),r))};function Ki(t,e,r,n,s,i){return $(this,void 0,void 0,function*(){return new Promise((a,l)=>{t(r,k_(e,n,s,i)).then(u=>{if(!u.ok)throw u;return n!=null&&n.noResolveJson?u:u.json()}).then(u=>a(u)).catch(u=>S_(u,l,n))})})}function Ti(t,e,r,n){return $(this,void 0,void 0,function*(){return Ki(t,"GET",e,r,n)})}function jt(t,e,r,n,s){return $(this,void 0,void 0,function*(){return Ki(t,"POST",e,n,s,r)})}function ic(t,e,r,n,s){return $(this,void 0,void 0,function*(){return Ki(t,"PUT",e,n,s,r)})}function N_(t,e,r,n){return $(this,void 0,void 0,function*(){return Ki(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function wd(t,e,r,n,s){return $(this,void 0,void 0,function*(){return Ki(t,"DELETE",e,n,s,r)})}class E_{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r}then(e,r){return this.execute().then(e,r)}execute(){return $(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ae(e))return{data:null,error:e};throw e}})}}var Dg;class C_{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r,this[Dg]="BlobDownloadBuilder",this.promise=null}asStream(){return new E_(this.downloadFn,this.shouldThrowOnError)}then(e,r){return this.getPromise().then(e,r)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return $(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ae(e))return{data:null,error:e};throw e}})}}Dg=Symbol.toStringTag;const P_={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},_f={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class O_{constructor(e,r={},n,s){this.shouldThrowOnError=!1,this.url=e,this.headers=r,this.bucketId=n,this.fetch=xd(s)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,r,n,s){return $(this,void 0,void 0,function*(){try{let i;const a=Object.assign(Object.assign({},_f),s);let l=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(a.upsert)});const u=a.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",a.cacheControl),u&&i.append("metadata",this.encodeMetadata(u)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.has("cacheControl")||i.append("cacheControl",a.cacheControl),u&&!i.has("metadata")&&i.append("metadata",this.encodeMetadata(u))):(i=n,l["cache-control"]=`max-age=${a.cacheControl}`,l["content-type"]=a.contentType,u&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(u))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!a.duplex&&(a.duplex="half")),s!=null&&s.headers&&(l=Object.assign(Object.assign({},l),s.headers));const c=this._removeEmptyFolders(r),d=this._getFinalPath(c),h=yield(e=="PUT"?ic:jt)(this.fetch,`${this.url}/object/${d}`,i,Object.assign({headers:l},a!=null&&a.duplex?{duplex:a.duplex}:{}));return{data:{path:c,id:h.Id,fullPath:h.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ae(i))return{data:null,error:i};throw i}})}upload(e,r,n){return $(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,n)})}uploadToSignedUrl(e,r,n,s){return $(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),a=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${a}`);l.searchParams.set("token",r);try{let u;const c=Object.assign({upsert:_f.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&n instanceof Blob?(u=new FormData,u.append("cacheControl",c.cacheControl),u.append("",n)):typeof FormData<"u"&&n instanceof FormData?(u=n,u.append("cacheControl",c.cacheControl)):(u=n,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType);const h=yield ic(this.fetch,l.toString(),u,{headers:d});return{data:{path:i,fullPath:h.Key},error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(ae(u))return{data:null,error:u};throw u}})}createSignedUploadUrl(e,r){return $(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const i=yield jt(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),a=new URL(this.url+i.url),l=a.searchParams.get("token");if(!l)throw new yd("No token returned by API");return{data:{signedUrl:a.toString(),path:e,token:l},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ae(n))return{data:null,error:n};throw n}})}update(e,r,n){return $(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,n)})}move(e,r,n){return $(this,void 0,void 0,function*(){try{return{data:yield jt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ae(s))return{data:null,error:s};throw s}})}copy(e,r,n){return $(this,void 0,void 0,function*(){try{return{data:{path:(yield jt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ae(s))return{data:null,error:s};throw s}})}createSignedUrl(e,r,n){return $(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),i=yield jt(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${a}`)},{data:i,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ae(s))return{data:null,error:s};throw s}})}createSignedUrls(e,r,n){return $(this,void 0,void 0,function*(){try{const s=yield jt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI(`${this.url}${a.signedURL}${i}`):null})),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ae(s))return{data:null,error:s};throw s}})}download(e,r){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),a=i?`?${i}`:"",l=this._getFinalPath(e),u=()=>Ti(this.fetch,`${this.url}/${s}/${l}${a}`,{headers:this.headers,noResolveJson:!0});return new C_(u,this.shouldThrowOnError)}info(e){return $(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const n=yield Ti(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:sc(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ae(n))return{data:null,error:n};throw n}})}exists(e){return $(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield N_(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ae(n)&&n instanceof nc){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,r){const n=this._getFinalPath(e),s=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&s.push(i);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",u=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});u!==""&&s.push(u);let c=s.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${c}`)}}}remove(e){return $(this,void 0,void 0,function*(){try{return{data:yield wd(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ae(r))return{data:null,error:r};throw r}})}list(e,r,n){return $(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},P_),r),{prefix:e||""});return{data:yield jt(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ae(s))return{data:null,error:s};throw s}})}listV2(e,r){return $(this,void 0,void 0,function*(){try{const n=Object.assign({},e);return{data:yield jt(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ae(n))return{data:null,error:n};throw n}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const Ug="2.79.0",Mg={"X-Client-Info":`storage-js/${Ug}`};class T_{constructor(e,r={},n,s){this.shouldThrowOnError=!1;const i=new URL(e);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Mg),r),this.fetch=xd(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return $(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(e);return{data:yield Ti(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ae(r))return{data:null,error:r};throw r}})}getBucket(e){return $(this,void 0,void 0,function*(){try{return{data:yield Ti(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ae(r))return{data:null,error:r};throw r}})}createBucket(e){return $(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield jt(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ae(s))return{data:null,error:s};throw s}})}updateBucket(e,r){return $(this,void 0,void 0,function*(){try{return{data:yield ic(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ae(n))return{data:null,error:n};throw n}})}emptyBucket(e){return $(this,void 0,void 0,function*(){try{return{data:yield jt(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ae(r))return{data:null,error:r};throw r}})}deleteBucket(e){return $(this,void 0,void 0,function*(){try{return{data:yield wd(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ae(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(e){const r={};return e&&("limit"in e&&(r.limit=String(e.limit)),"offset"in e&&(r.offset=String(e.offset)),e.search&&(r.search=e.search),e.sortColumn&&(r.sortColumn=e.sortColumn),e.sortOrder&&(r.sortOrder=e.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}class R_{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Mg),r),this.fetch=xd(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return $(this,void 0,void 0,function*(){try{return{data:yield jt(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ae(r))return{data:null,error:r};throw r}})}listBuckets(e){return $(this,void 0,void 0,function*(){try{const r=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&r.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&r.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&r.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&r.set("sortOrder",e.sortOrder),e!=null&&e.search&&r.set("search",e.search);const n=r.toString(),s=n?`${this.url}/bucket?${n}`:`${this.url}/bucket`;return{data:yield Ti(this.fetch,s,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ae(r))return{data:null,error:r};throw r}})}deleteBucket(e){return $(this,void 0,void 0,function*(){try{return{data:yield wd(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ae(r))return{data:null,error:r};throw r}})}}const bd={"X-Client-Info":`storage-js/${Ug}`,"Content-Type":"application/json"};class Fg extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function tt(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}class Cl extends Fg{constructor(e,r,n){super(e),this.name="StorageVectorsApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class A_ extends Fg{constructor(e,r){super(e),this.name="StorageVectorsUnknownError",this.originalError=r}}var jf;(function(t){t.InternalError="InternalError",t.S3VectorConflictException="S3VectorConflictException",t.S3VectorNotFoundException="S3VectorNotFoundException",t.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",t.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",t.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(jf||(jf={}));const _d=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),I_=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Sf=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),L_=(t,e,r)=>$(void 0,void 0,void 0,function*(){if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(r!=null&&r.noResolveJson)){const s=t.status||500,i=t;if(typeof i.json=="function")i.json().then(a=>{const l=(a==null?void 0:a.statusCode)||(a==null?void 0:a.code)||s+"";e(new Cl(Sf(a),s,l))}).catch(()=>{const a=s+"",l=i.statusText||`HTTP ${s} error`;e(new Cl(l,s,a))});else{const a=s+"",l=i.statusText||`HTTP ${s} error`;e(new Cl(l,s,a))}}else e(new A_(Sf(t),t))}),$_=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return n?(I_(n)?(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(n)):s.body=n,Object.assign(Object.assign({},s),r)):s};function D_(t,e,r,n,s,i){return $(this,void 0,void 0,function*(){return new Promise((a,l)=>{t(r,$_(e,n,s,i)).then(u=>{if(!u.ok)throw u;if(n!=null&&n.noResolveJson)return u;const c=u.headers.get("content-type");return!c||!c.includes("application/json")?{}:u.json()}).then(u=>a(u)).catch(u=>L_(u,l,n))})})}function rt(t,e,r,n,s){return $(this,void 0,void 0,function*(){return D_(t,"POST",e,n,s,r)})}class U_{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},bd),r),this.fetch=_d(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return $(this,void 0,void 0,function*(){try{return{data:(yield rt(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(tt(r))return{data:null,error:r};throw r}})}getIndex(e,r){return $(this,void 0,void 0,function*(){try{return{data:yield rt(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(tt(n))return{data:null,error:n};throw n}})}listIndexes(e){return $(this,void 0,void 0,function*(){try{return{data:yield rt(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(tt(r))return{data:null,error:r};throw r}})}deleteIndex(e,r){return $(this,void 0,void 0,function*(){try{return{data:(yield rt(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(tt(n))return{data:null,error:n};throw n}})}}class M_{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},bd),r),this.fetch=_d(n)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return $(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield rt(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(tt(r))return{data:null,error:r};throw r}})}getVectors(e){return $(this,void 0,void 0,function*(){try{return{data:yield rt(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(tt(r))return{data:null,error:r};throw r}})}listVectors(e){return $(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield rt(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(tt(r))return{data:null,error:r};throw r}})}queryVectors(e){return $(this,void 0,void 0,function*(){try{return{data:yield rt(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(tt(r))return{data:null,error:r};throw r}})}deleteVectors(e){return $(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield rt(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(tt(r))return{data:null,error:r};throw r}})}}class F_{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},bd),r),this.fetch=_d(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return $(this,void 0,void 0,function*(){try{return{data:(yield rt(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(tt(r))return{data:null,error:r};throw r}})}getBucket(e){return $(this,void 0,void 0,function*(){try{return{data:yield rt(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(tt(r))return{data:null,error:r};throw r}})}listBuckets(){return $(this,arguments,void 0,function*(e={}){try{return{data:yield rt(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(tt(r))return{data:null,error:r};throw r}})}deleteBucket(e){return $(this,void 0,void 0,function*(){try{return{data:(yield rt(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(tt(r))return{data:null,error:r};throw r}})}}class B_ extends F_{constructor(e,r={}){super(e,r.headers||{},r.fetch)}from(e){return new z_(this.url,this.headers,e,this.fetch)}}class z_ extends U_{constructor(e,r,n,s){super(e,r,s),this.vectorBucketName=n}createIndex(e){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return $(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return $(this,arguments,void 0,function*(r={}){return e.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return $(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return $(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new W_(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class W_ extends M_{constructor(e,r,n,s,i){super(e,r,i),this.vectorBucketName=n,this.indexName=s}putVectors(e){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return $(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return $(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return $(this,arguments,void 0,function*(r={}){return e.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return $(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return $(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class V_ extends T_{constructor(e,r={},n,s){super(e,r,n,s)}from(e){return new O_(this.url,this.headers,e,this.fetch)}get vectors(){return new B_(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new R_(this.url+"/iceberg",this.headers,this.fetch)}}const H_="2.79.0";let Js="";typeof Deno<"u"?Js="deno":typeof document<"u"?Js="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Js="react-native":Js="node";const q_={"X-Client-Info":`supabase-js-${Js}/${H_}`},K_={headers:q_},G_={schema:"public"},Q_={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},J_={},Y_=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),X_=()=>Headers,Z_=(t,e,r)=>{const n=Y_(r),s=X_();return async(i,a)=>{var l;const u=(l=await e())!==null&&l!==void 0?l:t;let c=new s(a==null?void 0:a.headers);return c.has("apikey")||c.set("apikey",t),c.has("Authorization")||c.set("Authorization",`Bearer ${u}`),n(i,Object.assign(Object.assign({},a),{headers:c}))}};function e1(t){return t.endsWith("/")?t:t+"/"}function t1(t,e){var r,n;const{db:s,auth:i,realtime:a,global:l}=t,{db:u,auth:c,realtime:d,global:h}=e,m={db:Object.assign(Object.assign({},u),s),auth:Object.assign(Object.assign({},c),i),realtime:Object.assign(Object.assign({},d),a),storage:{},global:Object.assign(Object.assign(Object.assign({},h),l),{headers:Object.assign(Object.assign({},(r=h==null?void 0:h.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return t.accessToken?m.accessToken=t.accessToken:delete m.accessToken,m}function r1(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(e1(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const Bg="2.79.0",Ln=30*1e3,ac=3,Pl=ac*Ln,n1="http://localhost:9999",s1="supabase.auth.token",i1={"X-Client-Info":`gotrue-js/${Bg}`},oc="X-Supabase-Api-Version",zg={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},a1=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,o1=10*60*1e3;class Ri extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function M(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class l1 extends Ri{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function u1(t){return M(t)&&t.name==="AuthApiError"}class Zr extends Ri{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class Vr extends Ri{constructor(e,r,n,s){super(e,n,s),this.name=r,this.status=n}}class wt extends Vr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function c1(t){return M(t)&&t.name==="AuthSessionMissingError"}class On extends Vr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class _a extends Vr{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class ja extends Vr{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function d1(t){return M(t)&&t.name==="AuthImplicitGrantRedirectError"}class kf extends Vr{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class lc extends Vr{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function Ol(t){return M(t)&&t.name==="AuthRetryableFetchError"}class Nf extends Vr{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class uc extends Vr{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const go="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Ef=` 	
\r=`.split(""),h1=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Ef.length;e+=1)t[Ef[e].charCodeAt(0)]=-2;for(let e=0;e<go.length;e+=1)t[go[e].charCodeAt(0)]=e;return t})();function Cf(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(go[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(go[n]),e.queuedBits-=6}}function Wg(t,e,r){const n=h1[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Pf(t){const e=[],r=a=>{e.push(String.fromCodePoint(a))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=a=>{m1(a,n,r)};for(let a=0;a<t.length;a+=1)Wg(t.charCodeAt(a),s,i);return e.join("")}function f1(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function p1(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}f1(n,e)}}function m1(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if(!(t>>7-n&1)){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function ts(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)Wg(t.charCodeAt(s),r,n);return new Uint8Array(e)}function g1(t){const e=[];return p1(t,r=>e.push(r)),new Uint8Array(e)}function sn(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};return t.forEach(s=>Cf(s,r,n)),Cf(null,r,n),e.join("")}function v1(t){return Math.round(Date.now()/1e3)+t}function y1(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Ae=()=>typeof window<"u"&&typeof document<"u",Hr={tested:!1,writable:!1},Vg=()=>{if(!Ae())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Hr.tested)return Hr.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Hr.tested=!0,Hr.writable=!0}catch{Hr.tested=!0,Hr.writable=!1}return Hr.writable};function x1(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{e[s]=n}),e}const Hg=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),w1=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",$n=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},qr=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},dr=async(t,e)=>{await t.removeItem(e)};class Bo{constructor(){this.promise=new Bo.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}Bo.promiseConstructor=Promise;function Tl(t){const e=t.split(".");if(e.length!==3)throw new uc("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!a1.test(e[n]))throw new uc("JWT not in base64url format");return{header:JSON.parse(Pf(e[0])),payload:JSON.parse(Pf(e[1])),signature:ts(e[2]),raw:{header:e[0],payload:e[1]}}}async function b1(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function _1(t,e){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const a=await t(i);if(!e(i,null,a)){n(a);return}}catch(a){if(!e(i,a)){s(a);return}}})()})}function j1(t){return("0"+t.toString(16)).substr(-2)}function S1(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(e),Array.from(e,j1).join("")}async function k1(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function N1(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await k1(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Tn(t,e,r=!1){const n=S1();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await $n(t,`${e}-code-verifier`,s);const i=await N1(n);return[i,n===i?"plain":"s256"]}const E1=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function C1(t){const e=t.headers.get(oc);if(!e||!e.match(E1))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function P1(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function O1(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const T1=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Rn(t){if(!T1.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Rl(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function R1(t,e){return new Proxy(t,{get:(r,n,s)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const i=n.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,s)}return!e.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(r,n,s)}})}function Of(t){return JSON.parse(JSON.stringify(t))}const Yr=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),A1=[502,503,504];async function Tf(t){var e;if(!w1(t))throw new lc(Yr(t),0);if(A1.includes(t.status))throw new lc(Yr(t),t.status);let r;try{r=await t.json()}catch(i){throw new Zr(Yr(i),i)}let n;const s=C1(t);if(s&&s.getTime()>=zg["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Nf(Yr(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new wt}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,a)=>i&&typeof a=="string",!0))throw new Nf(Yr(r),t.status,r.weak_password.reasons);throw new l1(Yr(r),t.status||500,n)}const I1=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function z(t,e,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[oc]||(i[oc]=zg["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const a=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(a.redirect_to=n.redirectTo);const l=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",u=await L1(t,e,r+l,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(u):{data:Object.assign({},u),error:null}}async function L1(t,e,r,n,s,i){const a=I1(e,n,s,i);let l;try{l=await t(r,Object.assign({},a))}catch(u){throw console.error(u),new lc(Yr(u),0)}if(l.ok||await Tf(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(u){await Tf(u)}}function bt(t){var e;let r=null;U1(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=v1(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function Rf(t){const e=bt(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function vr(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function $1(t){return{data:t,error:null}}function D1(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=t,a=Ps(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},u=Object.assign({},a);return{data:{properties:l,user:u},error:null}}function Af(t){return t}function U1(t){return t.access_token&&t.refresh_token&&t.expires_in}const Al=["global","local","others"];class M1{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=Hg(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,r=Al[0]){if(Al.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Al.join(", ")}`);try{return await z(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(M(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await z(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:vr})}catch(n){if(M(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=Ps(e,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await z(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:D1,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(M(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await z(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:vr})}catch(r){if(M(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,s,i,a,l,u;try{const c={nextPage:null,lastPage:0,total:0},d=await z(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:Af});if(d.error)throw d.error;const h=await d.json(),m=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,f=(u=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&u!==void 0?u:[];return f.length>0&&(f.forEach(x=>{const y=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(x.split(";")[1].split("=")[1]);c[`${w}Page`]=y}),c.total=parseInt(m)),{data:Object.assign(Object.assign({},h),c),error:null}}catch(c){if(M(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){Rn(e);try{return await z(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:vr})}catch(r){if(M(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){Rn(e);try{return await z(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:vr})}catch(n){if(M(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){Rn(e);try{return await z(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:vr})}catch(n){if(M(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){Rn(e.userId);try{const{data:r,error:n}=await z(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(M(r))return{data:null,error:r};throw r}}async _deleteFactor(e){Rn(e.userId),Rn(e.id);try{return{data:await z(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(M(r))return{data:null,error:r};throw r}}async _listOAuthClients(e){var r,n,s,i,a,l,u;try{const c={nextPage:null,lastPage:0,total:0},d=await z(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:Af});if(d.error)throw d.error;const h=await d.json(),m=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,f=(u=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&u!==void 0?u:[];return f.length>0&&(f.forEach(x=>{const y=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(x.split(";")[1].split("=")[1]);c[`${w}Page`]=y}),c.total=parseInt(m)),{data:Object.assign(Object.assign({},h),c),error:null}}catch(c){if(M(c))return{data:{clients:[]},error:c};throw c}}async _createOAuthClient(e){try{return await z(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(M(r))return{data:null,error:r};throw r}}async _getOAuthClient(e){try{return await z(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(M(r))return{data:null,error:r};throw r}}async _updateOAuthClient(e,r){try{return await z(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(M(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(e){try{return await z(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(M(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(e){try{return await z(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(M(r))return{data:null,error:r};throw r}}}function If(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}const An={debug:!!(globalThis&&Vg()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class qg extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class F1 extends qg{}async function B1(t,e,r){An.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),An.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){An.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await r()}finally{An.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw An.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new F1(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(An.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function z1(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Kg(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function W1(t){return parseInt(t,16)}function V1(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,n=>n.toString(16).padStart(2,"0")).join("")}function H1(t){var e;const{chainId:r,domain:n,expirationTime:s,issuedAt:i=new Date,nonce:a,notBefore:l,requestId:u,resources:c,scheme:d,uri:h,version:m}=t;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(a&&a.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${a}`);if(!h)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(m!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${m}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const f=Kg(t.address),x=d?`${d}://${n}`:n,y=t.statement?`${t.statement}
`:"",w=`${x} wants you to sign in with your Ethereum account:
${f}

${y}`;let p=`URI: ${h}
Version: ${m}
Chain ID: ${r}${a?`
Nonce: ${a}`:""}
Issued At: ${i.toISOString()}`;if(s&&(p+=`
Expiration Time: ${s.toISOString()}`),l&&(p+=`
Not Before: ${l.toISOString()}`),u&&(p+=`
Request ID: ${u}`),c){let g=`
Resources:`;for(const v of c){if(!v||typeof v!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${v}`);g+=`
- ${v}`}p+=g}return`${w}
${p}`}class ge extends Error{constructor({message:e,code:r,cause:n,name:s}){var i;super(e,{cause:n}),this.__isWebAuthnError=!0,this.name=(i=s??(n instanceof Error?n.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=r}}class vo extends ge{constructor(e,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:e}),this.name="WebAuthnUnknownError",this.originalError=r}}function q1({error:t,options:e}){var r,n,s;const{publicKey:i}=e;if(!i)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new ge({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new ge({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((n=i.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new ge({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((s=i.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new ge({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new ge({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new ge({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return i.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new ge({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new ge({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const a=window.location.hostname;if(Gg(a)){if(i.rp.id!==a)return new ge({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new ge({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new ge({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new ge({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new ge({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function K1({error:t,options:e}){const{publicKey:r}=e;if(!r)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new ge({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new ge({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const n=window.location.hostname;if(Gg(n)){if(r.rpId!==n)return new ge({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new ge({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new ge({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new ge({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class G1{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const Q1=new G1;function J1(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:r,excludeCredentials:n}=t,s=Ps(t,["challenge","user","excludeCredentials"]),i=ts(e).buffer,a=Object.assign(Object.assign({},r),{id:ts(r.id).buffer}),l=Object.assign(Object.assign({},s),{challenge:i,user:a});if(n&&n.length>0){l.excludeCredentials=new Array(n.length);for(let u=0;u<n.length;u++){const c=n[u];l.excludeCredentials[u]=Object.assign(Object.assign({},c),{id:ts(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return l}function Y1(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:r}=t,n=Ps(t,["challenge","allowCredentials"]),s=ts(e).buffer,i=Object.assign(Object.assign({},n),{challenge:s});if(r&&r.length>0){i.allowCredentials=new Array(r.length);for(let a=0;a<r.length;a++){const l=r[a];i.allowCredentials[a]=Object.assign(Object.assign({},l),{id:ts(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return i}function X1(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t;return{id:t.id,rawId:t.id,response:{attestationObject:sn(new Uint8Array(t.response.attestationObject)),clientDataJSON:sn(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Z1(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t,n=t.getClientExtensionResults(),s=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:sn(new Uint8Array(s.authenticatorData)),clientDataJSON:sn(new Uint8Array(s.clientDataJSON)),signature:sn(new Uint8Array(s.signature)),userHandle:s.userHandle?sn(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Gg(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function Lf(){var t,e;return!!(Ae()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function ej(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new vo("Browser returned unexpected credential type",e)}:{data:null,error:new vo("Empty credential response",e)}}catch(e){return{data:null,error:q1({error:e,options:t})}}}async function tj(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new vo("Browser returned unexpected credential type",e)}:{data:null,error:new vo("Empty credential response",e)}}catch(e){return{data:null,error:K1({error:e,options:t})}}}const rj={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},nj={userVerification:"preferred",hints:["security-key"]};function yo(...t){const e=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),r=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),n={};for(const s of t)if(s)for(const i in s){const a=s[i];if(a!==void 0)if(Array.isArray(a))n[i]=a;else if(r(a))n[i]=a;else if(e(a)){const l=n[i];e(l)?n[i]=yo(l,a):n[i]=yo(a)}else n[i]=a}return n}function sj(t,e){return yo(rj,t,e||{})}function ij(t,e){return yo(nj,t,e||{})}class aj{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:r,friendlyName:n,signal:s},i){try{const{data:a,error:l}=await this.client.mfa.challenge({factorId:e,webauthn:r});if(!a)return{data:null,error:l};const u=s??Q1.createNewAbortSignal();if(a.webauthn.type==="create"){const{user:c}=a.webauthn.credential_options.publicKey;c.name||(c.name=`${c.id}:${n}`),c.displayName||(c.displayName=c.name)}switch(a.webauthn.type){case"create":{const c=sj(a.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:d,error:h}=await ej({publicKey:c,signal:u});return d?{data:{factorId:e,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:d}},error:null}:{data:null,error:h}}case"request":{const c=ij(a.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:d,error:h}=await tj(Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:c,signal:u}));return d?{data:{factorId:e,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:d}},error:null}:{data:null,error:h}}}}catch(a){return M(a)?{data:null,error:a}:{data:null,error:new Zr("Unexpected error in challenge",a)}}}async _verify({challengeId:e,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:e,webauthn:n})}async _authenticate({factorId:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}},i){if(!r)return{data:null,error:new Ri("rpId is required for WebAuthn authentication")};try{if(!Lf())return{data:null,error:new Zr("Browser does not support WebAuthn",null)};const{data:a,error:l}=await this.challenge({factorId:e,webauthn:{rpId:r,rpOrigins:n},signal:s},{request:i});if(!a)return{data:null,error:l};const{webauthn:u}=a;return this._verify({factorId:e,challengeId:a.challengeId,webauthn:{type:u.type,rpId:r,rpOrigins:n,credential_response:u.credential_response}})}catch(a){return M(a)?{data:null,error:a}:{data:null,error:new Zr("Unexpected error in authenticate",a)}}}async _register({friendlyName:e,rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s},i){if(!r)return{data:null,error:new Ri("rpId is required for WebAuthn registration")};try{if(!Lf())return{data:null,error:new Zr("Browser does not support WebAuthn",null)};const{data:a,error:l}=await this._enroll({friendlyName:e});if(!a)return await this.client.mfa.listFactors().then(d=>{var h;return(h=d.data)===null||h===void 0?void 0:h.all.find(m=>m.factor_type==="webauthn"&&m.friendly_name===e&&m.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:l};const{data:u,error:c}=await this._challenge({factorId:a.id,friendlyName:a.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:s},{create:i});return u?this._verify({factorId:a.id,challengeId:u.challengeId,webauthn:{rpId:r,rpOrigins:n,type:u.webauthn.type,credential_response:u.webauthn.credential_response}}):{data:null,error:c}}catch(a){return M(a)?{data:null,error:a}:{data:null,error:new Zr("Unexpected error in register",a)}}}}z1();const oj={url:n1,storageKey:s1,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:i1,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function $f(t,e,r){return await r()}const In={};class Ai{get jwks(){var e,r;return(r=(e=In[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){In[this.storageKey]=Object.assign(Object.assign({},In[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=In[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){In[this.storageKey]=Object.assign(Object.assign({},In[this.storageKey]),{cachedAt:e})}constructor(e){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Ai.nextInstanceID,Ai.nextInstanceID+=1,this.instanceID>0&&Ae()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},oj),e);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new M1({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Hg(s.fetch),this.lock=s.lock||$f,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,this.throwOnError=s.throwOnError,s.lock?this.lock=s.lock:Ae()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=B1:this.lock=$f,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new aj(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:Vg()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=If(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=If(this.memoryStorage)),Ae()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Bg}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let r={},n="none";if(Ae()&&(r=x1(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),Ae()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),d1(i)){const u=(e=i.details)===null||e===void 0?void 0:e.code;if(u==="identity_already_exists"||u==="identity_not_found"||u==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:a,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",a,"redirect type",l),await this._saveSession(a),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return M(r)?this._returnResult({error:r}):this._returnResult({error:new Zr("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,s;try{const i=await z(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:bt}),{data:a,error:l}=i;if(l||!a)return this._returnResult({data:{user:null,session:null},error:l});const u=a.session,c=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",u)),this._returnResult({data:{user:c,session:u},error:null})}catch(i){if(M(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(e){var r,n,s;try{let i;if("email"in e){const{email:d,password:h,options:m}=e;let f=null,x=null;this.flowType==="pkce"&&([f,x]=await Tn(this.storage,this.storageKey)),i=await z(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:m==null?void 0:m.emailRedirectTo,body:{email:d,password:h,data:(r=m==null?void 0:m.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:f,code_challenge_method:x},xform:bt})}else if("phone"in e){const{phone:d,password:h,options:m}=e;i=await z(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(n=m==null?void 0:m.data)!==null&&n!==void 0?n:{},channel:(s=m==null?void 0:m.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:bt})}else throw new _a("You must provide either an email or phone number and a password");const{data:a,error:l}=i;if(l||!a)return this._returnResult({data:{user:null,session:null},error:l});const u=a.session,c=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",u)),this._returnResult({data:{user:c,session:u},error:null})}catch(i){if(M(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(e){try{let r;if("email"in e){const{email:i,password:a,options:l}=e;r=await z(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Rf})}else if("phone"in e){const{phone:i,password:a,options:l}=e;r=await z(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Rf})}else throw new _a("You must provide either an email or phone number and a password");const{data:n,error:s}=r;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!n||!n.session||!n.user){const i=new On;return this._returnResult({data:{user:null,session:null},error:i})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(M(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(e){var r,n,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;switch(r){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(e){var r,n,s,i,a,l,u,c,d,h,m;let f,x;if("message"in e)f=e.message,x=e.signature;else{const{chain:y,wallet:w,statement:p,options:g}=e;let v;if(Ae())if(typeof w=="object")v=w;else{const U=window;if("ethereum"in U&&typeof U.ethereum=="object"&&"request"in U.ethereum&&typeof U.ethereum.request=="function")v=U.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof w!="object"||!(g!=null&&g.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");v=w}const b=new URL((r=g==null?void 0:g.url)!==null&&r!==void 0?r:window.location.href),N=await v.request({method:"eth_requestAccounts"}).then(U=>U).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!N||N.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const E=Kg(N[0]);let P=(n=g==null?void 0:g.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!P){const U=await v.request({method:"eth_chainId"});P=W1(U)}const C={domain:b.host,address:E,statement:p,uri:b.href,version:"1",chainId:P,nonce:(s=g==null?void 0:g.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(a=(i=g==null?void 0:g.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&a!==void 0?a:new Date,expirationTime:(l=g==null?void 0:g.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(u=g==null?void 0:g.signInWithEthereum)===null||u===void 0?void 0:u.notBefore,requestId:(c=g==null?void 0:g.signInWithEthereum)===null||c===void 0?void 0:c.requestId,resources:(d=g==null?void 0:g.signInWithEthereum)===null||d===void 0?void 0:d.resources};f=H1(C),x=await v.request({method:"personal_sign",params:[V1(f),E]})}try{const{data:y,error:w}=await z(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:f,signature:x},!((h=e.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(m=e.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:bt});if(w)throw w;if(!y||!y.session||!y.user){const p=new On;return this._returnResult({data:{user:null,session:null},error:p})}return y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),this._returnResult({data:Object.assign({},y),error:w})}catch(y){if(M(y))return this._returnResult({data:{user:null,session:null},error:y});throw y}}async signInWithSolana(e){var r,n,s,i,a,l,u,c,d,h,m,f;let x,y;if("message"in e)x=e.message,y=e.signature;else{const{chain:w,wallet:p,statement:g,options:v}=e;let b;if(Ae())if(typeof p=="object")b=p;else{const E=window;if("solana"in E&&typeof E.solana=="object"&&("signIn"in E.solana&&typeof E.solana.signIn=="function"||"signMessage"in E.solana&&typeof E.solana.signMessage=="function"))b=E.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof p!="object"||!(v!=null&&v.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");b=p}const N=new URL((r=v==null?void 0:v.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in b&&b.signIn){const E=await b.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},v==null?void 0:v.signInWithSolana),{version:"1",domain:N.host,uri:N.href}),g?{statement:g}:null));let P;if(Array.isArray(E)&&E[0]&&typeof E[0]=="object")P=E[0];else if(E&&typeof E=="object"&&"signedMessage"in E&&"signature"in E)P=E;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in P&&"signature"in P&&(typeof P.signedMessage=="string"||P.signedMessage instanceof Uint8Array)&&P.signature instanceof Uint8Array)x=typeof P.signedMessage=="string"?P.signedMessage:new TextDecoder().decode(P.signedMessage),y=P.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in b)||typeof b.signMessage!="function"||!("publicKey"in b)||typeof b!="object"||!b.publicKey||!("toBase58"in b.publicKey)||typeof b.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");x=[`${N.host} wants you to sign in with your Solana account:`,b.publicKey.toBase58(),...g?["",g,""]:[""],"Version: 1",`URI: ${N.href}`,`Issued At: ${(s=(n=v==null?void 0:v.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=v==null?void 0:v.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${v.signInWithSolana.notBefore}`]:[],...!((a=v==null?void 0:v.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${v.signInWithSolana.expirationTime}`]:[],...!((l=v==null?void 0:v.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${v.signInWithSolana.chainId}`]:[],...!((u=v==null?void 0:v.signInWithSolana)===null||u===void 0)&&u.nonce?[`Nonce: ${v.signInWithSolana.nonce}`]:[],...!((c=v==null?void 0:v.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${v.signInWithSolana.requestId}`]:[],...!((h=(d=v==null?void 0:v.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...v.signInWithSolana.resources.map(P=>`- ${P}`)]:[]].join(`
`);const E=await b.signMessage(new TextEncoder().encode(x),"utf8");if(!E||!(E instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");y=E}}try{const{data:w,error:p}=await z(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:x,signature:sn(y)},!((m=e.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(f=e.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:bt});if(p)throw p;if(!w||!w.session||!w.user){const g=new On;return this._returnResult({data:{user:null,session:null},error:g})}return w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),this._returnResult({data:Object.assign({},w),error:p})}catch(w){if(M(w))return this._returnResult({data:{user:null,session:null},error:w});throw w}}async _exchangeCodeForSession(e){const r=await qr(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:i,error:a}=await z(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:bt});if(await dr(this.storage,`${this.storageKey}-code-verifier`),a)throw a;if(!i||!i.session||!i.user){const l=new On;return this._returnResult({data:{user:null,session:null,redirectType:null},error:l})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:a})}catch(i){if(M(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(e){try{const{options:r,provider:n,token:s,access_token:i,nonce:a}=e,l=await z(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:a,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:bt}),{data:u,error:c}=l;if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!u||!u.session||!u.user){const d=new On;return this._returnResult({data:{user:null,session:null},error:d})}return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),this._returnResult({data:u,error:c})}catch(r){if(M(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(e){var r,n,s,i,a;try{if("email"in e){const{email:l,options:u}=e;let c=null,d=null;this.flowType==="pkce"&&([c,d]=await Tn(this.storage,this.storageKey));const{error:h}=await z(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=u==null?void 0:u.data)!==null&&r!==void 0?r:{},create_user:(n=u==null?void 0:u.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken},code_challenge:c,code_challenge_method:d},redirectTo:u==null?void 0:u.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:h})}if("phone"in e){const{phone:l,options:u}=e,{data:c,error:d}=await z(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=u==null?void 0:u.data)!==null&&s!==void 0?s:{},create_user:(i=u==null?void 0:u.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken},channel:(a=u==null?void 0:u.channel)!==null&&a!==void 0?a:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:d})}throw new _a("You must provide either an email or phone number.")}catch(l){if(M(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async verifyOtp(e){var r,n;try{let s,i;"options"in e&&(s=(r=e.options)===null||r===void 0?void 0:r.redirectTo,i=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:a,error:l}=await z(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:bt});if(l)throw l;if(!a)throw new Error("An error occurred on token verification.");const u=a.session,c=a.user;return u!=null&&u.access_token&&(await this._saveSession(u),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",u)),this._returnResult({data:{user:c,session:u},error:null})}catch(s){if(M(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(e){var r,n,s;try{let i=null,a=null;this.flowType==="pkce"&&([i,a]=await Tn(this.storage,this.storageKey));const l=await z(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:a}),headers:this.headers,xform:$1});return this._returnResult(l)}catch(i){if(M(i))return this._returnResult({data:null,error:i});throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new wt;const{error:s}=await z(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(e){if(M(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:s,options:i}=e,{error:a}=await z(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:a})}else if("phone"in e){const{phone:n,type:s,options:i}=e,{data:a,error:l}=await z(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:l})}throw new _a("You must provide either an email or phone number and a type")}catch(r){if(M(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await qr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<Pl:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const a=await qr(this.userStorage,this.storageKey+"-user");a!=null&&a.user?e.user=a.user:e.user=Rl()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const a={value:this.suppressGetSessionWarning};e.user=R1(e.user,a),a.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await z(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:vr}):await this._useSession(async r=>{var n,s,i;const{data:a,error:l}=r;if(l)throw l;return!(!((n=a.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new wt}:await z(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=a.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:vr})})}catch(r){if(M(r))return c1(r)&&(await this._removeSession(),await dr(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new wt;const a=s.session;let l=null,u=null;this.flowType==="pkce"&&e.email!=null&&([l,u]=await Tn(this.storage,this.storageKey));const{data:c,error:d}=await z(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:l,code_challenge_method:u}),jwt:a.access_token,xform:vr});if(d)throw d;return a.user=c.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),this._returnResult({data:{user:a.user},error:null})})}catch(n){if(M(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new wt;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:a}=Tl(e.access_token);if(a.exp&&(n=a.exp,s=n<=r),s){const{data:l,error:u}=await this._callRefreshToken(e.refresh_token);if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:u}=await this._getUser(e.access_token);if(u)throw u;i={access_token:e.access_token,refresh_token:e.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(r){if(M(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:a,error:l}=r;if(l)throw l;e=(n=a.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new wt;const{data:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(M(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(e,r){try{if(!Ae())throw new ja("No browser detected.");if(e.error||e.error_description||e.error_code)throw new ja(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new kf("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ja("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new kf("No code detected.");const{data:g,error:v}=await this._exchangeCodeForSession(e.code);if(v)throw v;const b=new URL(window.location.href);return b.searchParams.delete("code"),window.history.replaceState(window.history.state,"",b.toString()),{data:{session:g.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:a,expires_in:l,expires_at:u,token_type:c}=e;if(!i||!l||!a||!c)throw new ja("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(l);let m=d+h;u&&(m=parseInt(u));const f=m-d;f*1e3<=Ln&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${f}s, should have been closer to ${h}s`);const x=m-h;d-x>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",x,m,d):d-x<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",x,m,d);const{data:y,error:w}=await this._getUser(i);if(w)throw w;const p={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:m,refresh_token:a,token_type:c,user:y.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:p,redirectType:e.type},error:null})}catch(n){if(M(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await qr(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({error:i});const a=(n=s.session)===null||n===void 0?void 0:n.access_token;if(a){const{error:l}=await this.admin.signOut(a,e);if(l&&!(u1(l)&&(l.status===404||l.status===401||l.status===403)))return this._returnResult({error:l})}return e!=="others"&&(await this._removeSession(),await dr(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const r=y1(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:a}=r;if(a)throw a;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await Tn(this.storage,this.storageKey,!0));try{return await z(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(M(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(r){if(M(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var a,l,u,c,d;const{data:h,error:m}=i;if(m)throw m;const f=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(a=e.options)===null||a===void 0?void 0:a.redirectTo,scopes:(l=e.options)===null||l===void 0?void 0:l.scopes,queryParams:(u=e.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:!0});return await z(this.fetch,"GET",f,{headers:this.headers,jwt:(d=(c=h.session)===null||c===void 0?void 0:c.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return Ae()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:e.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(M(n))return this._returnResult({data:{provider:e.provider,url:null},error:n});throw n}}async linkIdentityIdToken(e){return await this._useSession(async r=>{var n;try{const{error:s,data:{session:i}}=r;if(s)throw s;const{options:a,provider:l,token:u,access_token:c,nonce:d}=e,h=await z(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=i==null?void 0:i.access_token)!==null&&n!==void 0?n:void 0,body:{provider:l,id_token:u,access_token:c,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:bt}),{data:m,error:f}=h;return f?this._returnResult({data:{user:null,session:null},error:f}):!m||!m.session||!m.user?this._returnResult({data:{user:null,session:null},error:new On}):(m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("USER_UPDATED",m.session)),this._returnResult({data:m,error:f}))}catch(s){if(M(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,s;const{data:i,error:a}=r;if(a)throw a;return await z(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(M(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await _1(async s=>(s>0&&await b1(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await z(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:bt})),(s,i)=>{const a=200*Math.pow(2,s);return i&&Ol(i)&&Date.now()+a-n<Ln})}catch(n){if(this._debug(r,"error",n),M(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),Ae()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await qr(this.storage,this.storageKey);if(s&&this.userStorage){let a=await qr(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:s.user},await $n(this.userStorage,this.storageKey+"-user",a)),s.user=(e=a==null?void 0:a.user)!==null&&e!==void 0?e:Rl()}else if(s&&!s.user&&!s.user){const a=await qr(this.storage,this.storageKey+"-user");a&&(a!=null&&a.user)?(s.user=a.user,await dr(this.storage,this.storageKey+"-user"),await $n(this.storage,this.storageKey,s)):s.user=Rl()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const i=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Pl;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${Pl}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:a}=await this._callRefreshToken(s.refresh_token);a&&(console.error(a),Ol(a)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:l}=await this._getUser(s.access_token);!l&&(a!=null&&a.user)?(s.user=a.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(n,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new wt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Bo;const{data:i,error:a}=await this._refreshAccessToken(e);if(a)throw a;if(!i.session)throw new wt;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={data:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(s,"error",i),M(i)){const a={data:null,error:i};return Ol(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,r,n=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const i=[],a=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(e,r)}catch(u){i.push(u)}});if(await Promise.all(a),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const r=Object.assign({},e),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await $n(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const i=Of(s);await $n(this.storage,this.storageKey,i)}else{const s=Of(r);await $n(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await dr(this.storage,this.storageKey),await dr(this.storage,this.storageKey+"-code-verifier"),await dr(this.storage,this.storageKey+"-user"),this.userStorage&&await dr(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Ae()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Ln);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-e)/Ln);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Ln}ms, refresh threshold is ${ac} ticks`),s<=ac&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof qg)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ae()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,a]=await Tn(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(a)}`});s.push(l.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?this._returnResult({data:null,error:i}):await z(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(M(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,s;const{data:i,error:a}=r;if(a)return this._returnResult({data:null,error:a});const l=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:u,error:c}=await z(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return c?this._returnResult({data:null,error:c}):(e.factorType==="totp"&&u.type==="totp"&&(!((s=u==null?void 0:u.totp)===null||s===void 0)&&s.qr_code)&&(u.totp.qr_code=`data:image/svg+xml;utf-8,${u.totp.qr_code}`),this._returnResult({data:u,error:null}))})}catch(r){if(M(r))return this._returnResult({data:null,error:r});throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({data:null,error:i});const a=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?X1(e.webauthn.credential_response):Z1(e.webauthn.credential_response)})}:{code:e.code}),{data:l,error:u}=await z(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:a,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return u?this._returnResult({data:null,error:u}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),this._returnResult({data:l,error:u}))})}catch(r){if(M(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({data:null,error:i});const a=await z(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});if(a.error)return a;const{data:l}=a;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:J1(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:Y1(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(M(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){var e;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const s={all:[],phone:[],totp:[],webauthn:[]};for(const i of(e=r==null?void 0:r.factors)!==null&&e!==void 0?e:[])s.all.push(i),i.status==="verified"&&s[i.factor_type].push(i);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){var e,r;const{data:{session:n},error:s}=await this.getSession();if(s)return this._returnResult({data:null,error:s});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=Tl(n.access_token);let a=null;i.aal&&(a=i.aal);let l=a;((r=(e=n.user.factors)===null||e===void 0?void 0:e.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const c=i.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:c},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?await z(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new wt})})}catch(r){if(M(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:s},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new wt});const a=await z(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:l=>({data:l,error:null})});return a.data&&a.data.redirect_url&&Ae()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(n){if(M(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:s},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new wt});const a=await z(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:l=>({data:l,error:null})});return a.data&&a.data.redirect_url&&Ae()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(n){if(M(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(l=>l.kid===e);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(l=>l.kid===e),n&&this.jwks_cached_at+o1>s)return n;const{data:i,error:a}=await z(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,n=i.keys.find(l=>l.kid===e),!n)?null:n}async getClaims(e,r={}){try{let n=e;if(!n){const{data:f,error:x}=await this.getSession();if(x||!f.session)return this._returnResult({data:null,error:x});n=f.session.access_token}const{header:s,payload:i,signature:a,raw:{header:l,payload:u}}=Tl(n);r!=null&&r.allowExpired||P1(i.exp);const c=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!c){const{error:f}=await this.getUser(n);if(f)throw f;return{data:{claims:i,header:s,signature:a},error:null}}const d=O1(s.alg),h=await crypto.subtle.importKey("jwk",c,d,!0,["verify"]);if(!await crypto.subtle.verify(d,h,a,g1(`${l}.${u}`)))throw new uc("Invalid JWT signature");return{data:{claims:i,header:s,signature:a},error:null}}catch(n){if(M(n))return this._returnResult({data:null,error:n});throw n}}}Ai.nextInstanceID=0;const lj=Ai;class uj extends lj{constructor(e){super(e)}}class cj{constructor(e,r,n){var s,i,a;this.supabaseUrl=e,this.supabaseKey=r;const l=r1(e);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const u=`sb-${l.hostname.split(".")[0]}-auth-token`,c={db:G_,realtime:J_,auth:Object.assign(Object.assign({},Q_),{storageKey:u}),global:K_},d=t1(n??{},c);this.storageKey=(s=d.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(h,m)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(m)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((a=d.auth)!==null&&a!==void 0?a:{},this.headers,d.global.fetch),this.fetch=Z_(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new n_(new URL("rest/v1",l).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new V_(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new e_(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,r,n)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,r;if(this.accessToken)return await this.accessToken();const{data:n}=await this.auth.getSession();return(r=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:s,userStorage:i,storageKey:a,flowType:l,lock:u,debug:c,throwOnError:d},h,m){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new uj({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),h),storageKey:a,autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:s,userStorage:i,flowType:l,lock:u,debug:c,throwOnError:d,fetch:m,hasCustomAuthorizationHeader:Object.keys(this.headers).some(x=>x.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new w_(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,r,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const dj=(t,e,r)=>new cj(t,e,r);function hj(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}hj()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const fj="https://usbutocanshhiozxevon.supabase.co",pj="sb_publishable_YQ3XwwyvEIPIn9p0EeMjsQ_mk6-A88G",Ys=dj(fj,pj,{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0,storage:window.localStorage,flowType:"pkce"}}),Nn=H0((t,e)=>({user:null,session:null,loading:!0,initialized:!1,initialize:async()=>{try{const{data:{session:r},error:n}=await Ys.auth.getSession();if(n)throw n;t({session:r,user:(r==null?void 0:r.user)??null,loading:!1,initialized:!0}),Ys.auth.onAuthStateChange((s,i)=>{t({session:i,user:(i==null?void 0:i.user)??null,loading:!1})})}catch(r){console.error("Error initializing auth:",r),t({loading:!1,initialized:!0})}},signInWithGoogle:async()=>{try{t({loading:!0});const{error:r}=await Ys.auth.signInWithOAuth({provider:"google",options:{redirectTo:`${window.location.origin}/dashboard`,queryParams:{access_type:"offline",prompt:"consent"}}});if(r)throw r}catch(r){throw console.error("Error signing in with Google:",r),t({loading:!1}),r}},signOut:async()=>{try{t({loading:!0});const{error:r}=await Ys.auth.signOut();if(r)throw r;t({user:null,session:null,loading:!1})}catch(r){throw console.error("Error signing out:",r),t({loading:!1}),r}}}));function mj({children:t}){const{initialize:e,initialized:r}=Nn();return j.useEffect(()=>{r||e()},[e,r]),o.jsx(o.Fragment,{children:t})}function Kr({children:t}){const{user:e,loading:r}=Nn(),n=kn();return r?o.jsx("div",{className:"min-h-screen flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-brand-600 mx-auto"}),o.jsx("p",{className:"mt-4 text-slate-600",children:"Loading..."})]})}):e?o.jsx(o.Fragment,{children:t}):o.jsx(ob,{to:"/login",state:{from:n},replace:!0})}const Il="http://localhost:8080/api";async function gj(){const{data:{session:t}}=await Ys.auth.getSession();return t!=null&&t.access_token?{Authorization:`Bearer ${t.access_token}`}:{}}function vj(t,e){const r=new URL(t,"http://ep-aware.local");return e&&Object.entries(e).forEach(([s,i])=>{i!==void 0&&i!==""&&r.searchParams.set(s,String(i))}),`${Il.endsWith("/")?Il.slice(0,-1):Il}${r.pathname}${r.search}`}async function X(t,e={}){const{query:r,headers:n,body:s,...i}=e,a=vj(t,r),l=await gj(),u=new Headers(n);Object.entries(l).forEach(([d,h])=>{u.set(d,h)}),s&&!(s instanceof FormData)&&u.set("Content-Type","application/json");const c=await fetch(a,{...i,headers:u,body:(s instanceof FormData,s)});if(!c.ok){const d=await c.json().catch(()=>({}));throw new Error(d.message??"Request failed")}return c.json()}function yj(t){return X("/jobs",{method:"GET",query:t})}function xj(){return X("/jobs/meta/filters",{method:"GET"})}function wj(t){return X(`/jobs/${t}`,{method:"GET"})}function Df(t){return X("/assessments/compass",{method:"POST",body:JSON.stringify(t)})}function bj(t,e){const r=new FormData;return r.append("file",t),X("/resume/analyze",{method:"POST",body:r})}function _j(){return X("/profile",{method:"GET"})}function jj(t){return X("/profile",{method:"PUT",body:JSON.stringify(t)})}function Sj(t){return X(`/jobs/${t}/assessment`,{method:"GET"})}function kj(t,e=!1){return X(`/jobs/${t}/analyze`,{method:"POST",body:JSON.stringify({regenerate:e})})}function Nj(t){return X("/applications",{method:"POST",body:JSON.stringify(t)})}function Ej(t){return X("/hr/search",{method:"POST",body:JSON.stringify(t)})}function Cj(t){return X("/hr/outreach/generate",{method:"POST",body:JSON.stringify(t)})}function Pj(){return X("/applications",{method:"GET"})}function Oj(){return X("/resume/analyses",{method:"GET"})}function Ii(){return X("/knowledge-sources",{method:"GET"})}function Tj(t){const e=new FormData;return e.append("file",t),X("/knowledge-sources/upload",{method:"POST",body:e})}function Rj(t){return X("/knowledge-sources/linkedin",{method:"POST",body:JSON.stringify({url:t})})}function Aj(t){return X("/knowledge-sources/github",{method:"POST",body:JSON.stringify({url:t})})}function Ij(t){return X("/knowledge-sources/website",{method:"POST",body:JSON.stringify({url:t})})}function Lj(t){return X("/knowledge-sources/text",{method:"POST",body:JSON.stringify({content:t})})}function cc(t){return X(`/knowledge-sources/${t}`,{method:"DELETE"})}function Qg(){return X("/preferences",{method:"GET"})}function Jg(){return X("/preferences/predict",{method:"POST"})}function $j(t){return X("/preferences",{method:"PUT",body:JSON.stringify(t)})}function Dj(t,e){return X(`/generate/resume/${t}`,{method:"POST",body:JSON.stringify(e||{})})}function Uj(t,e){return X(`/generate/cover-letter/${t}`,{method:"POST",body:JSON.stringify(e||{})})}function Mj(t){return X(`/generate/${t}/materials`,{method:"GET"})}function Fj(){const{user:t}=Nn(),e=Wt(),[r,n]=j.useState(!1);j.useEffect(()=>{t&&s()},[t]);const s=async()=>{n(!0);try{const{sources:i}=await Ii();i.length===0?e("/onboarding"):e("/dashboard")}catch(i){console.error("Error checking profile:",i),e("/onboarding")}finally{n(!1)}};return t&&r?o.jsx("div",{className:"flex min-h-screen items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"mb-4 h-12 w-12 animate-spin rounded-full border-4 border-blue-600 border-t-transparent mx-auto"}),o.jsx("p",{className:"text-gray-600",children:"Loading your profile..."})]})}):o.jsxs("section",{className:"mx-auto flex max-w-6xl flex-col gap-10 px-6 py-16 md:flex-row md:items-center",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-sm font-semibold uppercase tracking-wide text-brand-600",children:"EP-ready hiring radar"}),o.jsx("h1",{className:"mt-4 text-4xl font-bold text-slate-900 sm:text-5xl",children:"Find roles that welcome your Employment Pass journey."}),o.jsx("p",{className:"mt-6 max-w-xl text-lg text-slate-600",children:"Upload your resume, understand your EP readiness with our Compass score, and focus on the top roles most likely to sponsor you in Singapore."}),o.jsx("div",{className:"mt-8 flex flex-wrap gap-4",children:t?o.jsxs(o.Fragment,{children:[o.jsx(Qe,{to:"/dashboard",className:"rounded-lg bg-brand-600 px-6 py-3 text-sm font-semibold text-white shadow-sm transition hover:bg-brand-700",children:"Go to Dashboard"}),o.jsx(Qe,{to:"/jobs",className:"rounded-lg border border-slate-300 px-6 py-3 text-sm font-semibold text-slate-700 hover:border-brand-300 hover:text-brand-600",children:"Browse EP-friendly Jobs"})]}):o.jsxs(o.Fragment,{children:[o.jsx(Qe,{to:"/login",className:"rounded-lg bg-brand-600 px-6 py-3 text-sm font-semibold text-white shadow-sm transition hover:bg-brand-700",children:"Get Started"}),o.jsx(Qe,{to:"/login",className:"rounded-lg border border-slate-300 px-6 py-3 text-sm font-semibold text-slate-700 hover:border-brand-300 hover:text-brand-600",children:"Sign In"})]})})]}),o.jsxs("div",{className:"flex-1 rounded-3xl border border-brand-100 bg-brand-50 p-8 shadow-inner",children:[o.jsx("p",{className:"text-sm font-semibold text-brand-700",children:"EP Compass Highlights"}),o.jsxs("ul",{className:"mt-4 space-y-4 text-sm text-brand-900",children:[o.jsx("li",{children:"- Salary fit weighting tuned for Singapore's EP criteria."}),o.jsx("li",{children:"- Diversity and employer signals surfaced upfront."}),o.jsx("li",{children:"- Top-3 shortlist updates whenever your profile changes."})]}),o.jsx("p",{className:"mt-6 text-xs uppercase tracking-wide text-brand-600",children:"Built for ultra-lean validation  production ready, database optional."})]})]})}function Bj(){const t=Wt(),{user:e,signInWithGoogle:r,loading:n}=Nn();j.useEffect(()=>{e&&t("/assessment")},[e,t]);const s=async()=>{try{await r()}catch(i){console.error("Login failed:",i),alert("Failed to sign in with Google. Please try again.")}};return o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50",children:o.jsxs("div",{className:"max-w-md w-full space-y-8 p-8 bg-white rounded-lg shadow-lg",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("h1",{className:"text-3xl font-bold text-brand-600",children:"EP-Aware Jobs"}),o.jsx("p",{className:"mt-2 text-sm text-slate-600",children:"Sign in to access your personalized job recommendations"})]}),o.jsx("div",{className:"mt-8",children:o.jsxs("button",{onClick:s,disabled:n,className:"w-full flex items-center justify-center gap-3 px-4 py-3 border border-slate-300 rounded-lg shadow-sm bg-white hover:bg-slate-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-brand-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[o.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[o.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),o.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),o.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),o.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),o.jsx("span",{className:"text-sm font-medium text-slate-700",children:n?"Signing in...":"Continue with Google"})]})}),o.jsx("div",{className:"mt-6 text-center text-xs text-slate-500",children:o.jsx("p",{children:"By signing in, you agree to our Terms of Service and Privacy Policy"})})]})})}const zj={salary:"C1  Salary",qualifications:"C2  Qualifications",diversity:"C3  Diversity",support:"C4  Support for Local Employment",skills:"C5  Skills Bonus",strategic:"C6  Strategic Bonus"},Wj={salary:["C1 Salary","salary"],qualifications:["C2 Qualifications","qualifications"],diversity:["C3 Diversity","diversity"],support:["C4 Support","support"],skills:["C5 Skills","skills bonus"],strategic:["C6 Strategic","strategic"]};function Yg({score:t}){if(!t)return null;const e=Object.entries(t.breakdown);return o.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:e.filter(([r,n])=>r==="skills"||r==="strategic"?n>0:!0).map(([r,n])=>{const s=Wj[r],i=t.notes.find(a=>s.some(l=>a.toLowerCase().includes(l.toLowerCase())))??"No detailed note available.";return o.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-4",children:[o.jsx("p",{className:"text-sm font-semibold text-slate-500",children:zj[r]}),o.jsxs("p",{className:"mt-2 text-3xl font-semibold text-slate-900",children:[n,o.jsx("span",{className:"text-base text-slate-400 ml-1",children:"pts"})]}),o.jsx("p",{className:"mt-2 text-xs text-slate-500",children:i})]},r)})})}function Gr(t,e){return e?o.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-slate-100 px-3 py-1 text-xs font-medium text-slate-600",children:[o.jsx("span",{className:"font-semibold text-slate-500",children:t}),e]},`${t}-${e}`):null}function Xg({profile:t,title:e="Profile Highlights"}){if(!t)return null;const r=t.skills??[];return o.jsxs("section",{className:"rounded-2xl border border-slate-200 bg-white p-5",children:[o.jsx("div",{className:"mb-3 flex items-center justify-between",children:o.jsx("h3",{className:"text-sm font-semibold uppercase tracking-wide text-slate-500",children:e})}),o.jsxs("div",{className:"flex flex-wrap gap-2",children:[Gr("Education",t.educationLevel),Gr("Experience",t.yearsExperience?`${t.yearsExperience} yrs`:void 0),Gr("Salary",t.expectedSalarySGD?`$${t.expectedSalarySGD}`:void 0),Gr("Nationality",t.nationality),Gr("Gender",t.gender),Gr("Last Title",t.lastTitle),Gr("Email",t.email),r.length>0&&r.map(n=>o.jsx("span",{className:"inline-flex rounded-full bg-brand-50 px-3 py-1 text-xs font-medium text-brand-700",children:n},`skill-${n}`)),r.length===0&&o.jsx("span",{className:"text-xs text-slate-400",children:"No skills detected yet."})]})]})}const Uf=["application/pdf","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],Vj=3*1024*1024;function Hj({status:t,onSelect:e,error:r,result:n,onValidationError:s}){const i=j.useRef(null),a=c=>{var h;const d=(h=c.target.files)==null?void 0:h[0];if(d){if(!Uf.includes(d.type)){s==null||s("Only PDF or DOCX resumes are supported."),c.target.value="";return}if(d.size>Vj){s==null||s("Resume must be 3MB or smaller."),c.target.value="";return}e(d)}},l=(()=>{switch(t){case"uploading":return"Uploading...";case"analyzing":return"Analyzing...";case"result":return"Upload another resume";default:return"Upload resume"}})(),u=t==="uploading"||t==="analyzing";return o.jsxs("div",{className:"rounded-2xl border-2 border-dashed border-slate-300 bg-white p-8 text-center",children:[o.jsx("input",{ref:i,type:"file",accept:Uf.join(","),className:"hidden",onChange:a,"data-testid":"resume-input"}),o.jsx("p",{className:"text-lg font-semibold text-slate-700",children:"Drop your resume here"}),o.jsx("p",{className:"mt-2 text-sm text-slate-500",children:"Accepted formats: PDF or DOCX. Max size 3MB."}),o.jsxs("button",{type:"button",className:"mt-4 inline-flex items-center justify-center gap-2 rounded-lg bg-brand-600 px-5 py-2 text-sm font-medium text-white shadow-sm transition hover:bg-brand-700 disabled:opacity-60 disabled:cursor-not-allowed",onClick:()=>{var c;return(c=i.current)==null?void 0:c.click()},disabled:u,children:[u&&o.jsxs("svg",{className:"animate-spin h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[o.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),o.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),l]}),r&&o.jsx("p",{className:"mt-4 text-sm text-red-600","data-testid":"resume-error",children:r}),n&&t==="result"&&o.jsxs("div",{className:"mt-6 rounded-lg border border-slate-200 bg-slate-50 p-4 text-left",children:[o.jsx("p",{className:"text-sm font-semibold text-slate-600",children:"Latest Score"}),o.jsx("p",{className:"text-2xl font-semibold text-slate-900",children:n.total}),o.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-500",children:n.verdict})]})]})}function Zg(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(r=Zg(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function Ma(){for(var t,e,r=0,n="",s=arguments.length;r<s;r++)(t=arguments[r])&&(e=Zg(t))&&(n&&(n+=" "),n+=e);return n}const qj={Likely:"stroke-verdict-likely",Borderline:"stroke-verdict-borderline",Unlikely:"stroke-verdict-unlikely"},Mf={Likely:"text-verdict-likely",Borderline:"text-verdict-borderline",Unlikely:"text-verdict-unlikely"},Ff=110,Kj=40;function ev({value:t,verdict:e,size:r=160}){const n=(r-20)/2,s=2*Math.PI*n,i=Math.min(Math.max(t/Ff*100,0),100),a=s-i/100*s;return o.jsxs("div",{className:"flex flex-col items-center gap-4",children:[o.jsxs("svg",{width:r,height:r,className:"overflow-visible",children:[o.jsx("circle",{cx:r/2,cy:r/2,r:n,strokeWidth:"12",className:"stroke-slate-200 fill-none"}),o.jsx("circle",{cx:r/2,cy:r/2,r:n,strokeWidth:"12",className:Ma("fill-none transition-all",qj[e]),strokeLinecap:"round",strokeDasharray:s,strokeDashoffset:a,transform:`rotate(-90 ${r/2} ${r/2})`}),o.jsx("text",{x:"50%",y:"50%",dominantBaseline:"middle",textAnchor:"middle",className:Ma("text-3xl font-semibold",Mf[e]),children:t}),o.jsxs("text",{x:"50%",y:"65%",dominantBaseline:"middle",textAnchor:"middle",className:"text-sm text-slate-500",children:["/ ",Ff," pts"]})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("p",{className:"text-sm uppercase tracking-wide text-slate-500",children:"Compass Score"}),o.jsx("p",{className:Ma("text-lg font-semibold",Mf[e]),children:e}),o.jsxs("p",{className:"text-xs text-slate-400 mt-1",children:["Pass threshold: ",Kj," pts"]})]})]})}function Gj({steps:t,isActive:e,onComplete:r,onSkip:n}){const[s,i]=j.useState(0),[a,l]=j.useState({top:0,left:0});if(j.useEffect(()=>{if(!e||s>=t.length)return;const f=()=>{const x=t[s],y=document.querySelector(x.target);if(!y)return;const w=y.getBoundingClientRect();let p=0,g=0;switch(x.position){case"bottom":p=w.bottom+window.scrollY+20,g=w.left+window.scrollX+w.width/2;break;case"top":p=w.top+window.scrollY-20,g=w.left+window.scrollX+w.width/2;break;case"right":p=w.top+window.scrollY+w.height/2,g=w.right+window.scrollX+20;break;case"left":p=w.top+window.scrollY+w.height/2,g=w.left+window.scrollX-20;break}l({top:p,left:g}),y.classList.add("tour-highlight")};return f(),window.addEventListener("resize",f),window.addEventListener("scroll",f),()=>{window.removeEventListener("resize",f),window.removeEventListener("scroll",f),document.querySelectorAll(".tour-highlight").forEach(x=>{x.classList.remove("tour-highlight")})}},[s,t,e]),!e||s>=t.length)return null;const u=t[s],c=s===t.length-1,d=()=>{c?r():i(s+1)},h=()=>{s>0&&i(s-1)},m=()=>{const f={position:"absolute",zIndex:9999};switch(u.position){case"bottom":return{...f,top:`${a.top}px`,left:`${a.left}px`,transform:"translateX(-50%)"};case"top":return{...f,top:`${a.top}px`,left:`${a.left}px`,transform:"translate(-50%, -100%)"};case"right":return{...f,top:`${a.top}px`,left:`${a.left}px`,transform:"translateY(-50%)"};case"left":return{...f,top:`${a.top}px`,left:`${a.left}px`,transform:"translate(-100%, -50%)"}}};return o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"fixed inset-0 bg-black/50 z-[9998]",onClick:n}),o.jsxs("div",{style:m(),className:"bg-white rounded-xl shadow-2xl border border-slate-200 p-6 max-w-sm w-full animate-in fade-in zoom-in duration-200",children:[o.jsxs("div",{className:"flex items-start justify-between mb-3",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:u.title}),o.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:["Step ",s+1," of ",t.length]})]}),o.jsx("button",{onClick:n,className:"text-slate-400 hover:text-slate-600 transition-colors",title:"Skip tour",children:o.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),o.jsx("p",{className:"text-sm text-slate-600 mb-6 leading-relaxed",children:u.content}),o.jsxs("div",{className:"flex items-center justify-between gap-3",children:[o.jsx("button",{onClick:n,className:"text-sm text-slate-500 hover:text-slate-700 font-medium transition-colors",children:"Skip tour"}),o.jsxs("div",{className:"flex gap-2",children:[s>0&&o.jsx("button",{onClick:h,className:"px-4 py-2 text-sm font-medium text-slate-700 border border-slate-300 rounded-lg hover:bg-slate-50 transition-colors",children:"Previous"}),o.jsx("button",{onClick:d,className:"px-4 py-2 text-sm font-medium text-white bg-brand-600 rounded-lg hover:bg-brand-700 transition-colors",children:c?"Got it!":"Next"})]})]}),o.jsx("div",{className:`absolute w-0 h-0 ${u.position==="bottom"?"border-l-8 border-l-transparent border-r-8 border-r-transparent border-b-8 border-b-white -top-2 left-1/2 -translate-x-1/2":u.position==="top"?"border-l-8 border-l-transparent border-r-8 border-r-transparent border-t-8 border-t-white -bottom-2 left-1/2 -translate-x-1/2":u.position==="right"?"border-t-8 border-t-transparent border-b-8 border-b-transparent border-r-8 border-r-white -left-2 top-1/2 -translate-y-1/2":"border-t-8 border-t-transparent border-b-8 border-b-transparent border-l-8 border-l-white -right-2 top-1/2 -translate-y-1/2"}`})]}),o.jsx("style",{children:`
        .tour-highlight {
          position: relative;
          z-index: 9999;
          box-shadow: 0 0 0 4px rgba(59, 130, 246, 0.6), 0 0 20px 8px rgba(59, 130, 246, 0.3) !important;
          border-radius: 8px;
          background-color: white;
        }
      `})]})}const Bf={name:""},ee=H0()((t,e)=>({basicInfo:Bf,applications:[],education:[],experiences:[],isLoading:!1,error:null,hasCompletedOnboarding:!1,setBasicInfo:r=>t(n=>({basicInfo:{...n.basicInfo,...r}})),setProfile:r=>t(()=>({profile:{...r,skills:r.skills??[]}})),mergeProfile:r=>t(n=>{var i;const s=[...new Set([...((i=n.profile)==null?void 0:i.skills)??[],...r.skills??[]])];return{profile:{...n.profile,...r,skills:s}}}),parsedProfile:void 0,setParsedProfile:r=>t({parsedProfile:r}),addApplication:r=>t(n=>({applications:[r,...n.applications]})),setApplications:r=>t({applications:r}),resetApplications:()=>t({applications:[]}),setEducation:r=>t({education:r}),setExperiences:r=>t({experiences:r}),loadProfileFromDB:async()=>{if(!e().isLoading){t({isLoading:!0,error:null});try{const r=await _j();t(r?{profile:{id:r.id,name:r.name,gender:r.gender,nationality:r.nationality,educationLevel:r.educationLevel,educationInstitution:r.educationInstitution,certifications:r.certifications,yearsExperience:r.yearsExperience,skills:r.skills||[],expectedSalarySGD:r.expectedSalarySGD,plan:r.plan||"freemium",latestCompassScore:r.latestCompassScore||null},basicInfo:{name:r.name||"",gender:r.gender,nationality:r.nationality},isLoading:!1}:{isLoading:!1})}catch(r){t({error:r instanceof Error?r.message:"Failed to load profile",isLoading:!1})}}},saveProfileToDB:async()=>{const{profile:r}=e();if(!r){t({error:"No profile to save"});return}t({isLoading:!0,error:null});try{const n=await jj({name:r.name,gender:r.gender,nationality:r.nationality,educationLevel:r.educationLevel,educationInstitution:r.educationInstitution,certifications:r.certifications,yearsExperience:r.yearsExperience,skills:r.skills,expectedSalarySGD:r.expectedSalarySGD,plan:r.plan});t({profile:{...r,id:n.id,...n},isLoading:!1})}catch(n){t({error:n instanceof Error?n.message:"Failed to save profile",isLoading:!1})}},clearNonActivatedProfile:()=>{const{profile:r}=e();r&&(!r.id||r.id==="local-user")&&t({profile:void 0,basicInfo:Bf})},completeOnboarding:()=>{t({hasCompletedOnboarding:!0})}})),Qj=["Male","Female","Other"],Jj=["Singaporean","Malaysian","Chinese","Indian","Indonesian","Filipino","Vietnamese","Thai","Bangladeshi","Myanmar","American","British","Australian","Canadian","Japanese","Korean","Other"],Yj={total:0,totalRaw:0,breakdown:{salary:0,qualifications:0,diversity:0,support:0,skills:0,strategic:0},verdict:"Borderline",notes:[]};function Xj(t,e){return{...t,name:e.name??t.name,gender:e.gender??t.gender,nationality:e.nationality??t.nationality,educationLevel:e.educationLevel??t.educationLevel,educationInstitution:e.educationInstitution??t.educationInstitution,yearsExperience:e.yearsExperience??t.yearsExperience,expectedSalarySGD:e.expectedSalarySGD??t.expectedSalarySGD,skills:[...new Set([...t.skills??[],...e.skills??[]])],plan:t.plan??"freemium"}}function Zj(){const t=Wt(),e=ee(T=>T.basicInfo),r=ee(T=>T.profile),n=ee(T=>T.hasCompletedOnboarding),s=ee(T=>T.setBasicInfo),i=ee(T=>T.setProfile),a=ee(T=>T.setParsedProfile),l=ee(T=>T.saveProfileToDB),u=ee(T=>T.loadProfileFromDB),c=ee(T=>T.clearNonActivatedProfile),d=ee(T=>T.completeOnboarding),h=ee(T=>T.isLoading),[m,f]=j.useState("basic"),[x,y]=j.useState("idle"),[w,p]=j.useState(),[g,v]=j.useState(),[b,N]=j.useState([]),[E,P]=j.useState(!1),[C,U]=j.useState(()=>({id:"local-user",name:e.name,gender:e.gender,nationality:e.nationality,educationLevel:"Bachelors",plan:"freemium",skills:[]})),[S,V]=j.useState(Yj),[re,me]=j.useState(!1),[Rt,At]=j.useState(),[$e,vt]=j.useState(!1),[k,I]=j.useState(!1),[B,W]=j.useState(!1),[Q,ke]=j.useState(!1),[De,lt]=j.useState(!1),[Ze,Vt]=j.useState({name:e.name,gender:e.gender,nationality:e.nationality}),zo=[{target:'[data-tour="basic-info-form"]',title:"Welcome! Start with Basic Info",content:"Fill in your name and basic details here. This is the first step to getting your EP readiness score.",position:"bottom"},{target:'[data-tour="resume-tab"]',title:"Resume Upload Next",content:"After filling basic info, you'll unlock the Resume tab. Upload your resume to extract your skills and experience automatically.",position:"bottom"},{target:'[data-tour="score-tab"]',title:"Get Your COMPASS Score",content:"Once your resume is analyzed, the Score tab unlocks. Review your EP readiness score and activate your profile to access job listings.",position:"bottom"},{target:'[data-tour="locked-navigation"]',title:"Complete Onboarding to Unlock",content:"Jobs, Dashboard, and Applications are locked until you activate your profile. Complete the assessment to unlock all features!",position:"bottom"}],En=j.useMemo(()=>!(r!=null&&r.latestCompassScore)||S.total===0?!1:r.latestCompassScore.total===S.total&&r.latestCompassScore.verdict===S.verdict,[r==null?void 0:r.latestCompassScore,S]);j.useEffect(()=>{c()},[c]),j.useEffect(()=>{if(!n&&!r&&!h){const T=setTimeout(()=>{W(!0)},500);return()=>clearTimeout(T)}},[n,r,h]),j.useEffect(()=>{m==="resume"&&(P(!0),Oj().then(T=>N(T.analyses)).catch(T=>console.error("Failed to fetch resume analyses:",T)).finally(()=>P(!1)))},[m]),j.useEffect(()=>{U(T=>({...T,name:e.name,gender:e.gender,nationality:e.nationality}))},[e]),j.useEffect(()=>{if(r&&r.id&&r.id!=="local-user"){if(U(T=>({...T,...r,skills:r.skills??[]})),r.latestCompassScore){let T=r.latestCompassScore.totalRaw;if(!T&&r.latestCompassScore.breakdown){const Ne=r.latestCompassScore.breakdown;T=(Ne.salary||0)+(Ne.qualifications||0)+(Ne.diversity||0)+(Ne.support||0)+(Ne.skills||0)+(Ne.strategic||0)}const de={...r.latestCompassScore,totalRaw:T||0};V(de)}f("score")}else f("basic")},[r]),j.useEffect(()=>{if(!g)return;const T=Xj({...C,plan:C.plan??"freemium",skills:C.skills??[]},g.profile);U(T),a(g.profile),r!=null&&r.latestCompassScore||(I(!0),Df({user:T}).then(({score:de})=>{V(de),I(!1)}).catch(de=>{console.error("Failed to calculate initial score:",de),I(!1)}))},[g,a,r==null?void 0:r.latestCompassScore]);const Gi=T=>{T.preventDefault();const de={name:O,gender:lr||void 0,nationality:Qi||void 0};s(de),U(Ne=>({...Ne,...de})),i({...C,...de,id:r==null?void 0:r.id,skills:C.skills||[]}),ke(!0),l().then(()=>{lt(!0),Vt({name:O,gender:lr||void 0,nationality:Qi||void 0}),f("resume")}).catch(Ne=>{console.error("Failed to save basic info:",Ne),f("resume")}).finally(()=>{ke(!1)})},Wo=async T=>{p(void 0),y("uploading");try{y("analyzing");const de=await bj(T);v(de),y("result"),f("score")}catch(de){y("error"),p(de instanceof Error?de.message:"Unable to analyze resume.")}},Vo=async()=>{vt(!0);try{await u()}catch(T){console.error("Failed to load profile:",T)}finally{vt(!1)}},Ho=()=>{t("/jobs")},qo=async()=>{At(void 0),me(!0);try{const{score:T}=await Df({user:{id:C.id??"local-user",name:C.name??e.name,gender:C.gender??e.gender,nationality:C.nationality??e.nationality,educationLevel:C.educationLevel,educationInstitution:C.educationInstitution,certifications:C.certifications,yearsExperience:C.yearsExperience,expectedSalarySGD:C.expectedSalarySGD,skills:C.skills??[],plan:C.plan??"freemium"}});V(T),me(!1)}catch(T){me(!1),At(T instanceof Error?T.message:"Unable to recompute score.")}},Ko=T=>{const de=T.split(",").map(Ne=>Ne.trim()).filter(Boolean);U(Ne=>({...Ne,skills:de}))},Go=C.skills??[],Cn=!!g||!!(r&&r.id&&r.id!=="local-user"&&r.skills&&r.skills.length>0),Qo=S.total>0,[O,D]=j.useState(e.name),[lr,Sd]=j.useState(e.gender||""),[Qi,kd]=j.useState(e.nationality||""),Rs=!!O,lv=O!==Ze.name||lr!==(Ze.gender||"")||Qi!==(Ze.nationality||"");return j.useEffect(()=>{e.name&&!O&&(D(e.name),Sd(e.gender||""),kd(e.nationality||""),Vt({name:e.name,gender:e.gender,nationality:e.nationality}))},[e]),o.jsxs("div",{className:"mx-auto max-w-6xl px-4 sm:px-6 py-8 sm:py-12",children:[o.jsx(Gj,{steps:zo,isActive:B,onComplete:()=>{W(!1),d()},onSkip:()=>{W(!1),d()}}),o.jsx("div",{className:"mb-6 sm:mb-8",children:o.jsxs("div",{className:"flex items-start justify-between gap-4",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-sm font-semibold uppercase tracking-wide text-brand-600",children:"Self-assessment"}),o.jsx("h2",{className:"mt-2 text-2xl sm:text-3xl font-semibold text-slate-900",children:"Get EP-ready in three quick steps"}),o.jsx("p",{className:"mt-2 text-sm text-slate-500",children:"Fill in essentials, upload your resume, and fine-tune your Compass score before shortlisting jobs."})]}),n&&o.jsxs("button",{onClick:()=>W(!0),className:"flex-shrink-0 inline-flex items-center gap-2 px-3 py-2 text-sm font-medium text-brand-600 hover:text-brand-700 hover:bg-brand-50 rounded-lg transition-colors",title:"Restart onboarding tour",children:[o.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),o.jsx("span",{className:"hidden sm:inline",children:"Help"})]})]})}),o.jsx("div",{className:"mb-8 border-b border-slate-200 overflow-x-auto",children:o.jsxs("nav",{className:"-mb-px flex space-x-4 sm:space-x-8","aria-label":"Tabs",children:[o.jsxs("button",{onClick:()=>f("basic"),className:`
              whitespace-nowrap border-b-2 py-3 sm:py-4 px-1 text-xs sm:text-sm font-medium transition-colors flex-shrink-0
              ${m==="basic"?"border-brand-600 text-brand-600":"border-transparent text-slate-500 hover:border-slate-300 hover:text-slate-700"}
            `,children:["1. Basic Info",Rs&&o.jsx("span",{className:"ml-2 inline-flex items-center rounded-full bg-green-100 px-2 py-0.5 text-xs font-medium text-green-800",children:""})]}),o.jsxs("button",{"data-tour":"resume-tab",onClick:()=>Rs&&f("resume"),disabled:!Rs,className:`
              whitespace-nowrap border-b-2 py-3 sm:py-4 px-1 text-xs sm:text-sm font-medium transition-colors flex-shrink-0
              ${m==="resume"?"border-brand-600 text-brand-600":Rs?"border-transparent text-slate-500 hover:border-slate-300 hover:text-slate-700":"border-transparent text-slate-300 cursor-not-allowed"}
            `,children:["2. Resume",Cn&&o.jsx("span",{className:"ml-2 inline-flex items-center rounded-full bg-green-100 px-2 py-0.5 text-xs font-medium text-green-800",children:""})]}),o.jsxs("button",{"data-tour":"score-tab",onClick:()=>Cn&&f("score"),disabled:!Cn,className:`
              whitespace-nowrap border-b-2 py-3 sm:py-4 px-1 text-xs sm:text-sm font-medium transition-colors flex-shrink-0
              ${m==="score"?"border-brand-600 text-brand-600":Cn?"border-transparent text-slate-500 hover:border-slate-300 hover:text-slate-700":"border-transparent text-slate-300 cursor-not-allowed"}
            `,children:["3. Score",Qo&&o.jsx("span",{className:"ml-2 inline-flex items-center rounded-full bg-green-100 px-2 py-0.5 text-xs font-medium text-green-800",children:""})]})]})}),m==="basic"&&o.jsxs("form",{"data-tour":"basic-info-form",onSubmit:Gi,className:"rounded-3xl border border-slate-200 bg-white p-8 shadow-card grid gap-6 md:grid-cols-2",children:[o.jsxs("div",{className:"md:col-span-2",children:[o.jsx("label",{className:"block text-xs font-semibold uppercase tracking-wide text-slate-500",children:"Name *"}),o.jsx("input",{name:"name",value:O,onChange:T=>D(T.target.value),className:"mt-2 w-full rounded-lg border border-slate-300 px-3 py-2 text-sm",placeholder:"Alex Tan",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-semibold uppercase tracking-wide text-slate-500",children:"Gender"}),o.jsxs("select",{name:"gender",value:lr,onChange:T=>Sd(T.target.value),className:"mt-2 w-full rounded-lg border border-slate-300 px-3 py-2 text-sm",children:[o.jsx("option",{value:"",children:"Select gender (optional)"}),Qj.map(T=>o.jsx("option",{value:T,children:T},T))]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-semibold uppercase tracking-wide text-slate-500",children:"Nationality"}),o.jsxs("select",{name:"nationality",value:Qi,onChange:T=>kd(T.target.value),className:"mt-2 w-full rounded-lg border border-slate-300 px-3 py-2 text-sm",children:[o.jsx("option",{value:"",children:"Select nationality"}),Jj.map(T=>o.jsx("option",{value:T,children:T},T))]})]}),o.jsx("div",{className:"md:col-span-2",children:o.jsx("p",{className:"text-xs text-slate-500 italic",children:"Education level and other details will be extracted from your resume in the next step."})}),o.jsx("div",{className:"md:col-span-2 flex justify-end gap-3",children:o.jsx("button",{type:"submit",disabled:Q||!lv||!Rs,className:"rounded-lg bg-brand-600 px-5 py-2 text-sm font-semibold text-white shadow-sm transition hover:bg-brand-700 disabled:opacity-50 disabled:cursor-not-allowed",children:Q?"Saving...":"Save & Continue"})})]}),m==="resume"&&o.jsxs("div",{className:"space-y-6",children:[o.jsx(Hj,{status:x,error:w,result:S,onSelect:Wo,onValidationError:T=>{p(T),y("error")}}),E?o.jsx("div",{className:"rounded-3xl border border-slate-200 bg-white p-8 shadow-card",children:o.jsxs("div",{className:"flex items-center justify-center",children:[o.jsxs("svg",{className:"animate-spin h-6 w-6 text-brand-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[o.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),o.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),o.jsx("span",{className:"ml-3 text-sm text-slate-600",children:"Loading resume history..."})]})}):b.length>0&&o.jsxs("div",{className:"rounded-3xl border border-slate-200 bg-white p-6 shadow-card",children:[o.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Resume Upload History"}),o.jsx("div",{className:"space-y-4",children:b.map((T,de)=>{var Ne,Nd,Ed,Cd,Pd,Od,Td,Rd;return o.jsxs("details",{className:"group border border-slate-200 rounded-lg",open:de===0,children:[o.jsx("summary",{className:"cursor-pointer p-4 hover:bg-slate-50 rounded-lg",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("div",{className:"flex-1",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("svg",{className:"h-5 w-5 text-slate-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:o.jsx("path",{fillRule:"evenodd",d:"M4.5 2A1.5 1.5 0 003 3.5v13A1.5 1.5 0 004.5 18h11a1.5 1.5 0 001.5-1.5V7.621a1.5 1.5 0 00-.44-1.06l-4.12-4.122A1.5 1.5 0 0011.378 2H4.5zm2.25 8.5a.75.75 0 000 1.5h6.5a.75.75 0 000-1.5h-6.5zm0 3a.75.75 0 000 1.5h6.5a.75.75 0 000-1.5h-6.5z",clipRule:"evenodd"})}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-slate-900",children:T.file_name}),o.jsxs("p",{className:"text-xs text-slate-500",children:["Uploaded ",new Date(T.created_at).toLocaleDateString()," at ",new Date(T.created_at).toLocaleTimeString(),"  ",(T.file_size/1024).toFixed(1)," KB","  ","Processed in ",T.processing_time_ms,"ms"]})]})]})}),o.jsx("svg",{className:"h-5 w-5 text-slate-400 group-open:rotate-180 transition-transform",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:o.jsx("path",{fillRule:"evenodd",d:"M5.23 7.21a.75.75 0 011.06.02L10 11.168l3.71-3.938a.75.75 0 111.08 1.04l-4.25 4.5a.75.75 0 01-1.08 0l-4.25-4.5a.75.75 0 01.02-1.06z",clipRule:"evenodd"})})]})}),o.jsx("div",{className:"px-4 pb-4 pt-2 border-t border-slate-200 bg-slate-50",children:o.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"text-sm font-semibold text-slate-700 mb-2",children:"Contact Information"}),o.jsxs("dl",{className:"space-y-1 text-sm",children:[o.jsxs("div",{children:[o.jsx("dt",{className:"inline font-medium text-slate-600",children:"Name: "}),o.jsx("dd",{className:"inline text-slate-900",children:T.parsed_data.name})]}),o.jsxs("div",{children:[o.jsx("dt",{className:"inline font-medium text-slate-600",children:"Email: "}),o.jsx("dd",{className:"inline text-slate-900",children:T.parsed_data.email})]}),o.jsxs("div",{children:[o.jsx("dt",{className:"inline font-medium text-slate-600",children:"Phone: "}),o.jsx("dd",{className:"inline text-slate-900",children:T.parsed_data.telephone})]})]})]}),o.jsxs("div",{children:[o.jsxs("h4",{className:"text-sm font-semibold text-slate-700 mb-2",children:["Skills (",((Ne=T.parsed_data.skills)==null?void 0:Ne.length)||0,")"]}),o.jsxs("div",{className:"flex flex-wrap gap-1",children:[(Nd=T.parsed_data.skills)==null?void 0:Nd.slice(0,12).map((yt,As)=>o.jsx("span",{className:"inline-flex items-center rounded-md bg-brand-50 px-2 py-0.5 text-xs font-medium text-brand-700",children:yt},As)),(((Ed=T.parsed_data.skills)==null?void 0:Ed.length)||0)>12&&o.jsxs("span",{className:"inline-flex items-center rounded-md bg-slate-100 px-2 py-0.5 text-xs font-medium text-slate-600",children:["+",(((Cd=T.parsed_data.skills)==null?void 0:Cd.length)||0)-12," more"]})]})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-sm font-semibold text-slate-700 mb-2",children:"Education"}),o.jsx("div",{className:"space-y-2",children:((Pd=T.parsed_data.education)==null?void 0:Pd.map((yt,As)=>o.jsxs("div",{className:"text-sm",children:[o.jsxs("p",{className:"font-medium text-slate-900",children:[yt.degree," in ",yt.field_of_study]}),o.jsxs("p",{className:"text-xs text-slate-600",children:[yt.institution,"  ",yt.duration]})]},As)))||o.jsx("p",{className:"text-xs text-slate-500",children:"No education data"})})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-sm font-semibold text-slate-700 mb-2",children:"Experience"}),o.jsxs("div",{className:"space-y-2",children:[((Od=T.parsed_data.experience)==null?void 0:Od.slice(0,3).map((yt,As)=>o.jsxs("div",{className:"text-sm",children:[o.jsx("p",{className:"font-medium text-slate-900",children:yt.job_title}),o.jsxs("p",{className:"text-xs text-slate-600",children:[yt.company,"  ",yt.duration]}),o.jsx("p",{className:"text-xs text-slate-500 line-clamp-2 mt-1",children:yt.description})]},As)))||o.jsx("p",{className:"text-xs text-slate-500",children:"No experience data"}),(((Td=T.parsed_data.experience)==null?void 0:Td.length)||0)>3&&o.jsxs("p",{className:"text-xs text-slate-500",children:["+",(((Rd=T.parsed_data.experience)==null?void 0:Rd.length)||0)-3," more positions"]})]})]})]})})]},T.id)})})]})]}),m==="score"&&o.jsxs("div",{className:"grid gap-6 lg:grid-cols-[2fr,1fr]",children:[o.jsxs("div",{className:"space-y-6",children:[o.jsx("div",{className:"rounded-3xl border border-slate-200 bg-white p-6 sm:p-8 shadow-card flex flex-col gap-6 sm:flex-row sm:items-center sm:justify-between",children:k?o.jsxs("div",{className:"flex flex-col items-center justify-center py-8 w-full",children:[o.jsxs("svg",{className:"animate-spin h-12 w-12 text-brand-600 mb-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[o.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),o.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),o.jsx("p",{className:"text-base sm:text-lg font-semibold text-slate-700",children:"Calculating your Compass score..."}),o.jsx("p",{className:"text-xs sm:text-sm text-slate-500 mt-2",children:"This may take a few seconds"})]}):o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"flex justify-center sm:justify-start",children:o.jsx(ev,{value:S.totalRaw,verdict:S.verdict})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-slate-900 text-center sm:text-left",children:En?"Profile activated":"Compass score ready"}),o.jsx("p",{className:"mt-2 text-sm text-slate-500 text-center sm:text-left",children:En?"Tweak parameters above and recalculate to update your score.":"Activate this profile to refresh recommendations and EP indicators immediately."}),o.jsxs("div",{className:"mt-4 flex flex-col sm:flex-row gap-3",children:[o.jsx("button",{type:"button",onClick:Vo,disabled:$e||En||S.total===0,className:"inline-flex items-center justify-center rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white shadow-sm transition hover:bg-brand-700 disabled:opacity-60 disabled:cursor-not-allowed min-w-[140px]",children:$e?o.jsxs(o.Fragment,{children:[o.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[o.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),o.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Saving..."]}):En?o.jsxs(o.Fragment,{children:[o.jsx("svg",{className:"mr-2 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:o.jsx("path",{fillRule:"evenodd",d:"M16.704 4.153a.75.75 0 01.143 1.052l-8 10.5a.75.75 0 01-1.127.075l-4.5-4.5a.75.75 0 011.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 011.05-.143z",clipRule:"evenodd"})}),"Activated"]}):"Use this profile"}),o.jsx("button",{type:"button",onClick:Ho,className:"inline-flex items-center justify-center rounded-lg border border-slate-300 bg-white px-4 py-2 text-sm font-semibold text-slate-700 shadow-sm transition hover:bg-slate-50",children:"See Matched Jobs"})]})]})]})}),o.jsx(Yg,{score:S}),o.jsxs("div",{className:"rounded-3xl border border-slate-200 bg-white p-6 shadow-card",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h3",{className:"text-sm font-semibold uppercase tracking-wide text-slate-500",children:"Fine-tune & rescore"}),o.jsxs("button",{type:"button",onClick:()=>f("resume"),className:"inline-flex items-center gap-2 rounded-lg border border-slate-300 bg-white px-3 py-1.5 text-xs font-medium text-slate-700 shadow-sm transition hover:bg-slate-50",title:"Upload a new resume to refresh your profile",children:[o.jsxs("svg",{className:"h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:[o.jsx("path",{d:"M9.25 13.25a.75.75 0 001.5 0V4.636l2.955 3.129a.75.75 0 001.09-1.03l-4.25-4.5a.75.75 0 00-1.09 0l-4.25 4.5a.75.75 0 101.09 1.03l2.955-3.129v8.614z"}),o.jsx("path",{d:"M3.5 12.75a.75.75 0 00-1.5 0v2.5A2.75 2.75 0 004.75 18h10.5A2.75 2.75 0 0018 15.25v-2.5a.75.75 0 00-1.5 0v2.5c0 .69-.56 1.25-1.25 1.25H4.75c-.69 0-1.25-.56-1.25-1.25v-2.5z"})]}),o.jsx("span",{className:"hidden sm:inline",children:"Upload New Resume"}),o.jsx("span",{className:"sm:hidden",children:"New Resume"})]})]}),o.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-semibold uppercase tracking-wide text-slate-500",children:"Years of experience"}),o.jsx("input",{type:"number",min:0,value:C.yearsExperience??"",onChange:T=>U(de=>({...de,yearsExperience:T.target.value?Number.parseInt(T.target.value,10):void 0})),className:"mt-2 w-full rounded-lg border border-slate-300 px-3 py-2 text-sm"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-semibold uppercase tracking-wide text-slate-500",children:"Expected salary (SGD)"}),o.jsx("input",{type:"number",min:0,value:C.expectedSalarySGD??"",onChange:T=>U(de=>({...de,expectedSalarySGD:T.target.value?Number.parseInt(T.target.value,10):void 0})),className:"mt-2 w-full rounded-lg border border-slate-300 px-3 py-2 text-sm"})]}),o.jsxs("div",{className:"md:col-span-2",children:[o.jsx("label",{className:"block text-xs font-semibold uppercase tracking-wide text-slate-500",children:"Core skills (comma separated)"}),o.jsx("textarea",{value:Go.join(", "),onChange:T=>Ko(T.target.value),className:"mt-2 h-24 w-full rounded-lg border border-slate-300 px-3 py-2 text-sm"})]})]}),o.jsxs("div",{className:"mt-4 flex flex-wrap items-center gap-3",children:[o.jsxs("button",{type:"button",onClick:qo,disabled:re,className:"inline-flex items-center gap-2 rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white shadow-sm transition hover:bg-brand-700 disabled:opacity-60 disabled:cursor-not-allowed",children:[re&&o.jsxs("svg",{className:"animate-spin h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[o.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),o.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),re?"Recalculating...":"Recalculate score"]}),Rt&&o.jsx("p",{className:"text-sm text-red-500",children:Rt})]})]})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsx(Xg,{profile:C}),o.jsxs("div",{className:"rounded-3xl border border-slate-200 bg-slate-50 p-6",children:[o.jsx("h3",{className:"text-sm font-semibold uppercase tracking-wide text-slate-600",children:"Profile extracted"}),o.jsx("p",{className:"mt-2 text-sm text-slate-600",children:"Your resume has been parsed successfully. Review and edit the extracted information above to ensure accuracy before calculating your Compass score."})]})]})]})]})}/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eS=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),tS=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,r,n)=>n?n.toUpperCase():r.toLowerCase()),zf=t=>{const e=tS(t);return e.charAt(0).toUpperCase()+e.slice(1)},tv=(...t)=>t.filter((e,r,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===r).join(" ").trim(),rS=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var nS={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sS=j.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:s="",children:i,iconNode:a,...l},u)=>j.createElement("svg",{ref:u,...nS,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:tv("lucide",s),...!i&&!rS(l)&&{"aria-hidden":"true"},...l},[...a.map(([c,d])=>j.createElement(c,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Se=(t,e)=>{const r=j.forwardRef(({className:n,...s},i)=>j.createElement(sS,{ref:i,iconNode:e,className:tv(`lucide-${eS(zf(t))}`,`lucide-${t}`,n),...s}));return r.displayName=zf(t),r};/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iS=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],aS=Se("briefcase",iS);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oS=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Wf=Se("chevron-left",oS);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lS=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],zs=Se("chevron-right",lS);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uS=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],rv=Se("circle-check-big",uS);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],jd=Se("circle-check",cS);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],hS=Se("circle-x",dS);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fS=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],nv=Se("clock",fS);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pS=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],mS=Se("download",pS);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gS=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],er=Se("file-text",gS);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vS=[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]],yS=Se("github",vS);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],wS=Se("globe",xS);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bS=[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]],_S=Se("linkedin",bS);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jS=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],SS=Se("plus",jS);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kS=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],sv=Se("refresh-cw",kS);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NS=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],Li=Se("sparkles",NS);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ES=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],CS=Se("trash-2",ES);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PS=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],OS=Se("trending-up",PS);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TS=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Vf=Se("upload",TS);function RS(){const t=Wt(),[e,r]=j.useState("welcome"),[n,s]=j.useState([]),[i,a]=j.useState(null),[l,u]=j.useState(!1),[c,d]=j.useState(null),[h,m]=j.useState(!0),[f,x]=j.useState(""),[y,w]=j.useState(""),[p,g]=j.useState(""),[v,b]=j.useState("");j.useEffect(()=>{N()},[]);const N=async()=>{try{const{sources:k}=await Ii();if(k.length>0){t("/knowledge-base");return}}catch(k){console.error("Failed to check existing sources:",k)}finally{m(!1)}},E=async k=>{u(!0),d(null);try{const I=n.find(W=>W.source_type==="resume");I&&(await cc(I.id),s(W=>W.filter(Q=>Q.id!==I.id)));const{source:B}=await Tj(k);s(W=>[...W,B])}catch(I){d(I instanceof Error?I.message:"Failed to upload file")}finally{u(!1)}},P=async()=>{if(f.trim()){u(!0),d(null);try{const{source:k}=await Rj(f);s(I=>[...I,k]),x(""),V(k.id)}catch(k){d(k instanceof Error?k.message:"Failed to add LinkedIn profile")}finally{u(!1)}}},C=async()=>{if(y.trim()){u(!0),d(null);try{const{source:k}=await Aj(y);s(I=>[...I,k]),w(""),V(k.id)}catch(k){d(k instanceof Error?k.message:"Failed to add GitHub profile")}finally{u(!1)}}},U=async()=>{if(p.trim()){u(!0),d(null);try{const{source:k}=await Ij(p);s(I=>[...I,k]),g(""),V(k.id)}catch(k){d(k instanceof Error?k.message:"Failed to add website")}finally{u(!1)}}},S=async()=>{if(v.trim()){u(!0),d(null);try{const{source:k}=await Lj(v);s(I=>[...I,k]),b("")}catch(k){d(k instanceof Error?k.message:"Failed to add manual text")}finally{u(!1)}}},V=async k=>{let B=0;const W=setInterval(async()=>{B++;try{const{sources:Q}=await Ii(),ke=Q.find(De=>De.id===k);ke&&(ke.processing_status==="completed"?(s(De=>De.map(lt=>lt.id===k?ke:lt)),clearInterval(W)):ke.processing_status==="failed"&&(s(De=>De.map(lt=>lt.id===k?ke:lt)),clearInterval(W),d(`Processing failed: ${ke.error_message}`))),B>=30&&clearInterval(W)}catch(Q){console.error("Failed to poll source status:",Q)}},2e3)},re=async()=>{u(!0),d(null);try{const{preferences:k}=await Jg();a(k),r("preferences")}catch(k){d(k instanceof Error?k.message:"Failed to predict preferences")}finally{u(!1)}},me=async()=>{if(i){u(!0),d(null);try{await $j({...i,user_confirmed:!0}),r("complete")}catch(k){d(k instanceof Error?k.message:"Failed to save preferences")}finally{u(!1)}}},Rt=async()=>{if(n.length===0){d("Please add at least one knowledge source");return}if(!n.some(I=>I.processing_status==="completed")){d("Please wait for at least one source to finish processing");return}await re()},At=n.filter(k=>k.processing_status==="completed").length,$e=n.length>0,vt=At>0;return h?o.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gradient-to-br from-blue-50 via-white to-purple-50",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"mb-4 h-12 w-12 animate-spin rounded-full border-4 border-blue-600 border-t-transparent mx-auto"}),o.jsx("p",{className:"text-gray-600",children:"Checking your profile..."})]})}):o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50",children:o.jsxs("div",{className:"container mx-auto px-4 py-8",children:[o.jsx("div",{className:"mb-8 flex justify-center",children:o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx(Sa,{label:"Welcome",active:e==="welcome",completed:e!=="welcome"}),o.jsx(zs,{className:"text-gray-400"}),o.jsx(Sa,{label:"Knowledge Base",active:e==="sources",completed:e==="preferences"||e==="complete"}),o.jsx(zs,{className:"text-gray-400"}),o.jsx(Sa,{label:"Preferences",active:e==="preferences",completed:e==="complete"}),o.jsx(zs,{className:"text-gray-400"}),o.jsx(Sa,{label:"Complete",active:e==="complete",completed:!1})]})}),e==="welcome"&&o.jsxs("div",{className:"mx-auto max-w-2xl text-center",children:[o.jsx("div",{className:"mb-6 flex justify-center",children:o.jsx("div",{className:"rounded-full bg-blue-100 p-6",children:o.jsx(Li,{className:"h-16 w-16 text-blue-600"})})}),o.jsx("h1",{className:"mb-4 text-4xl font-bold text-gray-900",children:"Welcome to Your Job Journey"}),o.jsx("p",{className:"mb-8 text-lg text-gray-600",children:"Let's build a comprehensive profile that showcases your full potential. We'll gather information from multiple sources to create personalized job recommendations and application materials."}),o.jsxs("div",{className:"mb-8 grid gap-4 md:grid-cols-3",children:[o.jsx(Ll,{icon:o.jsx(Vf,{}),title:"Import Your Profile",description:"Upload resumes, add LinkedIn, GitHub, websites"}),o.jsx(Ll,{icon:o.jsx(Li,{}),title:"AI-Powered Insights",description:"Get smart job and company recommendations"}),o.jsx(Ll,{icon:o.jsx(er,{}),title:"Tailored Materials",description:"Generate custom resumes and cover letters"})]}),o.jsx("button",{onClick:()=>r("sources"),className:"rounded-lg bg-blue-600 px-8 py-3 text-lg font-semibold text-white transition hover:bg-blue-700",children:"Get Started"})]}),e==="sources"&&o.jsxs("div",{className:"mx-auto max-w-4xl",children:[o.jsx("h2",{className:"mb-2 text-center text-3xl font-bold text-gray-900",children:"Build Your Knowledge Base"}),o.jsx("p",{className:"mb-8 text-center text-gray-600",children:"Add as many sources as you like. The more we know, the better we can help you!"}),c&&o.jsx("div",{className:"mb-6 rounded-lg bg-red-50 border border-red-200 p-4 text-red-700",children:c}),o.jsxs("div",{className:"mb-8 grid gap-6 md:grid-cols-2",children:[o.jsx(Ws,{icon:o.jsx(Vf,{}),title:"Upload Resume/CV",description:"PDF or DOCX format",type:"upload",onFileUpload:E,disabled:l}),o.jsx(Ws,{icon:o.jsx(_S,{}),title:"LinkedIn Profile",description:"Enter your profile URL",type:"input",value:f,onChange:x,onSubmit:P,placeholder:"https://linkedin.com/in/yourname",disabled:l}),o.jsx(Ws,{icon:o.jsx(yS,{}),title:"GitHub Profile",description:"Username or profile URL",type:"input",value:y,onChange:w,onSubmit:C,placeholder:"github.com/username or just username",disabled:l}),o.jsx(Ws,{icon:o.jsx(wS,{}),title:"Personal Website",description:"Portfolio, blog, or project page",type:"input",value:p,onChange:g,onSubmit:U,placeholder:"https://yourwebsite.com",disabled:l}),o.jsx("div",{className:"md:col-span-2",children:o.jsx(Ws,{icon:o.jsx(er,{}),title:"Additional Context",description:"Add any other relevant information",type:"textarea",value:v,onChange:b,onSubmit:S,placeholder:"Tell us about skills, projects, achievements not captured elsewhere...",disabled:l})})]}),$e&&o.jsxs("div",{className:"mb-8",children:[o.jsxs("h3",{className:"mb-4 text-xl font-semibold text-gray-900",children:["Added Sources (",At,"/",n.length," processed)"]}),o.jsx("div",{className:"space-y-3",children:n.map(k=>o.jsx(AS,{source:k},k.id))})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsxs("button",{onClick:()=>r("welcome"),className:"flex items-center space-x-2 rounded-lg border border-gray-300 px-6 py-3 text-gray-700 transition hover:bg-gray-50",children:[o.jsx(Wf,{className:"h-5 w-5"}),o.jsx("span",{children:"Back"})]}),o.jsxs("button",{onClick:Rt,disabled:!vt||l,className:"flex items-center space-x-2 rounded-lg bg-blue-600 px-6 py-3 text-white transition hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:[o.jsx("span",{children:l?"Processing...":"Continue to Preferences"}),o.jsx(zs,{className:"h-5 w-5"})]})]})]}),e==="preferences"&&i&&o.jsxs("div",{className:"mx-auto max-w-3xl",children:[o.jsx("h2",{className:"mb-2 text-center text-3xl font-bold text-gray-900",children:"Your Predicted Preferences"}),o.jsx("p",{className:"mb-8 text-center text-gray-600",children:"Based on your profile, we've predicted your career preferences. Feel free to edit them!"}),c&&o.jsx("div",{className:"mb-6 rounded-lg bg-red-50 border border-red-200 p-4 text-red-700",children:c}),o.jsxs("div",{className:"mb-8 space-y-6 rounded-lg bg-white p-6 shadow-lg",children:[o.jsx($l,{title:"Preferred Industries",icon:"",items:i.preferred_industries||[],onUpdate:k=>a({...i,preferred_industries:k})}),o.jsx($l,{title:"Preferred Roles",icon:"",items:i.preferred_roles||[],onUpdate:k=>a({...i,preferred_roles:k})}),o.jsx($l,{title:"Target Companies",icon:"",items:i.preferred_companies||[],onUpdate:k=>a({...i,preferred_companies:k})})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsxs("button",{onClick:()=>r("sources"),className:"flex items-center space-x-2 rounded-lg border border-gray-300 px-6 py-3 text-gray-700 transition hover:bg-gray-50",children:[o.jsx(Wf,{className:"h-5 w-5"}),o.jsx("span",{children:"Back"})]}),o.jsxs("button",{onClick:me,disabled:l,className:"flex items-center space-x-2 rounded-lg bg-blue-600 px-6 py-3 text-white transition hover:bg-blue-700 disabled:opacity-50",children:[o.jsx("span",{children:l?"Saving...":"Confirm & Continue"}),o.jsx(zs,{className:"h-5 w-5"})]})]})]}),e==="complete"&&o.jsxs("div",{className:"mx-auto max-w-2xl text-center",children:[o.jsx("div",{className:"mb-6 flex justify-center",children:o.jsx("div",{className:"rounded-full bg-green-100 p-6",children:o.jsx(jd,{className:"h-16 w-16 text-green-600"})})}),o.jsx("h1",{className:"mb-4 text-4xl font-bold text-gray-900",children:"You're All Set!"}),o.jsx("p",{className:"mb-8 text-lg text-gray-600",children:"Your profile is ready. We'll now match you with the best opportunities and help you create tailored applications."}),o.jsxs("div",{className:"mb-8 grid gap-4 md:grid-cols-2",children:[o.jsx(Hf,{title:"Browse Jobs",description:"Discover personalized job recommendations",action:"View Jobs",onClick:()=>t("/jobs")}),o.jsx(Hf,{title:"Complete Profile",description:"Add more details to improve matches",action:"Go to Profile",onClick:()=>t("/profile")})]}),o.jsx("button",{onClick:()=>t("/dashboard"),className:"rounded-lg bg-blue-600 px-8 py-3 text-lg font-semibold text-white transition hover:bg-blue-700",children:"Go to Dashboard"})]})]})})}function Sa({label:t,active:e,completed:r}){return o.jsxs("div",{className:"flex flex-col items-center",children:[o.jsx("div",{className:`mb-2 flex h-10 w-10 items-center justify-center rounded-full ${r?"bg-green-500":e?"bg-blue-600":"bg-gray-300"}`,children:r?o.jsx(jd,{className:"h-6 w-6 text-white"}):o.jsx("span",{className:"text-sm font-semibold text-white",children:t[0]})}),o.jsx("span",{className:`text-sm ${e?"font-semibold text-gray-900":"text-gray-500"}`,children:t})]})}function Ll({icon:t,title:e,description:r}){return o.jsxs("div",{className:"rounded-lg bg-white p-6 shadow-md",children:[o.jsx("div",{className:"mb-3 flex justify-center text-blue-600",children:t}),o.jsx("h3",{className:"mb-2 font-semibold text-gray-900",children:e}),o.jsx("p",{className:"text-sm text-gray-600",children:r})]})}function Ws({icon:t,title:e,description:r,type:n,value:s,onChange:i,onSubmit:a,onFileUpload:l,placeholder:u,disabled:c}){const d=h=>{var f;const m=(f=h.target.files)==null?void 0:f[0];m&&l&&(l(m),h.target.value="")};return o.jsxs("div",{className:"rounded-lg border-2 border-dashed border-gray-300 bg-white p-6 transition hover:border-blue-400",children:[o.jsxs("div",{className:"mb-3 flex items-center space-x-3",children:[o.jsx("div",{className:"text-blue-600",children:t}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-gray-900",children:e}),o.jsx("p",{className:"text-sm text-gray-500",children:r})]})]}),n==="upload"&&o.jsxs("label",{className:"block",children:[o.jsx("input",{type:"file",accept:".pdf,.doc,.docx",onChange:d,disabled:c,className:"hidden"}),o.jsx("div",{className:"cursor-pointer rounded-lg bg-blue-50 py-3 text-center text-sm font-medium text-blue-600 transition hover:bg-blue-100",children:"Choose File"})]}),n==="input"&&o.jsxs("div",{className:"flex space-x-2",children:[o.jsx("input",{type:"text",value:s,onChange:h=>i==null?void 0:i(h.target.value),placeholder:u,disabled:c,className:"flex-1 rounded-lg border border-gray-300 px-3 py-2 text-sm focus:border-blue-500 focus:outline-none"}),o.jsx("button",{onClick:a,disabled:c||!(s!=null&&s.trim()),className:"rounded-lg bg-blue-600 px-4 py-2 text-sm font-medium text-white transition hover:bg-blue-700 disabled:opacity-50",children:"Add"})]}),n==="textarea"&&o.jsxs("div",{children:[o.jsx("textarea",{value:s,onChange:h=>i==null?void 0:i(h.target.value),placeholder:u,disabled:c,rows:4,className:"w-full rounded-lg border border-gray-300 px-3 py-2 text-sm focus:border-blue-500 focus:outline-none"}),o.jsx("button",{onClick:a,disabled:c||!(s!=null&&s.trim()),className:"mt-2 w-full rounded-lg bg-blue-600 px-4 py-2 text-sm font-medium text-white transition hover:bg-blue-700 disabled:opacity-50",children:"Add Context"})]})]})}function AS({source:t}){const e={pending:"bg-yellow-100 text-yellow-800",processing:"bg-blue-100 text-blue-800",completed:"bg-green-100 text-green-800",failed:"bg-red-100 text-red-800"},r={resume:"Resume",linkedin:"LinkedIn",github:"GitHub",personal_website:"Website",manual_text:"Manual Context",project_document:"Document",portfolio:"Portfolio",other_document:"Document"};return o.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-gray-200 bg-white p-4",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(jd,{className:`h-5 w-5 ${t.processing_status==="completed"?"text-green-500":"text-gray-300"}`}),o.jsxs("div",{children:[o.jsx("div",{className:"font-medium text-gray-900",children:r[t.source_type]}),t.source_identifier&&o.jsx("div",{className:"text-sm text-gray-500",children:t.source_identifier})]})]}),o.jsx("span",{className:`rounded-full px-3 py-1 text-xs font-medium ${e[t.processing_status]}`,children:t.processing_status})]})}function $l({title:t,icon:e,items:r,onUpdate:n}){const[s,i]=j.useState(""),a=()=>{s.trim()&&!r.includes(s.trim())&&(n([...r,s.trim()]),i(""))},l=u=>{n(r.filter(c=>c!==u))};return o.jsxs("div",{children:[o.jsxs("h3",{className:"mb-3 flex items-center space-x-2 text-lg font-semibold text-gray-900",children:[o.jsx("span",{children:e}),o.jsx("span",{children:t})]}),o.jsx("div",{className:"mb-3 flex flex-wrap gap-2",children:r.map(u=>o.jsxs("span",{className:"flex items-center space-x-2 rounded-full bg-blue-100 px-3 py-1 text-sm text-blue-800",children:[o.jsx("span",{children:u}),o.jsx("button",{onClick:()=>l(u),className:"text-blue-600 hover:text-blue-800",children:""})]},u))}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsx("input",{type:"text",value:s,onChange:u=>i(u.target.value),onKeyPress:u=>u.key==="Enter"&&a(),placeholder:`Add ${t.toLowerCase()}`,className:"flex-1 rounded-lg border border-gray-300 px-3 py-2 text-sm focus:border-blue-500 focus:outline-none"}),o.jsx("button",{onClick:a,className:"rounded-lg bg-blue-600 px-4 py-2 text-sm font-medium text-white transition hover:bg-blue-700",children:"Add"})]})]})}function Hf({title:t,description:e,action:r,onClick:n}){return o.jsxs("div",{className:"rounded-lg border border-gray-200 bg-white p-6 text-left",children:[o.jsx("h3",{className:"mb-2 font-semibold text-gray-900",children:t}),o.jsx("p",{className:"mb-4 text-sm text-gray-600",children:e}),o.jsxs("button",{onClick:n,className:"text-sm font-medium text-blue-600 hover:text-blue-700",children:[r," "]})]})}function IS(){const[t,e]=j.useState([]),[r,n]=j.useState(null),[s,i]=j.useState(!0),[a,l]=j.useState(!1),[u,c]=j.useState(null),[d,h]=j.useState(!1);j.useEffect(()=>{m()},[]);const m=async()=>{i(!0);try{const[p,g]=await Promise.all([Ii(),Qg()]),v=p.sources.filter(b=>b.source_type==="resume");if(v.length>1){v.sort((E,P)=>new Date(P.created_at).getTime()-new Date(E.created_at).getTime());const b=v.slice(1);await Promise.all(b.map(E=>cc(E.id)));const N=p.sources.filter(E=>!b.find(P=>P.id===E.id));e(N)}else e(p.sources);n(g.preferences)}catch(p){c(p instanceof Error?p.message:"Failed to load data")}finally{i(!1)}},f=async p=>{if(confirm("Are you sure you want to delete this source?"))try{await cc(p),e(t.filter(g=>g.id!==p))}catch(g){c(g instanceof Error?g.message:"Failed to delete source")}},x=async()=>{l(!0),c(null);try{const{preferences:p}=await Jg();n(p)}catch(p){c(p instanceof Error?p.message:"Failed to predict preferences")}finally{l(!1)}};if(s)return o.jsx("div",{className:"flex min-h-screen items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx(sv,{className:"mx-auto mb-4 h-12 w-12 animate-spin text-blue-600"}),o.jsx("p",{className:"text-gray-600",children:"Loading your knowledge base..."})]})});const y=t.filter(p=>p.processing_status==="completed"),w=t.filter(p=>p.processing_status==="processing"||p.processing_status==="pending");return o.jsxs("div",{className:"container mx-auto px-4 py-8",children:[o.jsxs("div",{className:"mb-8",children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Knowledge Base"}),o.jsx("p",{className:"mt-2 text-gray-600",children:"Manage your sources and preferences to get the best job recommendations."})]}),u&&o.jsx("div",{className:"mb-6 rounded-lg border border-red-200 bg-red-50 p-4 text-red-700",children:u}),o.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[o.jsxs("div",{className:"lg:col-span-2",children:[o.jsxs("div",{className:"mb-6 grid gap-4 sm:grid-cols-3",children:[o.jsx(Dl,{label:"Total Sources",value:t.length,icon:o.jsx(er,{className:"h-5 w-5"}),color:"blue"}),o.jsx(Dl,{label:"Completed",value:y.length,icon:o.jsx(rv,{className:"h-5 w-5"}),color:"green"}),o.jsx(Dl,{label:"Processing",value:w.length,icon:o.jsx(nv,{className:"h-5 w-5"}),color:"yellow"})]}),o.jsxs("button",{onClick:()=>h(!0),className:"mb-6 flex w-full items-center justify-center space-x-2 rounded-lg border-2 border-dashed border-gray-300 bg-white py-4 text-gray-600 transition hover:border-blue-400 hover:bg-blue-50 hover:text-blue-600",children:[o.jsx(SS,{className:"h-5 w-5"}),o.jsx("span",{className:"font-medium",children:"Add New Source"})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Your Sources"}),t.length===0?o.jsxs("div",{className:"rounded-lg border-2 border-dashed border-gray-300 bg-gray-50 p-12 text-center",children:[o.jsx(er,{className:"mx-auto mb-4 h-12 w-12 text-gray-400"}),o.jsx("p",{className:"text-gray-600",children:"No sources yet. Add your first source to get started!"})]}):t.map(p=>o.jsx(LS,{source:p,onDelete:f},p.id))]})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"mb-6 rounded-lg border border-gray-200 bg-white p-6 shadow-sm",children:[o.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"AI Preferences"}),o.jsx(Li,{className:"h-5 w-5 text-purple-600"})]}),r&&r.is_ai_predicted?o.jsxs("div",{className:"space-y-4",children:[r.preferred_industries&&r.preferred_industries.length>0&&o.jsxs("div",{children:[o.jsx("h4",{className:"mb-2 text-sm font-medium text-gray-700",children:"Industries"}),o.jsx("div",{className:"flex flex-wrap gap-2",children:r.preferred_industries.slice(0,3).map(p=>o.jsx("span",{className:"rounded-full bg-purple-100 px-3 py-1 text-xs text-purple-800",children:p},p))})]}),r.preferred_roles&&r.preferred_roles.length>0&&o.jsxs("div",{children:[o.jsx("h4",{className:"mb-2 text-sm font-medium text-gray-700",children:"Roles"}),o.jsx("div",{className:"flex flex-wrap gap-2",children:r.preferred_roles.slice(0,3).map(p=>o.jsx("span",{className:"rounded-full bg-blue-100 px-3 py-1 text-xs text-blue-800",children:p},p))})]}),o.jsx("button",{onClick:x,disabled:a||y.length===0,className:"w-full rounded-lg border border-purple-600 px-4 py-2 text-sm font-medium text-purple-600 transition hover:bg-purple-50 disabled:opacity-50",children:a?"Re-predicting...":"Re-predict"})]}):o.jsxs("div",{className:"text-center",children:[o.jsx("p",{className:"mb-4 text-sm text-gray-600",children:"Let AI predict your career preferences based on your knowledge base."}),o.jsx("button",{onClick:x,disabled:a||y.length===0,className:"w-full rounded-lg bg-purple-600 px-4 py-2 text-sm font-medium text-white transition hover:bg-purple-700 disabled:opacity-50",children:a?"Predicting...":"Predict Preferences"}),y.length===0&&o.jsx("p",{className:"mt-2 text-xs text-gray-500",children:"Add at least one completed source first"})]})]}),o.jsxs("div",{className:"rounded-lg border border-gray-200 bg-white p-6 shadow-sm",children:[o.jsx("h3",{className:"mb-4 text-lg font-semibold text-gray-900",children:"Quick Actions"}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ul,{label:"View Preferences",href:"/preferences"}),o.jsx(Ul,{label:"Browse Jobs",href:"/jobs"}),o.jsx(Ul,{label:"My Applications",href:"/applications"})]})]})]})]}),d&&o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:o.jsxs("div",{className:"mx-4 max-w-md rounded-lg bg-white p-6",children:[o.jsx("h3",{className:"mb-4 text-xl font-semibold text-gray-900",children:"Add New Source"}),o.jsx("p",{className:"mb-4 text-sm text-gray-600",children:"Go to the onboarding page to add new sources with a better interface."}),o.jsxs("div",{className:"flex justify-end space-x-3",children:[o.jsx("button",{onClick:()=>h(!1),className:"rounded-lg border border-gray-300 px-4 py-2 text-gray-700 transition hover:bg-gray-50",children:"Cancel"}),o.jsx("a",{href:"/onboarding",className:"rounded-lg bg-blue-600 px-4 py-2 text-white transition hover:bg-blue-700",children:"Go to Onboarding"})]})]})})]})}function Dl({label:t,value:e,icon:r,color:n}){const s={blue:"bg-blue-100 text-blue-600",green:"bg-green-100 text-green-600",yellow:"bg-yellow-100 text-yellow-600",red:"bg-red-100 text-red-600"};return o.jsx("div",{className:"rounded-lg border border-gray-200 bg-white p-4 shadow-sm",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-600",children:t}),o.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e})]}),o.jsx("div",{className:`rounded-full p-3 ${s[n]}`,children:r})]})})}function LS({source:t,onDelete:e}){const r={pending:o.jsx(nv,{className:"h-5 w-5 text-yellow-500"}),processing:o.jsx(sv,{className:"h-5 w-5 animate-spin text-blue-500"}),completed:o.jsx(rv,{className:"h-5 w-5 text-green-500"}),failed:o.jsx(hS,{className:"h-5 w-5 text-red-500"})},n={resume:" Resume",linkedin:" LinkedIn",github:" GitHub",personal_website:" Website",manual_text:" Manual Text",project_document:" Document",portfolio:" Portfolio",other_document:" Document"};return o.jsx("div",{className:"rounded-lg border border-gray-200 bg-white p-4 shadow-sm transition hover:shadow-md",children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"mb-2 flex items-center space-x-2",children:[o.jsx("span",{className:"text-lg",children:n[t.source_type]}),r[t.processing_status]]}),t.source_identifier&&o.jsx("p",{className:"mb-2 text-sm text-gray-600 truncate",children:t.source_identifier}),o.jsxs("div",{className:"flex items-center space-x-4 text-xs text-gray-500",children:[o.jsxs("span",{children:["Added ",new Date(t.created_at).toLocaleDateString()]}),o.jsx("span",{className:"capitalize",children:t.processing_status})]}),t.error_message&&o.jsxs("p",{className:"mt-2 text-xs text-red-600",children:["Error: ",t.error_message]})]}),o.jsx("button",{onClick:()=>e(t.id),className:"ml-4 rounded-lg p-2 text-gray-400 transition hover:bg-red-50 hover:text-red-600",children:o.jsx(CS,{className:"h-4 w-4"})})]})})}function Ul({label:t,href:e}){return o.jsxs("a",{href:e,className:"block rounded-lg border border-gray-200 px-4 py-2 text-sm text-gray-700 transition hover:bg-gray-50",children:[t," "]})}const $S={Likely:"bg-verdict-likely/10 text-verdict-likely border-verdict-likely/40",Borderline:"bg-verdict-borderline/10 text-verdict-borderline border-verdict-borderline/40",Unlikely:"bg-verdict-unlikely/10 text-verdict-unlikely border-verdict-unlikely/40"};function iv({job:t,actionable:e=!0}){const r=t.epIndicator??"Borderline";return o.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-6 shadow-card transition hover:-translate-y-1 hover:shadow-lg",children:[o.jsxs("div",{className:"flex items-start justify-between gap-4",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm uppercase tracking-wide text-slate-500",children:t.company}),o.jsx("h3",{className:"mt-1 text-xl font-semibold text-slate-900",children:t.title}),o.jsxs("p",{className:"mt-2 text-sm text-slate-600",children:[t.location,"  ",t.industry]})]}),o.jsx("span",{className:Ma("rounded-full border px-3 py-1 text-sm font-medium",$S[r]),children:r})]}),o.jsx("p",{className:"mt-4 line-clamp-3 text-sm text-slate-600",children:t.description}),o.jsxs("div",{className:"mt-4 flex flex-wrap gap-2",children:[t.title.toLowerCase().includes("intern")&&o.jsx("span",{className:"inline-flex items-center rounded-full bg-blue-100 px-2.5 py-0.5 text-xs font-semibold text-blue-700",children:"Internship"}),!t.title.toLowerCase().includes("intern")&&o.jsx("span",{className:"inline-flex items-center rounded-full bg-green-100 px-2.5 py-0.5 text-xs font-semibold text-green-700",children:"Full-time"}),t.requirements&&t.requirements.filter(n=>!["internship","full-time","part-time","contract"].includes(n.toLowerCase())).map(n=>o.jsx("span",{className:"inline-flex items-center rounded-full bg-purple-100 px-2.5 py-0.5 text-xs font-medium text-purple-700",children:n},n))]}),o.jsx("div",{className:"mt-4 flex items-center justify-between text-sm text-slate-500",children:t.scoreRaw!==void 0&&o.jsxs("span",{className:"font-medium",children:[o.jsx("span",{className:"text-slate-400",children:"COMPASS"})," ",t.scoreRaw," pts"]})}),e&&o.jsx("div",{className:"mt-6 flex justify-end",children:o.jsx(Qe,{to:`/jobs/${t.id}`,className:"rounded-lg bg-brand-600 px-4 py-2 text-sm font-medium text-white shadow-sm transition hover:bg-brand-700",children:"View"})})]})}function xo({title:t,description:e,action:r}){return o.jsxs("div",{className:"flex flex-col items-center justify-center rounded-2xl border border-slate-200 bg-white p-10 text-center",children:[o.jsx("h3",{className:"text-lg font-semibold text-slate-800",children:t}),o.jsx("p",{className:"mt-2 max-w-md text-sm text-slate-500",children:e}),r&&o.jsx("div",{className:"mt-4",children:r})]})}function av(t){var e;return t?JSON.stringify({plan:t.plan,educationLevel:t.educationLevel,skills:(e=t.skills)==null?void 0:e.slice().sort()}):"none"}function ov(t){const e=ee(n=>n.profile),r=j.useMemo(()=>av(e),[e]);return dd({queryKey:["jobs",t,r],queryFn:()=>yj(t)})}function DS(){return ov({limit:3})}function US(t){const e=ee(n=>n.profile),r=j.useMemo(()=>av(e),[e]);return dd({queryKey:["job",t,r],queryFn:()=>wj(t??""),enabled:!!t})}function MS(){const t=Wt();ee(c=>c.profile);const{data:e,isLoading:r}=DS(),[n,s]=j.useState([]),[i,a]=j.useState(null),[l,u]=j.useState(!0);return j.useEffect(()=>{(async()=>{try{const d=await Ii();if(s(d.sources),d.sources.length===0){t("/onboarding");return}try{const h=await Qg();a(h.preferences)}catch{console.log("No preferences yet")}}catch(d){console.error("Error loading data:",d)}finally{u(!1)}})()},[t]),l?o.jsx("div",{className:"mx-auto max-w-6xl px-6 py-12",children:o.jsx("div",{className:"flex items-center justify-center py-20",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"inline-block h-8 w-8 animate-spin rounded-full border-4 border-solid border-brand-600 border-r-transparent"}),o.jsx("p",{className:"mt-4 text-sm text-slate-500",children:"Loading your dashboard..."})]})})}):o.jsxs("div",{className:"mx-auto max-w-7xl px-6 py-12",children:[o.jsxs("div",{className:"mb-8",children:[o.jsx("h2",{className:"text-3xl font-semibold text-slate-900",children:"Dashboard"}),o.jsx("p",{className:"mt-2 text-sm text-slate-500",children:"Your personalized job recommendation hub."})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8",children:[o.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsx("div",{className:"rounded-xl border border-slate-200 bg-white p-6 shadow-sm",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"rounded-lg bg-indigo-100 p-3",children:o.jsx(er,{className:"h-6 w-6 text-indigo-600"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-slate-500",children:"Knowledge Sources"}),o.jsx("p",{className:"text-2xl font-semibold text-slate-900",children:n.length})]})]})}),o.jsx("div",{className:"rounded-xl border border-slate-200 bg-white p-6 shadow-sm",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"rounded-lg bg-purple-100 p-3",children:o.jsx(aS,{className:"h-6 w-6 text-purple-600"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-slate-500",children:"Top Matches"}),o.jsx("p",{className:"text-2xl font-semibold text-slate-900",children:(e==null?void 0:e.items.length)||0})]})]})}),o.jsx("div",{className:"rounded-xl border border-slate-200 bg-white p-6 shadow-sm",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"rounded-lg bg-green-100 p-3",children:o.jsx(OS,{className:"h-6 w-6 text-green-600"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-slate-500",children:"Profile Status"}),o.jsx("p",{className:"text-sm font-semibold text-green-600",children:"Active"})]})]})})]}),o.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-6 shadow-sm",children:[o.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Top Job Matches"}),o.jsx("p",{className:"text-sm text-slate-500",children:"Based on your knowledge base profile"})]}),o.jsx(Qe,{to:"/jobs",className:"text-sm font-medium text-brand-600 hover:text-brand-700",children:"View all "})]}),r&&o.jsxs("div",{className:"py-8 text-center",children:[o.jsx("div",{className:"inline-block h-6 w-6 animate-spin rounded-full border-4 border-solid border-brand-600 border-r-transparent"}),o.jsx("p",{className:"mt-2 text-sm text-slate-500",children:"Loading recommendations..."})]}),!r&&e&&e.items.length===0&&o.jsx(xo,{title:"No matches yet",description:"Try adding more knowledge sources or explore the full job list."}),o.jsx("div",{className:"space-y-4",children:e==null?void 0:e.items.slice(0,3).map(c=>o.jsx(iv,{job:c},c.id))})]})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"rounded-xl border border-slate-200 bg-gradient-to-br from-purple-50 to-indigo-50 p-6 shadow-sm",children:[o.jsxs("div",{className:"mb-4 flex items-center gap-2",children:[o.jsx(Li,{className:"h-5 w-5 text-purple-600"}),o.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"AI Insights"})]}),i?o.jsxs("div",{className:"space-y-4",children:[i.preferred_industries&&i.preferred_industries.length>0&&o.jsxs("div",{children:[o.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-slate-500 mb-2",children:"Preferred Industries"}),o.jsx("div",{className:"flex flex-wrap gap-2",children:i.preferred_industries.slice(0,3).map((c,d)=>o.jsx("span",{className:"inline-flex items-center rounded-full bg-purple-100 px-3 py-1 text-xs font-medium text-purple-700",children:c},d))})]}),i.preferred_roles&&i.preferred_roles.length>0&&o.jsxs("div",{children:[o.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-slate-500 mb-2",children:"Predicted Roles"}),o.jsx("div",{className:"flex flex-wrap gap-2",children:i.preferred_roles.slice(0,3).map((c,d)=>o.jsx("span",{className:"inline-flex items-center rounded-full bg-indigo-100 px-3 py-1 text-xs font-medium text-indigo-700",children:c},d))})]}),o.jsx("div",{className:"pt-3 border-t border-purple-200",children:o.jsx(Qe,{to:"/knowledge-base",className:"text-xs font-medium text-purple-600 hover:text-purple-700",children:"Update preferences "})})]}):o.jsxs("div",{className:"text-center py-4",children:[o.jsx("p",{className:"text-sm text-slate-600 mb-3",children:"Let AI analyze your profile to predict your ideal roles and industries."}),o.jsxs(Qe,{to:"/knowledge-base",className:"inline-flex items-center gap-1 rounded-lg bg-purple-600 px-4 py-2 text-sm font-medium text-white hover:bg-purple-700",children:[o.jsx(Li,{className:"h-4 w-4"}),"Generate Predictions"]})]})]}),o.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-6 shadow-sm",children:[o.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Your Profile"}),o.jsxs("div",{className:"space-y-3",children:[n.slice(0,5).map(c=>o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("div",{className:`mt-0.5 rounded-md p-1.5 ${c.source_type==="resume"||c.source_type==="linkedin"?"bg-blue-100 text-blue-600":c.source_type==="github"?"bg-slate-100 text-slate-600":"bg-purple-100 text-purple-600"}`,children:o.jsx(er,{className:"h-3 w-3"})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"text-sm font-medium text-slate-900 truncate capitalize",children:c.source_type.replace("_"," ")}),o.jsx("p",{className:"text-xs text-slate-500",children:new Date(c.created_at).toLocaleDateString()})]})]},c.id)),n.length>5&&o.jsxs("p",{className:"text-xs text-slate-500 pt-2",children:["+",n.length-5," more sources"]})]}),o.jsx(Qe,{to:"/knowledge-base",className:"mt-4 block text-center text-sm font-medium text-brand-600 hover:text-brand-700",children:"Manage sources "})]})]})]})]})}function qf({label:t,options:e,selected:r,onChange:n,placeholder:s="Select options..."}){const[i,a]=j.useState(!1),[l,u]=j.useState(""),c=j.useRef(null);j.useEffect(()=>{function f(x){c.current&&!c.current.contains(x.target)&&a(!1)}return document.addEventListener("mousedown",f),()=>document.removeEventListener("mousedown",f)},[]);const d=e.filter(f=>f.toLowerCase().includes(l.toLowerCase())),h=f=>{r.includes(f)?n(r.filter(x=>x!==f)):n([...r,f])},m=()=>{n([]),u("")};return o.jsxs("div",{className:"relative",ref:c,children:[o.jsx("label",{className:"block text-xs font-semibold uppercase tracking-wide text-slate-500 mb-2",children:t}),o.jsxs("button",{type:"button",onClick:()=>a(!i),className:"w-full rounded-lg border border-slate-300 bg-white px-3 py-2 text-left text-sm flex items-center justify-between hover:border-slate-400 transition-colors",children:[o.jsx("span",{className:r.length===0?"text-slate-400":"text-slate-900",children:r.length===0?s:r.length===1?r[0]:`${r.length} selected`}),o.jsx("svg",{className:`h-4 w-4 text-slate-400 transition-transform ${i?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),i&&o.jsxs("div",{className:"absolute z-50 mt-1 w-full rounded-lg border border-slate-300 bg-white shadow-lg",children:[o.jsx("div",{className:"border-b border-slate-200 p-2",children:o.jsx("input",{type:"text",value:l,onChange:f=>u(f.target.value),placeholder:"Search...",className:"w-full rounded border border-slate-300 px-2 py-1 text-sm focus:border-brand-500 focus:outline-none focus:ring-1 focus:ring-brand-500",onClick:f=>f.stopPropagation()})}),o.jsx("div",{className:"max-h-60 overflow-y-auto",children:d.length===0?o.jsx("div",{className:"px-3 py-2 text-sm text-slate-400",children:"No options found"}):o.jsx(o.Fragment,{children:d.map(f=>o.jsxs("label",{className:"flex items-center gap-2 px-3 py-2 hover:bg-slate-50 cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:r.includes(f),onChange:()=>h(f),className:"h-4 w-4 rounded border-slate-300 text-brand-600 focus:ring-brand-500"}),o.jsx("span",{className:"text-sm text-slate-700",children:f})]},f))})}),r.length>0&&o.jsx("div",{className:"border-t border-slate-200 p-2",children:o.jsxs("button",{type:"button",onClick:m,className:"w-full rounded bg-slate-100 px-3 py-1 text-sm font-medium text-slate-700 hover:bg-slate-200 transition-colors",children:["Clear all (",r.length,")"]})})]})]})}const ka={search:"",tags:[],company:[]},Kf=50;function FS(){const t=Wt(),e=ee(w=>w.profile),[r,n]=j.useState(ka),[s,i]=j.useState(ka),[a,l]=j.useState(1);j.useEffect(()=>{(!e||!e.id||e.id==="local-user"||!e.skills||e.skills.length===0)&&t("/assessment")},[e,t]);const{data:u}=dd({queryKey:["job-filters"],queryFn:xj}),{data:c,isLoading:d}=ov({search:s.search,tags:s.tags.join(","),company:s.company.join(","),page:a,pageSize:Kf});j.useEffect(()=>{l(1)},[s]);const h=w=>{w.preventDefault(),i(r)},m=()=>{n(ka),i(ka),l(1)},f=(c==null?void 0:c.totalPages)||0,x=c!=null&&c.items.length?(a-1)*Kf+1:0,y=c!=null&&c.items.length?x+c.items.length-1:0;return o.jsxs("div",{className:"mx-auto max-w-6xl px-6 py-12",children:[o.jsxs("div",{className:"mb-8",children:[o.jsx("h2",{className:"text-3xl font-semibold text-slate-900",children:"Explore EP-aware roles"}),o.jsx("p",{className:"mt-2 text-sm text-slate-500",children:"Filter by keywords, location, industry, or salary band. EP indicators are refreshed with your saved profile."})]}),o.jsxs("form",{onSubmit:h,className:"grid gap-4 rounded-2xl border border-slate-200 bg-white p-6 shadow-card md:grid-cols-3",children:[o.jsxs("div",{className:"md:col-span-1",children:[o.jsx("label",{className:"block text-xs font-semibold uppercase tracking-wide text-slate-500",children:"Search"}),o.jsx("input",{type:"text",value:r.search,onChange:w=>n(p=>({...p,search:w.target.value})),placeholder:"e.g. data, product, fintech",className:"mt-2 w-full rounded-lg border border-slate-300 px-3 py-2 text-sm"})]}),o.jsx(qf,{label:"Company",options:(u==null?void 0:u.companies)||[],selected:r.company,onChange:w=>n(p=>({...p,company:w})),placeholder:"All companies"}),o.jsx(qf,{label:"Tags",options:(u==null?void 0:u.tags)||[],selected:r.tags,onChange:w=>n(p=>({...p,tags:w})),placeholder:"All tags"}),o.jsxs("div",{className:"flex items-end gap-3 md:col-span-3",children:[o.jsx("button",{type:"submit",className:"inline-flex items-center rounded-lg bg-brand-600 px-5 py-2 text-sm font-medium text-white shadow-sm transition hover:bg-brand-700",children:"Apply filters"}),o.jsx("button",{type:"button",onClick:m,className:"inline-flex items-center rounded-lg border border-slate-300 bg-white px-5 py-2 text-sm font-medium text-slate-700 shadow-sm transition hover:bg-slate-50",children:"Reset"})]})]}),o.jsxs("div",{className:"mt-10 grid gap-6",children:[d&&o.jsx("p",{className:"text-sm text-slate-500",children:"Loading results..."}),c&&c.items.length===0&&o.jsx(xo,{title:"No jobs matched your filters",description:"Try widening your filters or revisit your self-assessment to refine your profile."}),c==null?void 0:c.items.map(w=>o.jsx(iv,{job:w},w.id))]}),c&&c.items.length>0&&f>1&&o.jsxs("div",{className:"mt-8 flex items-center justify-between border-t border-slate-200 pt-6",children:[o.jsxs("div",{className:"text-sm text-slate-600",children:["Showing ",x,"-",y," of ",c.total," results"]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("button",{type:"button",onClick:()=>l(w=>Math.max(1,w-1)),disabled:a===1,className:"inline-flex items-center rounded-lg border border-slate-300 bg-white px-3 py-2 text-sm font-medium text-slate-700 shadow-sm transition hover:bg-slate-50 disabled:opacity-50 disabled:cursor-not-allowed",children:[o.jsx("svg",{className:"h-4 w-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Previous"]}),o.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:Math.min(5,f)},(w,p)=>{let g;return f<=5||a<=3?g=p+1:a>=f-2?g=f-4+p:g=a-2+p,o.jsx("button",{type:"button",onClick:()=>l(g),className:`inline-flex items-center justify-center rounded-lg px-3 py-2 text-sm font-medium transition min-w-[40px] ${a===g?"bg-brand-600 text-white shadow-sm":"border border-slate-300 bg-white text-slate-700 hover:bg-slate-50"}`,children:g},g)})}),o.jsxs("button",{type:"button",onClick:()=>l(w=>Math.min(f,w+1)),disabled:a===f,className:"inline-flex items-center rounded-lg border border-slate-300 bg-white px-3 py-2 text-sm font-medium text-slate-700 shadow-sm transition hover:bg-slate-50 disabled:opacity-50 disabled:cursor-not-allowed",children:["Next",o.jsx("svg",{className:"h-4 w-4 ml-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})]})]})}function Vs({open:t,title:e,description:r,onClose:n,children:s,footer:i}){return j.useEffect(()=>{if(!t)return;const a=l=>{l.key==="Escape"&&n()};return window.addEventListener("keydown",a),()=>window.removeEventListener("keydown",a)},[t,n]),t?y0.createPortal(o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-slate-900/40 px-4",role:"dialog","aria-modal":"true",children:o.jsxs("div",{className:"max-h-[90vh] w-full max-w-3xl overflow-hidden rounded-2xl bg-white shadow-2xl",children:[o.jsxs("div",{className:"flex items-start justify-between border-b border-slate-200 px-6 py-4",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:e}),r&&o.jsx("p",{className:"mt-1 text-sm text-slate-500",children:r})]}),o.jsx("button",{type:"button",onClick:n,className:"rounded-full p-1 text-slate-500 transition hover:bg-slate-100 hover:text-slate-700","aria-label":"Close dialog",children:o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"h-5 w-5",children:o.jsx("path",{fillRule:"evenodd",d:"M15.78 4.22a.75.75 0 0 0-1.06 0L10 8.94 5.28 4.22a.75.75 0 1 0-1.06 1.06L8.94 10l-4.72 4.72a.75.75 0 1 0 1.06 1.06L10 11.06l4.72 4.72a.75.75 0 1 0 1.06-1.06L11.06 10l4.72-4.72a.75.75 0 0 0 0-1.06",clipRule:"evenodd"})})})]}),o.jsx("div",{className:"max-h-[65vh] overflow-y-auto px-6 py-6",children:s}),i&&o.jsx("div",{className:"border-t border-slate-200 bg-slate-50 px-6 py-4",children:i})]})}),document.body):null}function BS(){const{id:t}=qw(),e=Wt(),{data:r,isLoading:n}=US(t),s=ee(O=>O.profile),i=ee(O=>O.addApplication),[a,l]=j.useState(r==null?void 0:r.scoreRaw),[u,c]=j.useState(r==null?void 0:r.epIndicator),[d,h]=j.useState(r!=null&&r.scoreRaw&&r.breakdown?{total:r.score,totalRaw:r.scoreRaw,breakdown:r.breakdown,verdict:r.epIndicator??"Borderline",notes:r.rationale??[]}:void 0),[m,f]=j.useState(null),[x,y]=j.useState("idle"),[w,p]=j.useState(""),[g,v]=j.useState(""),[b,N]=j.useState(!1),[E,P]=j.useState([]),[C,U]=j.useState(!1),[S,V]=j.useState(null),[re,me]=j.useState(null),[Rt,At]=j.useState(!1),[$e,vt]=j.useState(null),[k,I]=j.useState([]),[B,W]=j.useState(!1),[Q,ke]=j.useState(!1),[De,lt]=j.useState(!1);j.useEffect(()=>{(r==null?void 0:r.scoreRaw)!==void 0&&(l(r.scoreRaw),c(r.epIndicator),r.breakdown&&h({total:r.score,totalRaw:r.scoreRaw,breakdown:r.breakdown,verdict:r.epIndicator??"Borderline",notes:r.rationale??[]}))},[r==null?void 0:r.score,r==null?void 0:r.epIndicator,r==null?void 0:r.breakdown,r==null?void 0:r.rationale]),j.useEffect(()=>{(async()=>{if(t)try{const D=await Sj(t);V(D),D.compass_score&&(l(D.compass_score.totalRaw),c(D.compass_score.verdict),h(D.compass_score))}catch{console.log("No existing assessment found")}})()},[t]),j.useEffect(()=>{(async()=>{if(t)try{const D=await Mj(t);I(D.materials)}catch{console.log("No existing materials found")}})()},[t]);const Ze=async()=>{if(t){W(!0);try{const{material:O}=await Dj(t,{tone:"professional"});I(D=>[O,...D.filter(lr=>lr.material_type!=="resume")]),p("Resume generated successfully!"),y("success"),setTimeout(()=>y("idle"),3e3)}catch(O){p(O instanceof Error?O.message:"Failed to generate resume"),y("error")}finally{W(!1)}}},Vt=async()=>{if(t){ke(!0);try{const{material:O}=await Uj(t,{tone:"professional"});I(D=>[O,...D.filter(lr=>lr.material_type!=="cover_letter")]),p("Cover letter generated successfully!"),y("success"),setTimeout(()=>y("idle"),3e3)}catch(O){p(O instanceof Error?O.message:"Failed to generate cover letter"),y("error")}finally{ke(!1)}}},zo=()=>{f("materials")};if(!t)return o.jsx("div",{className:"mx-auto max-w-4xl px-6 py-12",children:o.jsx("p",{className:"text-sm text-red-500",children:"Job not found."})});if(n||!r)return o.jsx("div",{className:"mx-auto max-w-7xl px-6 py-12",children:o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[o.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[o.jsx("div",{className:"rounded-3xl border border-slate-200 bg-white p-8 shadow-card",children:o.jsxs("div",{className:"animate-pulse space-y-4",children:[o.jsx("div",{className:"h-4 bg-slate-200 rounded w-1/4"}),o.jsx("div",{className:"h-8 bg-slate-200 rounded w-3/4"}),o.jsx("div",{className:"h-4 bg-slate-200 rounded w-1/2"}),o.jsxs("div",{className:"mt-6 space-y-3",children:[o.jsx("div",{className:"h-4 bg-slate-200 rounded"}),o.jsx("div",{className:"h-4 bg-slate-200 rounded"}),o.jsx("div",{className:"h-4 bg-slate-200 rounded w-5/6"})]})]})}),o.jsx("div",{className:"rounded-3xl border border-slate-200 bg-white p-8 shadow-card",children:o.jsxs("div",{className:"animate-pulse space-y-3",children:[o.jsx("div",{className:"h-10 bg-slate-200 rounded w-full"}),o.jsx("div",{className:"h-10 bg-slate-200 rounded w-full"})]})})]}),o.jsx("div",{className:"lg:col-span-1 space-y-6",children:o.jsx("div",{className:"rounded-2xl border border-slate-200 bg-white p-6 shadow-card",children:o.jsxs("div",{className:"animate-pulse space-y-3",children:[o.jsx("div",{className:"h-6 bg-slate-200 rounded w-3/4"}),o.jsx("div",{className:"h-4 bg-slate-200 rounded"}),o.jsx("div",{className:"h-4 bg-slate-200 rounded w-5/6"})]})})})]})});const En=async()=>{if(!s){e("/assessment");return}f("assess")},Gi=async(O=!1)=>{if(!(!s||!t)){y("loading"),f(null);try{const D=await kj(t,O);V(D),D.compass_score&&(l(D.compass_score.totalRaw),c(D.compass_score.verdict),h(D.compass_score)),y("success"),p(D.from_cache&&!O?"Loaded existing assessment from database.":"Fit assessment completed with detailed LLM analysis."),f("report")}catch(D){y("error"),p(D instanceof Error?D.message:"Unable to assess fit.")}}},Wo=()=>{if(!r)return;const O=r.applyUrl||r.url||"";window.open(O,"_blank","noopener,noreferrer"),setTimeout(()=>{f("apply")},1e3)},Vo=async()=>{if(!s){e("/assessment");return}try{const O=r.applyUrl||r.url||"",D=await Nj({jobId:r.id,jobTitle:r.title,jobCompany:r.company,jobUrl:O,status:"sent",notes:g,appliedAt:new Date().toISOString()});i(D),N(!0),y("success"),p("Application recorded! Track it in Applications."),f(null),v("")}catch(O){y("error"),p(O instanceof Error?O.message:"Unable to record application.")}},Ho=async()=>{if(!s){e("/assessment");return}if(r.isInternSG){f("hr"),U(!1),P([]);return}U(!0),f("hr");try{const O=`${r.company.toLowerCase().replace(/\s+/g,"")}.com`,D=await Ej({company_domain:O,fetch_count:3});P(D.prospects),U(!1)}catch(O){console.error("Failed to fetch HR contacts:",O),P([]),U(!1)}},qo=O=>{navigator.clipboard.writeText(O),y("success"),p("Email copied to clipboard!"),setTimeout(()=>{y("idle"),p("")},2e3)},Ko=async O=>{if(r){vt(O),At(!0),me(null);try{const D=await Cj({job_external_id:r.id,job_title:r.title,job_company:r.company,hr_name:O.full_name,hr_email:O.email||O.personal_email||void 0,hr_job_title:O.job_title});me(D),y("success"),p("Outreach message generated!")}catch(D){y("error"),p(D instanceof Error?D.message:"Failed to generate message")}finally{At(!1)}}},Go=()=>{if(!re)return;const O=`Subject: ${re.subject}

${re.body}`;navigator.clipboard.writeText(O),y("success"),p("Message copied to clipboard!"),setTimeout(()=>{y("idle"),p("")},2e3)},Cn=a??r.scoreRaw??0,Qo=u??r.epIndicator??"Borderline";return o.jsxs("div",{className:"mx-auto max-w-5xl px-6 py-12",children:[o.jsx(Vs,{open:m==="apply",title:"Confirm Application",description:"Did you complete your application on the external site?",onClose:()=>f(null),footer:o.jsxs("div",{className:"flex gap-3 justify-end",children:[o.jsx("button",{type:"button",onClick:()=>f(null),className:"rounded-lg border border-slate-300 bg-white px-4 py-2 text-sm font-medium text-slate-700 hover:bg-slate-50",children:"Cancel"}),o.jsx("button",{type:"button",onClick:Vo,className:"rounded-lg bg-brand-600 px-4 py-2 text-sm font-medium text-white hover:bg-brand-700",children:"Yes, I Applied"})]}),children:o.jsxs("div",{className:"space-y-4",children:[o.jsx("p",{className:"text-sm text-slate-600",children:"We'll track this application in your dashboard. You can add notes to help you remember details about this role."}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-semibold uppercase tracking-wide text-slate-500 mb-2",children:"Notes (optional)"}),o.jsx("textarea",{value:g,onChange:O=>v(O.target.value),placeholder:"e.g., Submitted cover letter, contacted recruiter...",className:"w-full rounded-lg border border-slate-300 px-3 py-2 text-sm",rows:3})]})]})}),o.jsx(Vs,{open:m==="hr",title:"HR Contacts",description:r.isInternSG?"This is a smaller company from InternSG":`Found ${E.length} HR contacts at ${r.company}`,onClose:()=>{f(null),P([]),me(null),vt(null)},children:o.jsx("div",{className:"space-y-4",children:r.isInternSG?o.jsx("div",{className:"rounded-lg bg-blue-50 border border-blue-200 p-6",children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("svg",{className:"h-6 w-6 text-blue-600 flex-shrink-0 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h4",{className:"font-semibold text-blue-900 mb-2",children:"InternSG Company"}),o.jsxs("p",{className:"text-sm text-blue-800 mb-4 leading-relaxed",children:["This position is from a smaller company listed on InternSG. HR outreach may not be available through our platform.",r.hrName&&o.jsxs(o.Fragment,{children:[" ","Please search for ",o.jsx("span",{className:"font-semibold",children:r.hrName})," on LinkedIn or apply directly on InternSG."]})]}),r.hrName&&o.jsxs("div",{className:"rounded-md bg-white border border-blue-200 p-4 mb-4",children:[o.jsx("p",{className:"text-xs font-semibold text-blue-700 uppercase tracking-wide mb-2",children:"HR Contact"}),o.jsx("p",{className:"text-base text-blue-900 font-bold mb-3",children:r.hrName}),o.jsxs("button",{onClick:()=>{const O=`site:linkedin.com/in/ ${r.hrName} ${r.company}`,D=`https://www.google.com/search?q=${encodeURIComponent(O)}`;window.open(D,"_blank")},className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white text-sm font-medium rounded-lg transition-colors",children:[o.jsx("svg",{className:"h-4 w-4",fill:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{d:"M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"})}),"Search on LinkedIn"]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("p",{className:"text-sm font-semibold text-blue-900",children:"Recommended Actions:"}),o.jsxs("ul",{className:"text-sm text-blue-800 space-y-1.5",children:[o.jsxs("li",{className:"flex items-start gap-2",children:[o.jsx("span",{className:"text-blue-600 mt-0.5",children:""}),o.jsx("span",{children:"Apply directly on InternSG using the Apply Now button"})]}),o.jsxs("li",{className:"flex items-start gap-2",children:[o.jsx("span",{className:"text-blue-600 mt-0.5",children:""}),o.jsx("span",{children:"Check the company's website or LinkedIn page for contact information"})]})]})]})]})]})}):o.jsx(o.Fragment,{children:C?o.jsxs("div",{className:"flex items-center justify-center py-8",children:[o.jsxs("svg",{className:"animate-spin h-8 w-8 text-brand-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[o.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),o.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),o.jsx("p",{className:"ml-3 text-sm text-slate-600",children:"Searching for HR contacts..."})]}):E.length===0?o.jsxs("div",{className:"rounded-lg bg-slate-50 border border-slate-200 p-6 text-center",children:[o.jsx("p",{className:"text-sm text-slate-600",children:"No HR contacts found for this company."}),o.jsx("p",{className:"text-xs text-slate-500 mt-2",children:"Try searching on LinkedIn or the company's careers page."})]}):o.jsx("div",{className:"space-y-3",children:E.map((O,D)=>o.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-4 hover:border-brand-300 transition",children:[o.jsx("div",{className:"flex items-start justify-between",children:o.jsxs("div",{className:"flex-1",children:[o.jsx("h4",{className:"font-semibold text-slate-900",children:O.full_name}),o.jsx("p",{className:"text-sm text-slate-600 mt-1",children:O.job_title}),o.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:[O.city,", ",O.country]})]})}),o.jsxs("div",{className:"mt-3 flex flex-wrap gap-2",children:[O.email&&o.jsxs("button",{onClick:()=>qo(O.email),className:"inline-flex items-center gap-1 rounded-md bg-brand-50 px-3 py-1.5 text-xs font-medium text-brand-700 hover:bg-brand-100 transition",children:[o.jsx("svg",{className:"h-3 w-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),O.email]}),O.linkedin&&o.jsxs("a",{href:O.linkedin,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1 rounded-md bg-blue-50 px-3 py-1.5 text-xs font-medium text-blue-700 hover:bg-blue-100 transition",children:[o.jsx("svg",{className:"h-3 w-3",fill:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{d:"M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"})}),"LinkedIn"]}),o.jsxs("button",{onClick:()=>Ko(O),disabled:Rt,className:"inline-flex items-center gap-1 rounded-md bg-purple-50 px-3 py-1.5 text-xs font-medium text-purple-700 hover:bg-purple-100 transition disabled:opacity-50",children:[o.jsx("svg",{className:"h-3 w-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),Rt&&($e==null?void 0:$e.email)===O.email?"Generating...":"Draft Message"]})]}),re&&($e==null?void 0:$e.email)===O.email&&o.jsxs("div",{className:"mt-4 rounded-lg border border-purple-200 bg-purple-50 p-4",children:[o.jsxs("div",{className:"flex items-start justify-between mb-2",children:[o.jsx("h5",{className:"text-xs font-semibold text-purple-800 uppercase tracking-wide",children:"Generated Outreach Message"}),o.jsxs("button",{onClick:Go,className:"text-xs text-purple-700 hover:text-purple-900 font-medium flex items-center gap-1",children:[o.jsx("svg",{className:"h-3 w-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})}),"Copy"]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-xs font-semibold text-purple-700",children:"Subject:"}),o.jsx("p",{className:"text-sm text-purple-900",children:re.subject})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs font-semibold text-purple-700",children:"Message:"}),o.jsx("p",{className:"text-sm text-purple-900 whitespace-pre-wrap",children:re.body})]})]})]})]},D))})})})}),o.jsx(Vs,{open:m==="materials",title:"Application Materials",description:`${k.length} generated ${k.length===1?"document":"documents"} for this position`,onClose:()=>f(null),children:o.jsx("div",{className:"space-y-4",children:k.length===0?o.jsxs("div",{className:"rounded-lg bg-slate-50 border border-slate-200 p-6 text-center",children:[o.jsx("p",{className:"text-sm text-slate-600",children:"No materials generated yet."}),o.jsx("p",{className:"text-xs text-slate-500 mt-2",children:"Use the buttons on the job page to generate a resume or cover letter."})]}):k.map(O=>o.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-6",children:[o.jsxs("div",{className:"flex items-start justify-between mb-4",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:`p-2 rounded-lg ${O.material_type==="resume"?"bg-indigo-100 text-indigo-700":"bg-purple-100 text-purple-700"}`,children:o.jsx(er,{className:"h-5 w-5"})}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-slate-900 capitalize",children:O.material_type.replace("_"," ")}),o.jsxs("p",{className:"text-xs text-slate-500",children:["Generated ",new Date(O.created_at).toLocaleDateString()," at"," ",new Date(O.created_at).toLocaleTimeString()]})]})]}),o.jsxs("button",{onClick:()=>{navigator.clipboard.writeText(O.content),p("Content copied to clipboard!"),y("success"),setTimeout(()=>y("idle"),2e3)},className:"inline-flex items-center gap-1 rounded-md bg-slate-100 px-3 py-1.5 text-xs font-medium text-slate-700 hover:bg-slate-200 transition",children:[o.jsx("svg",{className:"h-3 w-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})}),"Copy"]})]}),o.jsx("div",{className:"rounded-md border border-slate-200 bg-slate-50 p-4 max-h-96 overflow-y-auto",children:o.jsx("pre",{className:"text-sm text-slate-700 whitespace-pre-wrap font-sans",children:O.content})}),O.metadata&&o.jsxs("div",{className:"mt-3 text-xs text-slate-500",children:[o.jsx("span",{className:"font-semibold",children:"Tone:"})," ",O.metadata.tone||"Professional"]})]},O.id))})}),o.jsx(Vs,{open:m==="assess",title:"Assess Fit with LLM",description:"Get detailed analysis of how well you match this role",onClose:()=>f(null),footer:o.jsxs("div",{className:"flex gap-3 justify-end",children:[o.jsx("button",{type:"button",onClick:()=>f(null),className:"rounded-lg border border-slate-300 bg-white px-4 py-2 text-sm font-medium text-slate-700 hover:bg-slate-50",children:"Cancel"}),o.jsx("button",{type:"button",onClick:()=>Gi(!1),className:"rounded-lg bg-brand-600 px-4 py-2 text-sm font-medium text-white hover:bg-brand-700",children:"Run Assessment"})]}),children:o.jsxs("div",{className:"space-y-4",children:[o.jsx("p",{className:"text-sm text-slate-600",children:"This will use AI to analyze your profile against the job requirements and provide detailed recommendations. The analysis typically takes 10-15 seconds."}),o.jsxs("div",{className:"rounded-lg bg-blue-50 border border-blue-200 p-4",children:[o.jsx("h4",{className:"text-sm font-semibold text-blue-900 mb-2",children:"What you'll get:"}),o.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[o.jsx("li",{children:" Updated COMPASS score based on this specific role"}),o.jsx("li",{children:" Detailed breakdown across 6 dimensions"}),o.jsx("li",{children:" Personalized recommendations to improve your match"})]})]})]})}),o.jsx(Vs,{open:m==="report",title:"Job Fit Assessment Report",description:S?`Analysis for ${S.role_title} at ${r.company}`:"",onClose:()=>f(null),footer:o.jsxs("div",{className:"flex gap-3 justify-between w-full",children:[o.jsx("div",{className:"flex items-center gap-2",children:(S==null?void 0:S.from_cache)&&o.jsx("span",{className:"text-xs text-slate-500 italic",children:" Loaded from previous analysis"})}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{type:"button",onClick:()=>{f(null),Gi(!0)},className:"rounded-lg border border-brand-600 bg-white px-4 py-2 text-sm font-medium text-brand-600 hover:bg-brand-50",children:" Regenerate"}),o.jsx("button",{type:"button",onClick:()=>f(null),className:"rounded-lg bg-brand-600 px-4 py-2 text-sm font-medium text-white hover:bg-brand-700",children:"Close"})]})]}),children:S&&o.jsxs("div",{className:"space-y-6 max-h-[70vh] overflow-y-auto",children:[o.jsxs("div",{className:"rounded-lg bg-gradient-to-br from-brand-50 to-blue-50 border border-brand-200 p-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsxs("h3",{className:"text-2xl font-bold text-slate-900",children:[S.overall_score,"/100"]}),o.jsx("p",{className:"text-sm text-slate-600 mt-1",children:"Overall Match Score"})]}),o.jsx("div",{className:`inline-flex items-center rounded-full px-4 py-2 text-sm font-semibold ${S.decision==="strong_match"?"bg-green-100 text-green-800":S.decision==="possible_match"?"bg-yellow-100 text-yellow-800":S.decision==="weak_match"?"bg-orange-100 text-orange-800":"bg-red-100 text-red-800"}`,children:S.decision.replace("_"," ").toUpperCase()})]}),o.jsxs("div",{className:"mt-4 pt-4 border-t border-brand-200",children:[o.jsx("p",{className:"text-xs text-slate-500 uppercase tracking-wide font-semibold mb-2",children:"Must-Have Coverage"}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"flex-1 bg-white rounded-full h-3 overflow-hidden",children:o.jsx("div",{className:"bg-brand-600 h-full rounded-full transition-all duration-500",style:{width:`${S.must_have_coverage*100}%`}})}),o.jsxs("span",{className:"text-sm font-semibold text-slate-700",children:[Math.round(S.must_have_coverage*100),"%"]})]})]})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-sm font-semibold uppercase tracking-wide text-slate-500 mb-3",children:"Detailed Subscores"}),o.jsx("div",{className:"grid grid-cols-2 gap-3",children:Object.entries(S.subscores).map(([O,D])=>o.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-4",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("span",{className:"text-xs font-medium text-slate-600 capitalize",children:O.replace(/_/g," ")}),o.jsxs("span",{className:"text-lg font-bold text-brand-600",children:[D,"/5"]})]}),o.jsx("div",{className:"bg-slate-100 rounded-full h-2 overflow-hidden",children:o.jsx("div",{className:"bg-brand-600 h-full rounded-full transition-all",style:{width:`${D/5*100}%`}})})]},O))})]}),(S.evidence.matched_must_haves.length>0||S.evidence.matched_nice_to_haves.length>0)&&o.jsxs("div",{children:[o.jsx("h4",{className:"text-sm font-semibold uppercase tracking-wide text-slate-500 mb-3",children:" Strengths & Matches"}),o.jsxs("div",{className:"space-y-4",children:[S.evidence.matched_must_haves.length>0&&o.jsxs("div",{className:"rounded-lg border border-green-200 bg-green-50 p-4",children:[o.jsx("h5",{className:"text-xs font-semibold text-green-800 uppercase tracking-wide mb-2",children:"Matched Must-Haves"}),o.jsx("ul",{className:"space-y-1",children:S.evidence.matched_must_haves.map((O,D)=>o.jsxs("li",{className:"text-sm text-green-900 flex items-start gap-2",children:[o.jsx("span",{className:"text-green-600 mt-0.5",children:""}),o.jsx("span",{children:O})]},D))})]}),S.evidence.matched_nice_to_haves.length>0&&o.jsxs("div",{className:"rounded-lg border border-blue-200 bg-blue-50 p-4",children:[o.jsx("h5",{className:"text-xs font-semibold text-blue-800 uppercase tracking-wide mb-2",children:"Matched Nice-to-Haves"}),o.jsx("ul",{className:"space-y-1",children:S.evidence.matched_nice_to_haves.map((O,D)=>o.jsxs("li",{className:"text-sm text-blue-900 flex items-start gap-2",children:[o.jsx("span",{className:"text-blue-600 mt-0.5",children:""}),o.jsx("span",{children:O})]},D))})]}),S.evidence.impact_highlights.length>0&&o.jsxs("div",{className:"rounded-lg border border-purple-200 bg-purple-50 p-4",children:[o.jsx("h5",{className:"text-xs font-semibold text-purple-800 uppercase tracking-wide mb-2",children:"Impact Highlights"}),o.jsx("ul",{className:"space-y-1",children:S.evidence.impact_highlights.map((O,D)=>o.jsxs("li",{className:"text-sm text-purple-900 flex items-start gap-2",children:[o.jsx("span",{className:"text-purple-600 mt-0.5",children:""}),o.jsx("span",{children:O})]},D))})]}),S.evidence.tools_stack_matched.length>0&&o.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 p-4",children:[o.jsx("h5",{className:"text-xs font-semibold text-slate-800 uppercase tracking-wide mb-2",children:"Tools & Tech Stack"}),o.jsx("div",{className:"flex flex-wrap gap-2",children:S.evidence.tools_stack_matched.map((O,D)=>o.jsx("span",{className:"inline-block rounded-full bg-white border border-slate-300 px-3 py-1 text-xs font-medium text-slate-700",children:O},D))})]})]})]}),(S.gaps.missing_must_haves.length>0||S.gaps.risks.length>0)&&o.jsxs("div",{children:[o.jsx("h4",{className:"text-sm font-semibold uppercase tracking-wide text-slate-500 mb-3",children:" Gaps & Areas for Improvement"}),o.jsxs("div",{className:"space-y-4",children:[S.gaps.missing_must_haves.length>0&&o.jsxs("div",{className:"rounded-lg border border-red-200 bg-red-50 p-4",children:[o.jsx("h5",{className:"text-xs font-semibold text-red-800 uppercase tracking-wide mb-2",children:"Missing Must-Haves"}),o.jsx("ul",{className:"space-y-1",children:S.gaps.missing_must_haves.map((O,D)=>o.jsxs("li",{className:"text-sm text-red-900 flex items-start gap-2",children:[o.jsx("span",{className:"text-red-600 mt-0.5",children:""}),o.jsx("span",{children:O})]},D))})]}),S.gaps.risks.length>0&&o.jsxs("div",{className:"rounded-lg border border-orange-200 bg-orange-50 p-4",children:[o.jsx("h5",{className:"text-xs font-semibold text-orange-800 uppercase tracking-wide mb-2",children:"Potential Risks"}),o.jsx("ul",{className:"space-y-1",children:S.gaps.risks.map((O,D)=>o.jsxs("li",{className:"text-sm text-orange-900 flex items-start gap-2",children:[o.jsx("span",{className:"text-orange-600 mt-0.5",children:""}),o.jsx("span",{children:O})]},D))})]})]})]}),S.recommendations_to_candidate.length>0&&o.jsxs("div",{children:[o.jsx("h4",{className:"text-sm font-semibold uppercase tracking-wide text-slate-500 mb-3",children:" Recommendations for You"}),o.jsx("div",{className:"rounded-lg border border-brand-200 bg-brand-50 p-4",children:o.jsx("ul",{className:"space-y-2",children:S.recommendations_to_candidate.map((O,D)=>o.jsxs("li",{className:"text-sm text-slate-700 flex items-start gap-3",children:[o.jsx("span",{className:"inline-flex items-center justify-center w-6 h-6 rounded-full bg-brand-600 text-white text-xs font-bold flex-shrink-0 mt-0.5",children:D+1}),o.jsx("span",{children:O})]},D))})})]}),S.questions_for_interview.length>0&&o.jsxs("div",{children:[o.jsx("h4",{className:"text-sm font-semibold uppercase tracking-wide text-slate-500 mb-3",children:" Suggested Interview Questions"}),o.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 p-4",children:[o.jsx("p",{className:"text-xs text-slate-500 mb-3",children:"Questions the hiring manager might ask based on your profile:"}),o.jsx("ul",{className:"space-y-2",children:S.questions_for_interview.map((O,D)=>o.jsx("li",{className:"text-sm text-slate-700 flex items-start gap-3 pl-4 border-l-2 border-brand-400",children:o.jsx("span",{children:O})},D))})]})]}),S.notes&&o.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 p-4",children:[o.jsx("h5",{className:"text-xs font-semibold text-slate-600 uppercase tracking-wide mb-2",children:"Additional Notes"}),o.jsx("p",{className:"text-sm text-slate-700",children:S.notes})]})]})}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[o.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[o.jsxs("div",{className:"rounded-3xl border border-slate-200 bg-white p-8 shadow-card",children:[o.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-4",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm uppercase tracking-wide text-slate-500",children:r.company}),o.jsx("h1",{className:"text-3xl font-semibold text-slate-900",children:r.title}),o.jsxs("p",{className:"mt-2 text-sm text-slate-500",children:[r.location,"  ",r.industry]})]}),o.jsx(ev,{value:Cn,verdict:Qo})]}),o.jsx("div",{className:"mt-6 text-sm leading-relaxed text-slate-600",dangerouslySetInnerHTML:{__html:r.description.replace(/^#{1,3}\s+(.+)$/gm,'<h3 class="text-base font-bold text-slate-900 mt-6 mb-3">$1</h3>').replace(/^([^:\n]+):$/gm,'<p class="font-semibold text-slate-900 mt-4 mb-2">$1:</p>').split(`

`).map(O=>O.trim().startsWith("<")?O:`<p class="mb-4">${O.replace(/\n/g,"<br />")}</p>`).join("")}})]}),o.jsxs("div",{className:"rounded-3xl border border-slate-200 bg-white p-8 shadow-card",children:[o.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:gap-3",children:[o.jsx("button",{type:"button",onClick:S?()=>f("report"):En,disabled:x==="loading",className:"rounded-lg bg-brand-600 px-5 py-2 text-sm font-semibold text-white shadow-sm transition hover:bg-brand-700 disabled:opacity-60 disabled:cursor-not-allowed",children:x==="loading"?"Analyzing...":S?"View Assessment Report":"Assess fit with my profile"}),o.jsx("button",{type:"button",onClick:Ho,disabled:x==="loading",className:"rounded-lg border border-slate-200 px-5 py-2 text-sm font-semibold text-slate-600 shadow-sm transition hover:border-slate-300 hover:bg-slate-50 hover:text-slate-700 disabled:opacity-60 disabled:cursor-not-allowed",children:"Contact HR"}),o.jsx("button",{type:"button",onClick:Wo,disabled:b,className:"inline-flex items-center justify-center rounded-lg border border-brand-200 px-5 py-2 text-sm font-semibold text-brand-600 hover:border-brand-400 hover:text-brand-700 disabled:opacity-60 disabled:cursor-not-allowed",children:b?o.jsxs(o.Fragment,{children:[o.jsx("svg",{className:"mr-2 h-4 w-4",fill:"currentColor",viewBox:"0 0 20 20",children:o.jsx("path",{fillRule:"evenodd",d:"M16.704 4.153a.75.75 0 01.143 1.052l-8 10.5a.75.75 0 01-1.127.075l-4.5-4.5a.75.75 0 011.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 011.05-.143z",clipRule:"evenodd"})}),"Applied"]}):o.jsxs(o.Fragment,{children:[o.jsx("svg",{className:"mr-2 h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})}),"Apply Now"]})})]}),o.jsxs("div",{className:"mt-6 pt-6 border-t border-slate-200",children:[o.jsx("h4",{className:"text-xs font-semibold uppercase tracking-wide text-slate-500 mb-3",children:" Application Materials"}),o.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:gap-3",children:[o.jsxs("button",{type:"button",onClick:Ze,disabled:B,className:"inline-flex items-center justify-center rounded-lg border border-indigo-200 bg-indigo-50 px-4 py-2 text-sm font-semibold text-indigo-700 hover:border-indigo-300 hover:bg-indigo-100 disabled:opacity-60 disabled:cursor-not-allowed transition",children:[o.jsx(er,{className:"mr-2 h-4 w-4"}),B?"Generating...":"Generate Resume"]}),o.jsxs("button",{type:"button",onClick:Vt,disabled:Q,className:"inline-flex items-center justify-center rounded-lg border border-purple-200 bg-purple-50 px-4 py-2 text-sm font-semibold text-purple-700 hover:border-purple-300 hover:bg-purple-100 disabled:opacity-60 disabled:cursor-not-allowed transition",children:[o.jsx(er,{className:"mr-2 h-4 w-4"}),Q?"Generating...":"Generate Cover Letter"]}),k.length>0&&o.jsxs("button",{type:"button",onClick:zo,className:"inline-flex items-center justify-center rounded-lg border border-slate-200 px-4 py-2 text-sm font-semibold text-slate-600 hover:border-slate-300 hover:bg-slate-50 disabled:opacity-60 disabled:cursor-not-allowed transition",children:[o.jsx(mS,{className:"mr-2 h-4 w-4"}),"View Materials (",k.length,")"]})]})]}),x==="loading"&&o.jsx("p",{className:"mt-4 text-sm text-slate-500",children:"Processing your request..."}),x==="success"&&o.jsx("div",{className:"mt-4 rounded-lg bg-green-50 border border-green-200 px-4 py-3",children:o.jsx("p",{className:"text-sm text-green-800",children:w})}),x==="error"&&o.jsx("div",{className:"mt-4 rounded-lg bg-red-50 border border-red-200 px-4 py-3",children:o.jsx("p",{className:"text-sm text-red-800",children:w})})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsx(Yg,{score:d}),o.jsxs("div",{className:"rounded-3xl border border-slate-200 bg-white p-6",children:[o.jsx("h3",{className:"text-sm font-semibold uppercase tracking-wide text-slate-500",children:"EP Rationale"}),o.jsxs("ul",{className:"mt-4 space-y-2 text-sm text-slate-600",children:[((d==null?void 0:d.notes)??r.rationale??[]).map(O=>o.jsxs("li",{children:["- ",O]},O)),((d==null?void 0:d.notes)??r.rationale??[]).length===0&&o.jsx("li",{children:"No rationale provided."})]})]})]})]}),o.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[o.jsx(Xg,{profile:s,title:"Your Profile Snapshot"}),r&&!S&&o.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-5",children:[o.jsx("h3",{className:"text-sm font-semibold uppercase tracking-wide text-slate-500",children:"Keep improving"}),o.jsxs("ul",{className:"mt-3 space-y-2 text-sm text-slate-600",children:[o.jsx("li",{children:"- Update your profile after tweaking your resume."}),o.jsx("li",{children:"- Save tips and integrate them before re-assessment."}),o.jsx("li",{children:"- Track mock applications from the top navigation."})]})]}),S&&o.jsxs("div",{className:"rounded-2xl border border-brand-200 bg-gradient-to-br from-brand-50 to-blue-50 p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h3",{className:"text-sm font-semibold uppercase tracking-wide text-brand-700",children:" Detailed Assessment Available"}),S.from_cache&&o.jsx("span",{className:"text-xs bg-white rounded-full px-2 py-1 text-slate-600 border border-slate-200",children:"Cached"})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("div",{className:"flex-shrink-0",children:[o.jsx("div",{className:"text-4xl font-bold text-brand-600",children:S.overall_score}),o.jsx("div",{className:"text-xs text-slate-600 text-center",children:"/ 100"})]}),o.jsxs("div",{className:"flex-1",children:[o.jsx("div",{className:`inline-flex items-center rounded-full px-3 py-1 text-sm font-semibold ${S.decision==="strong_match"?"bg-green-100 text-green-800":S.decision==="possible_match"?"bg-yellow-100 text-yellow-800":S.decision==="weak_match"?"bg-orange-100 text-orange-800":"bg-red-100 text-red-800"}`,children:S.decision.replace("_"," ").toUpperCase()}),o.jsxs("div",{className:"mt-2",children:[o.jsx("div",{className:"text-xs text-slate-500 mb-1",children:"Must-Have Coverage"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"flex-1 bg-white rounded-full h-2 overflow-hidden",children:o.jsx("div",{className:"bg-brand-600 h-full rounded-full transition-all",style:{width:`${S.must_have_coverage*100}%`}})}),o.jsxs("span",{className:"text-xs font-semibold text-brand-700",children:[Math.round(S.must_have_coverage*100),"%"]})]})]})]})]}),o.jsxs("div",{className:"pt-4 border-t border-brand-200",children:[o.jsx("div",{className:"text-xs text-slate-600 mb-2",children:"Quick Stats:"}),o.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[o.jsxs("div",{className:"bg-white rounded-lg px-3 py-2 border border-slate-200",children:[o.jsx("div",{className:"text-slate-500",children:"Matched Must-Haves"}),o.jsx("div",{className:"font-semibold text-green-700",children:S.evidence.matched_must_haves.length})]}),o.jsxs("div",{className:"bg-white rounded-lg px-3 py-2 border border-slate-200",children:[o.jsx("div",{className:"text-slate-500",children:"Missing Must-Haves"}),o.jsx("div",{className:"font-semibold text-red-700",children:S.gaps.missing_must_haves.length})]}),o.jsxs("div",{className:"bg-white rounded-lg px-3 py-2 border border-slate-200",children:[o.jsx("div",{className:"text-slate-500",children:"Recommendations"}),o.jsx("div",{className:"font-semibold text-brand-700",children:S.recommendations_to_candidate.length})]}),o.jsxs("div",{className:"bg-white rounded-lg px-3 py-2 border border-slate-200",children:[o.jsx("div",{className:"text-slate-500",children:"Interview Questions"}),o.jsx("div",{className:"font-semibold text-purple-700",children:S.questions_for_interview.length})]})]})]}),o.jsxs("button",{onClick:()=>f("report"),className:"w-full rounded-lg bg-brand-600 px-4 py-2.5 text-sm font-semibold text-white hover:bg-brand-700 transition flex items-center justify-center gap-2",children:[o.jsx("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"View Full Report"]})]})]})]})]})]})}function zS(){const t=Wt(),e=ee(u=>u.profile),r=ee(u=>u.applications),n=ee(u=>u.setApplications),[s,i]=j.useState("idle");if(j.useEffect(()=>{(!e||!e.id||e.id==="local-user"||!e.skills||e.skills.length===0)&&t("/assessment")},[e,t]),j.useEffect(()=>{let u=!0;return(async()=>{i("loading");try{const d=await Pj();u&&(n(d.items),i("idle"))}catch{u&&i("error")}})(),()=>{u=!1}},[n]),!e)return o.jsx("div",{className:"mx-auto max-w-5xl px-6 py-12",children:o.jsx(xo,{title:"No profile yet",description:"Complete the assessment to start tracking your job applications.",action:o.jsx(Qe,{to:"/assessment",className:"rounded-lg bg-brand-600 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-brand-700",children:"Start self-assessment"})})});const a=u=>{switch(u){case"draft":return"bg-slate-100 text-slate-700";case"sent":return"bg-blue-100 text-blue-700";case"responded":return"bg-purple-100 text-purple-700";case"interview":return"bg-green-100 text-green-700";case"offer":return"bg-emerald-100 text-emerald-700";case"rejected":return"bg-red-100 text-red-700";default:return"bg-slate-100 text-slate-700"}},l=u=>{switch(u){case"sent":return"Applied";case"responded":return"Responded";case"interview":return"Interview";case"offer":return"Offer";case"rejected":return"Rejected";case"draft":return"Draft";default:return u}};return o.jsxs("div",{className:"mx-auto max-w-6xl px-6 py-12",children:[o.jsxs("div",{className:"mb-8",children:[o.jsx("h2",{className:"text-3xl font-semibold text-slate-900",children:"My Applications"}),o.jsx("p",{className:"mt-2 text-sm text-slate-500",children:"Track and manage all your job applications in one place."})]}),s==="loading"&&o.jsx("p",{className:"text-sm text-slate-500",children:"Loading applications"}),s==="error"&&o.jsx("p",{className:"text-sm text-red-500",children:"Unable to load applications. Please try again later."}),r.length===0?o.jsx(xo,{title:"No applications yet",description:"Start applying to jobs and track your progress here.",action:o.jsx(Qe,{to:"/jobs",className:"rounded-lg bg-brand-600 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-brand-700",children:"Browse Jobs"})}):o.jsx("div",{className:"space-y-4",children:r.map(u=>o.jsx("div",{className:"rounded-2xl border border-slate-200 bg-white p-6 shadow-card hover:shadow-lg transition-shadow",children:o.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-start sm:justify-between",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:u.jobTitle}),o.jsx("p",{className:"mt-1 text-sm text-slate-600",children:u.jobCompany})]}),o.jsx("span",{className:`inline-flex items-center rounded-full px-3 py-1 text-xs font-medium ${a(u.status)}`,children:l(u.status)})]}),u.notes&&o.jsx("p",{className:"mt-3 text-sm text-slate-500 line-clamp-2",children:u.notes}),o.jsxs("div",{className:"mt-4 flex flex-wrap gap-4 text-xs text-slate-400",children:[u.appliedAt&&o.jsxs("span",{children:["Applied: ",new Date(u.appliedAt).toLocaleDateString()]}),o.jsxs("span",{children:["Updated: ",new Date(u.updatedAt).toLocaleDateString()]})]})]}),o.jsxs("div",{className:"flex gap-2 sm:flex-col sm:items-end",children:[u.jobUrl&&o.jsxs("a",{href:u.jobUrl,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1 text-xs font-medium text-brand-600 hover:text-brand-700",children:["View Job",o.jsx("svg",{className:"h-3 w-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})})]}),o.jsxs(Qe,{to:`/jobs/${u.jobId}`,className:"inline-flex items-center gap-1 text-xs font-medium text-slate-600 hover:text-slate-900",children:["View Details",o.jsx("svg",{className:"h-3 w-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})]})},u.id))})]})}const WS=t=>{const e=t.split(" ").filter(Boolean).slice(0,2);return e.length===0?"U":e.map(r=>{var n;return((n=r[0])==null?void 0:n.toUpperCase())??""}).join("")};function VS(){var f,x;const t=j.useRef(null),{user:e,signOut:r}=Nn(),n=ee(y=>y.profile),s=ee(y=>y.basicInfo),[i,a]=j.useState(!1),l=((f=e==null?void 0:e.user_metadata)==null?void 0:f.full_name)||(n==null?void 0:n.name)||(s==null?void 0:s.name)||"User",u=(e==null?void 0:e.email)||"",c=(x=e==null?void 0:e.user_metadata)==null?void 0:x.avatar_url,d=j.useMemo(()=>WS(l),[l]),h=j.useMemo(()=>{const y=[];return n!=null&&n.nationality&&y.push(n.nationality),(n==null?void 0:n.yearsExperience)!=null&&y.push(`${n.yearsExperience} yrs exp`),y.length>0?y.join("  "):null},[n]);j.useEffect(()=>{if(!i)return;const y=w=>{t.current&&!t.current.contains(w.target)&&a(!1)};return document.addEventListener("mousedown",y),()=>document.removeEventListener("mousedown",y)},[i]);const m=async()=>{try{await r(),a(!1)}catch(y){console.error("Sign out failed:",y)}};return o.jsxs("div",{className:"relative",ref:t,children:[o.jsxs("button",{type:"button",onClick:()=>a(y=>!y),className:"flex items-center gap-2 rounded-full border border-slate-200 bg-white px-3 py-1.5 text-sm font-medium text-slate-700 shadow-sm transition hover:bg-slate-50 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-brand-500","aria-haspopup":"menu","aria-expanded":i,children:[c?o.jsx("img",{src:c,alt:l,className:"h-8 w-8 rounded-full object-cover"}):o.jsx("span",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-brand-100 text-sm font-semibold text-brand-700",children:d}),o.jsx("span",{className:"hidden sm:inline",children:l.split(" ")[0]}),o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"h-4 w-4 text-slate-400",children:o.jsx("path",{fillRule:"evenodd",d:"M5.23 7.21a.75.75 0 011.06.02L10 11.168l3.71-3.938a.75.75 0 111.08 1.04l-4.25 4.5a.75.75 0 01-1.08 0l-4.25-4.5a.75.75 0 01.02-1.06z",clipRule:"evenodd"})})]}),i&&o.jsxs("div",{className:"absolute right-0 mt-2 w-80 origin-top-right rounded-xl border border-slate-200 bg-white shadow-xl ring-1 ring-black ring-opacity-5 focus:outline-none z-50",children:[o.jsx("div",{className:"p-4 border-b border-slate-100",children:o.jsxs("div",{className:"flex items-start gap-3",children:[c?o.jsx("img",{src:c,alt:l,className:"h-12 w-12 rounded-full object-cover flex-shrink-0"}):o.jsx("span",{className:"flex h-12 w-12 items-center justify-center rounded-full bg-brand-100 text-lg font-semibold text-brand-700 flex-shrink-0",children:d}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"text-sm font-semibold text-slate-900 truncate",children:l}),o.jsx("p",{className:"text-xs text-slate-500 truncate mt-0.5",children:u}),h&&o.jsx("p",{className:"text-xs text-slate-600 mt-1",children:h}),(n==null?void 0:n.educationLevel)&&o.jsx("div",{className:"mt-2 inline-flex items-center rounded-full bg-brand-50 px-2 py-0.5 text-xs font-medium text-brand-700",children:n.educationLevel})]})]})}),(n==null?void 0:n.latestCompassScore)&&o.jsx("div",{className:"px-4 py-3 border-b border-slate-100 bg-slate-50",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-xs font-medium text-slate-500 uppercase tracking-wide",children:"Latest COMPASS Score"}),o.jsxs("p",{className:"text-lg font-bold text-slate-900 mt-1",children:[n.latestCompassScore.totalRaw??n.latestCompassScore.total,"/110"]})]}),o.jsx("div",{className:`rounded-lg px-3 py-1 text-xs font-semibold ${n.latestCompassScore.verdict==="Likely"?"bg-green-100 text-green-700":n.latestCompassScore.verdict==="Borderline"?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700"}`,children:n.latestCompassScore.verdict})]})}),o.jsx("div",{className:"py-1",children:o.jsxs("button",{onClick:m,className:"w-full text-left px-4 py-2 text-sm text-slate-700 hover:bg-slate-50 flex items-center gap-2",children:[o.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-4 h-4",children:[o.jsx("path",{fillRule:"evenodd",d:"M3 4.25A2.25 2.25 0 015.25 2h5.5A2.25 2.25 0 0113 4.25v2a.75.75 0 01-1.5 0v-2a.75.75 0 00-.75-.75h-5.5a.75.75 0 00-.75.75v11.5c0 .414.336.75.75.75h5.5a.75.75 0 00.75-.75v-2a.75.75 0 011.5 0v2A2.25 2.25 0 0110.75 18h-5.5A2.25 2.25 0 013 15.75V4.25z",clipRule:"evenodd"}),o.jsx("path",{fillRule:"evenodd",d:"M19 10a.75.75 0 00-.75-.75H8.704l1.048-.943a.75.75 0 10-1.004-1.114l-2.5 2.25a.75.75 0 000 1.114l2.5 2.25a.75.75 0 101.004-1.114l-1.048-.943h9.546A.75.75 0 0019 10z",clipRule:"evenodd"})]}),"Sign out"]})})]})]})}const HS=t=>{const e=t.split(" ").filter(Boolean).slice(0,2);return e.length===0?"U":e.map(r=>{var n;return((n=r[0])==null?void 0:n.toUpperCase())??""}).join("")};function qS(){var c,d;const{user:t,signOut:e}=Nn(),r=ee(h=>h.profile),n=ee(h=>h.basicInfo),s=((c=t==null?void 0:t.user_metadata)==null?void 0:c.full_name)||(r==null?void 0:r.name)||(n==null?void 0:n.name)||"User",i=(t==null?void 0:t.email)||"",a=(d=t==null?void 0:t.user_metadata)==null?void 0:d.avatar_url,l=HS(s),u=async()=>{try{await e()}catch(h){console.error("Sign out failed:",h)}};return o.jsxs("div",{className:"rounded-lg bg-slate-50 p-4",children:[o.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[a?o.jsx("img",{src:a,alt:s,className:"h-12 w-12 rounded-full object-cover flex-shrink-0"}):o.jsx("span",{className:"flex h-12 w-12 items-center justify-center rounded-full bg-brand-100 text-lg font-semibold text-brand-700 flex-shrink-0",children:l}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"text-sm font-semibold text-slate-900 truncate",children:s}),o.jsx("p",{className:"text-xs text-slate-500 truncate mt-0.5",children:i}),(r==null?void 0:r.nationality)&&(r==null?void 0:r.yearsExperience)!=null&&o.jsxs("p",{className:"text-xs text-slate-600 mt-1",children:[r.nationality,"  ",r.yearsExperience," yrs exp"]}),(r==null?void 0:r.educationLevel)&&o.jsx("div",{className:"mt-2 inline-flex items-center rounded-full bg-brand-50 px-2 py-0.5 text-xs font-medium text-brand-700",children:r.educationLevel})]})]}),(r==null?void 0:r.latestCompassScore)&&o.jsx("div",{className:"rounded-lg bg-white border border-slate-200 p-3 mb-3",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-xs font-medium text-slate-500 uppercase tracking-wide",children:"Latest Score"}),o.jsxs("p",{className:"text-lg font-bold text-slate-900 mt-0.5",children:[r.latestCompassScore.totalRaw??r.latestCompassScore.total,"/110"]})]}),o.jsx("div",{className:`rounded-lg px-3 py-1.5 text-xs font-semibold ${r.latestCompassScore.verdict==="Likely"?"bg-green-100 text-green-700":r.latestCompassScore.verdict==="Borderline"?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700"}`,children:r.latestCompassScore.verdict})]})}),o.jsxs("button",{onClick:u,className:"w-full flex items-center justify-center gap-2 rounded-lg bg-white border border-slate-200 px-4 py-2.5 text-sm font-medium text-slate-700 hover:bg-slate-50 transition",children:[o.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-4 h-4",children:[o.jsx("path",{fillRule:"evenodd",d:"M3 4.25A2.25 2.25 0 015.25 2h5.5A2.25 2.25 0 0113 4.25v2a.75.75 0 01-1.5 0v-2a.75.75 0 00-.75-.75h-5.5a.75.75 0 00-.75.75v11.5c0 .414.336.75.75.75h5.5a.75.75 0 00.75-.75v-2a.75.75 0 011.5 0v2A2.25 2.25 0 0110.75 18h-5.5A2.25 2.25 0 013 15.75V4.25z",clipRule:"evenodd"}),o.jsx("path",{fillRule:"evenodd",d:"M19 10a.75.75 0 00-.75-.75H8.704l1.048-.943a.75.75 0 10-1.004-1.114l-2.5 2.25a.75.75 0 000 1.114l2.5 2.25a.75.75 0 101.004-1.114l-1.048-.943h9.546A.75.75 0 0019 10z",clipRule:"evenodd"})]}),"Sign out"]})]})}const Na=({isActive:t})=>["px-3 py-2 rounded-md text-sm font-medium transition-colors",t?"bg-brand-100 text-brand-800":"text-slate-600 hover:bg-slate-100"].join(" "),Ml=()=>"px-3 py-2 rounded-md text-sm font-medium text-slate-300 cursor-not-allowed opacity-60 relative group";function KS(){const{user:t}=Nn(),e=ee(a=>a.profile),r=ee(a=>a.loadProfileFromDB),[n,s]=j.useState(!1);j.useEffect(()=>{t&&r().catch(a=>console.warn("Failed to load profile on init",a))},[t,r]);const i=!!(e&&e.id&&e.id!=="local-user"&&e.skills&&e.skills.length>0);return o.jsx(mj,{children:o.jsxs("div",{className:"min-h-screen flex flex-col",children:[t&&o.jsxs("header",{className:"border-b bg-white sticky top-0 z-30",children:[o.jsxs("div",{className:"mx-auto flex max-w-6xl items-center justify-between px-4 sm:px-6 py-3 sm:py-4",children:[o.jsx(Qe,{to:"/",className:"text-lg sm:text-xl font-semibold text-brand-600 flex-shrink-0",children:"EP-Aware Jobs"}),o.jsxs("nav",{className:"hidden md:flex gap-2",children:[o.jsx(cr,{to:"/knowledge-base",className:Na,children:"Knowledge Base"}),i?o.jsxs(o.Fragment,{children:[o.jsx(cr,{to:"/dashboard",className:Na,children:"Dashboard"}),o.jsx(cr,{to:"/jobs",className:Na,children:"Jobs"}),o.jsx(cr,{to:"/applications",className:Na,children:"Applications"})]}):o.jsxs(o.Fragment,{children:[o.jsx("span",{"data-tour":"locked-navigation",className:Ml(),title:"Complete onboarding to unlock",children:"Dashboard"}),o.jsx("span",{className:Ml(),title:"Complete onboarding to unlock",children:"Jobs"}),o.jsx("span",{className:Ml(),title:"Complete onboarding to unlock",children:"Applications"})]})]}),o.jsx("div",{className:"hidden md:flex items-center gap-3",children:o.jsx(VS,{})}),o.jsxs("button",{type:"button",onClick:()=>s(!n),className:"md:hidden inline-flex items-center justify-center rounded-md p-2 text-slate-600 hover:bg-slate-100 hover:text-slate-900 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-brand-500","aria-expanded":n,children:[o.jsx("span",{className:"sr-only",children:"Open main menu"}),n?o.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})}):o.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"})})]})]}),n&&o.jsx("div",{className:"md:hidden border-t border-slate-200",children:o.jsxs("div",{className:"space-y-1 px-4 pb-3 pt-2",children:[o.jsx(cr,{to:"/knowledge-base",className:({isActive:a})=>`block px-3 py-2 rounded-md text-base font-medium ${a?"bg-brand-100 text-brand-800":"text-slate-600 hover:bg-slate-100 hover:text-slate-900"}`,onClick:()=>s(!1),children:"Knowledge Base"}),i?o.jsxs(o.Fragment,{children:[o.jsx(cr,{to:"/dashboard",className:({isActive:a})=>`block px-3 py-2 rounded-md text-base font-medium ${a?"bg-brand-100 text-brand-800":"text-slate-600 hover:bg-slate-100 hover:text-slate-900"}`,onClick:()=>s(!1),children:"Dashboard"}),o.jsx(cr,{to:"/jobs",className:({isActive:a})=>`block px-3 py-2 rounded-md text-base font-medium ${a?"bg-brand-100 text-brand-800":"text-slate-600 hover:bg-slate-100 hover:text-slate-900"}`,onClick:()=>s(!1),children:"Jobs"}),o.jsx(cr,{to:"/applications",className:({isActive:a})=>`block px-3 py-2 rounded-md text-base font-medium ${a?"bg-brand-100 text-brand-800":"text-slate-600 hover:bg-slate-100 hover:text-slate-900"}`,onClick:()=>s(!1),children:"Applications"})]}):o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"block px-3 py-2 rounded-md text-base font-medium text-slate-300 cursor-not-allowed",children:"Dashboard"}),o.jsx("span",{className:"block px-3 py-2 rounded-md text-base font-medium text-slate-300 cursor-not-allowed",children:"Jobs"}),o.jsx("span",{className:"block px-3 py-2 rounded-md text-base font-medium text-slate-300 cursor-not-allowed",children:"Applications"})]}),o.jsx("div",{className:"pt-4 mt-3 border-t border-slate-200",children:o.jsx(qS,{})})]})})]}),o.jsx("main",{className:"flex-1 bg-slate-50",children:o.jsxs(ub,{children:[o.jsx(Lt,{path:"/login",element:o.jsx(Bj,{})}),o.jsx(Lt,{path:"/",element:o.jsx(Fj,{})}),o.jsx(Lt,{path:"/onboarding",element:o.jsx(Kr,{children:o.jsx(RS,{})})}),o.jsx(Lt,{path:"/knowledge-base",element:o.jsx(Kr,{children:o.jsx(IS,{})})}),o.jsx(Lt,{path:"/assessment",element:o.jsx(Kr,{children:o.jsx(Zj,{})})}),o.jsx(Lt,{path:"/dashboard",element:o.jsx(Kr,{children:o.jsx(MS,{})})}),o.jsx(Lt,{path:"/jobs",element:o.jsx(Kr,{children:o.jsx(FS,{})})}),o.jsx(Lt,{path:"/jobs/:id",element:o.jsx(Kr,{children:o.jsx(BS,{})})}),o.jsx(Lt,{path:"/applications",element:o.jsx(Kr,{children:o.jsx(zS,{})})})]})}),t&&o.jsx("footer",{className:"border-t bg-white",children:o.jsxs("div",{className:"mx-auto max-w-6xl px-6 py-4 text-sm text-slate-500",children:[" ",new Date().getFullYear()," EP-Aware Jobs. Built for ultra-lean MVP validation."]})})]})})}const GS=new iw({defaultOptions:{queries:{refetchOnWindowFocus:!1,staleTime:60*1e3}}});Fl.createRoot(document.getElementById("root")).render(o.jsx(gc.StrictMode,{children:o.jsx(ow,{client:GS,children:o.jsx(vb,{children:o.jsx(KS,{})})})}));
